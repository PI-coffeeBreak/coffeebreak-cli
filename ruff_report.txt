coffeebreak/backup/__init__.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Backup and recovery system for CoffeeBreak production deployments."""
2 |
3 | / from .manager import BackupManager
4 | | from .scheduler import BackupScheduler
5 | | from .recovery import RecoveryManager
6 | | from .storage import BackupStorage
  | |__________________________________^ I001
7 |
8 |   __all__ = ["BackupManager", "BackupScheduler", "RecoveryManager", "BackupStorage"]
  |
  = help: Organize imports

coffeebreak/backup/manager.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Backup management system for production deployments."""
 2 |
 3 | / import os
 4 | | import subprocess
 5 | | import shutil
 6 | | from datetime import datetime, timedelta
 7 | | from pathlib import Path
 8 | | from typing import Dict, Any, List, Optional
 9 | | import yaml
10 | | import json
11 | |
12 | | from ..utils.errors import ConfigurationError
13 | | from .scheduler import BackupScheduler
14 | | from .recovery import RecoveryManager
15 | | from .storage import BackupStorage
   | |__________________________________^ I001
   |
   = help: Organize imports

coffeebreak/backup/manager.py:5:8: F401 [*] `shutil` imported but unused
  |
3 | import os
4 | import subprocess
5 | import shutil
  |        ^^^^^^ F401
6 | from datetime import datetime, timedelta
7 | from pathlib import Path
  |
  = help: Remove unused import: `shutil`

coffeebreak/backup/manager.py:6:32: F401 [*] `datetime.timedelta` imported but unused
  |
4 | import subprocess
5 | import shutil
6 | from datetime import datetime, timedelta
  |                                ^^^^^^^^^ F401
7 | from pathlib import Path
8 | from typing import Dict, Any, List, Optional
  |
  = help: Remove unused import: `datetime.timedelta`

coffeebreak/backup/manager.py:7:21: F401 [*] `pathlib.Path` imported but unused
  |
5 | import shutil
6 | from datetime import datetime, timedelta
7 | from pathlib import Path
  |                     ^^^^ F401
8 | from typing import Dict, Any, List, Optional
9 | import yaml
  |
  = help: Remove unused import: `pathlib.Path`

coffeebreak/backup/manager.py:8:31: F401 [*] `typing.List` imported but unused
   |
 6 | from datetime import datetime, timedelta
 7 | from pathlib import Path
 8 | from typing import Dict, Any, List, Optional
   |                               ^^^^ F401
 9 | import yaml
10 | import json
   |
   = help: Remove unused import: `typing.List`

coffeebreak/backup/manager.py:9:8: F401 [*] `yaml` imported but unused
   |
 7 | from pathlib import Path
 8 | from typing import Dict, Any, List, Optional
 9 | import yaml
   |        ^^^^ F401
10 | import json
   |
   = help: Remove unused import: `yaml`

coffeebreak/backup/manager.py:10:8: F401 [*] `json` imported but unused
   |
 8 | from typing import Dict, Any, List, Optional
 9 | import yaml
10 | import json
   |        ^^^^ F401
11 |
12 | from ..utils.errors import ConfigurationError
   |
   = help: Remove unused import: `json`

coffeebreak/backup/manager.py:12:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
10 | import json
11 |
12 | from ..utils.errors import ConfigurationError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
13 | from .scheduler import BackupScheduler
14 | from .recovery import RecoveryManager
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/backup/manager.py:138:89: E501 Line too long (98 > 88)
    |
136 |                 else:
137 |                     print(
138 |                         f"Backup system setup completed with {len(setup_result['errors'])} errors"
    |                                                                                         ^^^^^^^^^^ E501
139 |                     )
    |

coffeebreak/backup/manager.py:144:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
143 |         except Exception as e:
144 |             raise ConfigurationError(f"Failed to setup backup system: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
145 |
146 |     def _create_backup_scripts(
    |

coffeebreak/backup/manager.py:155:30: F541 [*] f-string without any placeholders
    |
153 |             if self.deployment_type == "standalone":
154 |                 scripts_dir = "/opt/coffeebreak/bin"
155 |                 backup_dir = f"/opt/coffeebreak/backups"
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
156 |             else:
157 |                 scripts_dir = "./scripts"
    |
    = help: Remove extraneous `f` prefix

coffeebreak/backup/manager.py:190:1: W293 Blank line contains whitespace
    |
188 |     local error_msg="$1"
189 |     log_message "ERROR: $error_msg"
190 |     
    | ^^^^ W293
191 |     # Send alert if notification script exists
192 |     if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:195:1: W293 Blank line contains whitespace
    |
193 |         /opt/coffeebreak/bin/notify.sh "Backup Failed" "$error_msg"
194 |     fi
195 |     
    | ^^^^ W293
196 |     exit 1
197 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:204:1: W293 Blank line contains whitespace
    |
202 |     local backup_type="$1"
203 |     local backup_path="$BACKUP_DIR/$backup_type/$timestamp"
204 |     
    | ^^^^ W293
205 |     mkdir -p "$backup_path"
206 |     echo "$backup_path"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:214:1: W293 Blank line contains whitespace
    |
212 |     local backup_name="$(basename "$backup_path")"
213 |     local parent_dir="$(dirname "$backup_path")"
214 |     
    | ^^^^ W293
215 |     cd "$parent_dir"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:216:1: W293 Blank line contains whitespace
    |
215 |     cd "$parent_dir"
216 |     
    | ^^^^ W293
217 |     if [ "$ENABLE_COMPRESSION" = "true" ]; then
218 |         log_message "Compressing backup: $backup_name"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:223:1: W293 Blank line contains whitespace
    |
221 |         backup_name="${{backup_name}}.tar.gz"
222 |     fi
223 |     
    | ^^^^ W293
224 |     if [ "$ENABLE_ENCRYPTION" = "true" ]; then
225 |         log_message "Encrypting backup: $backup_name"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:227:89: E501 Line too long (113 > 88)
    |
225 |         log_message "Encrypting backup: $backup_name"
226 |         if command -v gpg &> /dev/null; then
227 |             gpg --symmetric --cipher-algo AES256 --compress-algo 1 --output "${{backup_name}}.gpg" "$backup_name"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^ E501
228 |             rm -f "$backup_name"
229 |             backup_name="${{backup_name}}.gpg"
    |

coffeebreak/backup/manager.py:234:1: W293 Blank line contains whitespace
    |
232 |         fi
233 |     fi
234 |     
    | ^^^^ W293
235 |     log_message "Backup finalized: $parent_dir/$backup_name"
236 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:241:1: W293 Blank line contains whitespace
    |
239 | backup_postgresql() {{
240 |     log_message "Starting PostgreSQL backup"
241 |     
    | ^^^^ W293
242 |     local backup_path=$(create_backup_dir "postgresql")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:243:1: W293 Blank line contains whitespace
    |
242 |     local backup_path=$(create_backup_dir "postgresql")
243 |     
    | ^^^^ W293
244 |     # Get list of databases
245 |     local databases
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:247:89: E501 Line too long (156 > 88)
    |
245 | …
246 | …
247 | …name FROM pg_database WHERE NOT datistemplate AND datname != 'postgres';" 2>/dev/null || echo "")
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
248 | …
249 | …ing database backup"
    |

coffeebreak/backup/manager.py:252:1: W293 Blank line contains whitespace
    |
250 |         return 0
251 |     fi
252 |     
    | ^^^^ W293
253 |     if [ -n "$databases" ]; then
254 |         for db in $databases; do
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:258:89: E501 Line too long (135 > 88)
    |
256 | …
257 | …QL database: $db"
258 | … "$backup_path/${{db}}.sql" || handle_error "Failed to backup PostgreSQL database: $db"
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
259 | …
260 | …
    |

coffeebreak/backup/manager.py:261:1: W293 Blank line contains whitespace
    |
259 |             fi
260 |         done
261 |         
    | ^^^^^^^^ W293
262 |         # Backup globals (users, roles, etc.)
263 |         log_message "Backing up PostgreSQL globals"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:264:89: E501 Line too long (133 > 88)
    |
262 |         # Backup globals (users, roles, etc.)
263 |         log_message "Backing up PostgreSQL globals"
264 |         sudo -u postgres pg_dumpall --globals-only > "$backup_path/globals.sql" || handle_error "Failed to backup PostgreSQL globals"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
265 |         
266 |         finalize_backup "$backup_path"
    |

coffeebreak/backup/manager.py:265:1: W293 Blank line contains whitespace
    |
263 |         log_message "Backing up PostgreSQL globals"
264 |         sudo -u postgres pg_dumpall --globals-only > "$backup_path/globals.sql" || handle_error "Failed to backup PostgreSQL globals"
265 |         
    | ^^^^^^^^ W293
266 |         finalize_backup "$backup_path"
267 |     else
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:276:1: W293 Blank line contains whitespace
    |
274 | backup_mongodb() {{
275 |     log_message "Starting MongoDB backup"
276 |     
    | ^^^^ W293
277 |     local backup_path=$(create_backup_dir "mongodb")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:278:1: W293 Blank line contains whitespace
    |
277 |     local backup_path=$(create_backup_dir "mongodb")
278 |     
    | ^^^^ W293
279 |     if systemctl is-active --quiet mongod || pgrep mongod > /dev/null; then
280 |         log_message "Backing up MongoDB databases"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:292:1: W293 Blank line contains whitespace
    |
290 | backup_files() {{
291 |     log_message "Starting file backup"
292 |     
    | ^^^^ W293
293 |     local backup_path=$(create_backup_dir "files")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:294:1: W293 Blank line contains whitespace
    |
293 |     local backup_path=$(create_backup_dir "files")
294 |     
    | ^^^^ W293
295 |     # List of directories to backup
296 |     local dirs_to_backup=(
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:302:1: W293 Blank line contains whitespace
    |
300 |         "/var/log/coffeebreak"
301 |     )
302 |     
    | ^^^^ W293
303 |     for dir in "${{dirs_to_backup[@]}}"; do
304 |         if [ -d "$dir" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:306:89: E501 Line too long (91 > 88)
    |
304 |         if [ -d "$dir" ]; then
305 |             log_message "Backing up directory: $dir"
306 |             cp -r "$dir" "$backup_path/" || handle_error "Failed to backup directory: $dir"
    |                                                                                         ^^^ E501
307 |         fi
308 |     done
    |

coffeebreak/backup/manager.py:309:1: W293 Blank line contains whitespace
    |
307 |         fi
308 |     done
309 |     
    | ^^^^ W293
310 |     # Backup Docker volumes if Docker deployment
311 |     if [ -f "/usr/bin/docker" ] && docker ps -q > /dev/null 2>&1; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:314:1: W293 Blank line contains whitespace
    |
312 |         log_message "Backing up Docker volumes"
313 |         mkdir -p "$backup_path/docker-volumes"
314 |         
    | ^^^^^^^^ W293
315 |         # Get CoffeeBreak-related volumes
316 |         local volumes=$(docker volume ls --filter name=coffeebreak --format "{{{{.Name}}}}" 2>/dev/null || echo "")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:316:89: E501 Line too long (115 > 88)
    |
315 |         # Get CoffeeBreak-related volumes
316 |         local volumes=$(docker volume ls --filter name=coffeebreak --format "{{{{.Name}}}}" 2>/dev/null || echo "")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
317 |         
318 |         for volume in $volumes; do
    |

coffeebreak/backup/manager.py:317:1: W293 Blank line contains whitespace
    |
315 |         # Get CoffeeBreak-related volumes
316 |         local volumes=$(docker volume ls --filter name=coffeebreak --format "{{{{.Name}}}}" 2>/dev/null || echo "")
317 |         
    | ^^^^^^^^ W293
318 |         for volume in $volumes; do
319 |             if [ -n "$volume" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:321:89: E501 Line too long (208 > 88)
    |
319 | …
320 | …
321 | …s:/backup" ubuntu tar czf "/backup/${{volume}}.tar.gz" -C /source . || log_message "WARNING: Failed to backup volume $volume"
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
322 | …
323 | …
    |

coffeebreak/backup/manager.py:325:1: W293 Blank line contains whitespace
    |
323 |         done
324 |     fi
325 |     
    | ^^^^ W293
326 |     finalize_backup "$backup_path"
327 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:332:1: W293 Blank line contains whitespace
    |
330 | backup_configs() {{
331 |     log_message "Starting configuration backup"
332 |     
    | ^^^^ W293
333 |     local backup_path=$(create_backup_dir "configs")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:334:1: W293 Blank line contains whitespace
    |
333 |     local backup_path=$(create_backup_dir "configs")
334 |     
    | ^^^^ W293
335 |     # List of config files/directories to backup
336 |     local configs_to_backup=(
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:344:1: W293 Blank line contains whitespace
    |
342 |         "/etc/logrotate.d/coffeebreak"
343 |     )
344 |     
    | ^^^^ W293
345 |     for config in "${{configs_to_backup[@]}}"; do
346 |         if [ -e "$config" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:348:1: W293 Blank line contains whitespace
    |
346 |         if [ -e "$config" ]; then
347 |             log_message "Backing up config: $config"
348 |             
    | ^^^^^^^^^^^^ W293
349 |             # Create directory structure in backup
350 |             local relative_path="${{config#/}}"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:353:1: W293 Blank line contains whitespace
    |
351 |             local backup_config_path="$backup_path/$relative_path"
352 |             mkdir -p "$(dirname "$backup_config_path")"
353 |             
    | ^^^^^^^^^^^^ W293
354 |             cp -r "$config" "$backup_config_path" 2>/dev/null || log_message "WARNING: Failed to backup config: $config"
355 |         fi
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:354:89: E501 Line too long (120 > 88)
    |
352 |             mkdir -p "$(dirname "$backup_config_path")"
353 |             
354 |             cp -r "$config" "$backup_config_path" 2>/dev/null || log_message "WARNING: Failed to backup config: $config"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
355 |         fi
356 |     done
    |

coffeebreak/backup/manager.py:357:1: W293 Blank line contains whitespace
    |
355 |         fi
356 |     done
357 |     
    | ^^^^ W293
358 |     # Backup Docker Compose files if they exist
359 |     if [ -f "docker-compose.yml" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:361:89: E501 Line too long (107 > 88)
    |
359 |     if [ -f "docker-compose.yml" ]; then
360 |         log_message "Backing up Docker Compose configuration"
361 |         cp docker-compose.yml "$backup_path/" || log_message "WARNING: Failed to backup docker-compose.yml"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^ E501
362 |     fi
    |

coffeebreak/backup/manager.py:363:1: W293 Blank line contains whitespace
    |
361 |         cp docker-compose.yml "$backup_path/" || log_message "WARNING: Failed to backup docker-compose.yml"
362 |     fi
363 |     
    | ^^^^ W293
364 |     finalize_backup "$backup_path"
365 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:370:1: W293 Blank line contains whitespace
    |
368 | cleanup_old_backups() {{
369 |     log_message "Cleaning up backups older than $RETENTION_DAYS days"
370 |     
    | ^^^^ W293
371 |     find "$BACKUP_DIR" -type f -mtime +$RETENTION_DAYS -delete 2>/dev/null || true
372 |     find "$BACKUP_DIR" -type d -empty -delete 2>/dev/null || true
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:373:1: W293 Blank line contains whitespace
    |
371 |     find "$BACKUP_DIR" -type f -mtime +$RETENTION_DAYS -delete 2>/dev/null || true
372 |     find "$BACKUP_DIR" -type d -empty -delete 2>/dev/null || true
373 |     
    | ^^^^ W293
374 |     log_message "Backup cleanup completed"
375 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:380:1: W293 Blank line contains whitespace
    |
378 | verify_backups() {{
379 |     log_message "Verifying recent backups"
380 |     
    | ^^^^ W293
381 |     local today=$(date +%Y%m%d)
382 |     local recent_backups=$(find "$BACKUP_DIR" -name "*$today*" -type f 2>/dev/null || echo "")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:382:89: E501 Line too long (94 > 88)
    |
381 |     local today=$(date +%Y%m%d)
382 |     local recent_backups=$(find "$BACKUP_DIR" -name "*$today*" -type f 2>/dev/null || echo "")
    |                                                                                         ^^^^^^ E501
383 |     
384 |     for backup_file in $recent_backups; do
    |

coffeebreak/backup/manager.py:383:1: W293 Blank line contains whitespace
    |
381 |     local today=$(date +%Y%m%d)
382 |     local recent_backups=$(find "$BACKUP_DIR" -name "*$today*" -type f 2>/dev/null || echo "")
383 |     
    | ^^^^ W293
384 |     for backup_file in $recent_backups; do
385 |         if [[ "$backup_file" == *.tar.gz ]]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:404:1: W293 Blank line contains whitespace
    |
402 | main() {{
403 |     local backup_type="${{1:-incremental}}"
404 |     
    | ^^^^ W293
405 |     log_message "Starting CoffeeBreak backup (type: $backup_type)"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:406:1: W293 Blank line contains whitespace
    |
405 |     log_message "Starting CoffeeBreak backup (type: $backup_type)"
406 |     
    | ^^^^ W293
407 |     # Create backup directory structure
408 |     mkdir -p "$BACKUP_DIR"/{{postgresql,mongodb,files,configs}}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:409:1: W293 Blank line contains whitespace
    |
407 |     # Create backup directory structure
408 |     mkdir -p "$BACKUP_DIR"/{{postgresql,mongodb,files,configs}}
409 |     
    | ^^^^ W293
410 |     # Perform backups based on configuration
411 |     if [ "{config.get("backup_databases", True)}" = "True" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:415:1: W293 Blank line contains whitespace
    |
413 |         backup_mongodb
414 |     fi
415 |     
    | ^^^^ W293
416 |     if [ "{config.get("backup_files", True)}" = "True" ]; then
417 |         backup_files
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:419:1: W293 Blank line contains whitespace
    |
417 |         backup_files
418 |     fi
419 |     
    | ^^^^ W293
420 |     if [ "{config.get("backup_configs", True)}" = "True" ]; then
421 |         backup_configs
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:423:1: W293 Blank line contains whitespace
    |
421 |         backup_configs
422 |     fi
423 |     
    | ^^^^ W293
424 |     # Verify backups if enabled
425 |     if [ "{config.get("verify_backups", True)}" = "True" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:428:1: W293 Blank line contains whitespace
    |
426 |         verify_backups
427 |     fi
428 |     
    | ^^^^ W293
429 |     # Cleanup old backups
430 |     cleanup_old_backups
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:431:1: W293 Blank line contains whitespace
    |
429 |     # Cleanup old backups
430 |     cleanup_old_backups
431 |     
    | ^^^^ W293
432 |     # Calculate backup size
433 |     local backup_size=$(du -sh "$BACKUP_DIR" 2>/dev/null | cut -f1 || echo "unknown")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:434:1: W293 Blank line contains whitespace
    |
432 |     # Calculate backup size
433 |     local backup_size=$(du -sh "$BACKUP_DIR" 2>/dev/null | cut -f1 || echo "unknown")
434 |     
    | ^^^^ W293
435 |     log_message "Backup completed successfully (Total size: $backup_size)"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:436:1: W293 Blank line contains whitespace
    |
435 |     log_message "Backup completed successfully (Total size: $backup_size)"
436 |     
    | ^^^^ W293
437 |     # Send success notification
438 |     if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:439:89: E501 Line too long (141 > 88)
    |
437 | …
438 | …n
439 | …leted" "CoffeeBreak backup completed successfully. Type: $backup_type, Size: $backup_size"
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
440 | …
441 | …
    |

coffeebreak/backup/manager.py:504:1: W293 Blank line contains whitespace
    |
502 | verify_postgresql_backup() {{
503 |     local backup_file="$1"
504 |     
    | ^^^^ W293
505 |     log_message "Verifying PostgreSQL backup: $backup_file"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:506:1: W293 Blank line contains whitespace
    |
505 |     log_message "Verifying PostgreSQL backup: $backup_file"
506 |     
    | ^^^^ W293
507 |     if [[ "$backup_file" == *.sql ]]; then
508 |         # Check SQL syntax
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:523:1: W293 Blank line contains whitespace
    |
521 |         fi
522 |     fi
523 |     
    | ^^^^ W293
524 |     return 1
525 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:530:1: W293 Blank line contains whitespace
    |
528 | verify_mongodb_backup() {{
529 |     local backup_dir="$1"
530 |     
    | ^^^^ W293
531 |     log_message "Verifying MongoDB backup: $backup_dir"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:532:1: W293 Blank line contains whitespace
    |
531 |     log_message "Verifying MongoDB backup: $backup_dir"
532 |     
    | ^^^^ W293
533 |     if [ -d "$backup_dir" ]; then
534 |         # Check for BSON files
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:544:1: W293 Blank line contains whitespace
    |
542 |         fi
543 |     fi
544 |     
    | ^^^^ W293
545 |     return 1
546 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:551:1: W293 Blank line contains whitespace
    |
549 | verify_file_backup() {{
550 |     local backup_file="$1"
551 |     
    | ^^^^ W293
552 |     log_message "Verifying file backup: $backup_file"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:553:1: W293 Blank line contains whitespace
    |
552 |     log_message "Verifying file backup: $backup_file"
553 |     
    | ^^^^ W293
554 |     if [[ "$backup_file" == *.tar.gz ]]; then
555 |         if tar -tzf "$backup_file" > /dev/null 2>&1; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:571:1: W293 Blank line contains whitespace
    |
569 |         fi
570 |     fi
571 |     
    | ^^^^ W293
572 |     return 1
573 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:578:1: W293 Blank line contains whitespace
    |
576 | main() {{
577 |     local backup_date="${{1:-$(date +%Y%m%d)}}"
578 |     
    | ^^^^ W293
579 |     log_message "Starting backup verification for date: $backup_date"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:580:1: W293 Blank line contains whitespace
    |
579 |     log_message "Starting backup verification for date: $backup_date"
580 |     
    | ^^^^ W293
581 |     local total_verified=0
582 |     local total_failed=0
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:583:1: W293 Blank line contains whitespace
    |
581 |     local total_verified=0
582 |     local total_failed=0
583 |     
    | ^^^^ W293
584 |     # Verify PostgreSQL backups
585 |     for backup_file in "$BACKUP_DIR"/postgresql/*"$backup_date"*; do
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:594:1: W293 Blank line contains whitespace
    |
592 |         fi
593 |     done
594 |     
    | ^^^^ W293
595 |     # Verify MongoDB backups
596 |     for backup_dir in "$BACKUP_DIR"/mongodb/*"$backup_date"*; do
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:605:1: W293 Blank line contains whitespace
    |
603 |         fi
604 |     done
605 |     
    | ^^^^ W293
606 |     # Verify file backups
607 |     for backup_file in "$BACKUP_DIR"/files/*"$backup_date"* "$BACKUP_DIR"/configs/*"$backup_date"*; do
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:607:89: E501 Line too long (102 > 88)
    |
606 |     # Verify file backups
607 |     for backup_file in "$BACKUP_DIR"/files/*"$backup_date"* "$BACKUP_DIR"/configs/*"$backup_date"*; do
    |                                                                                         ^^^^^^^^^^^^^^ E501
608 |         if [ -f "$backup_file" ]; then
609 |             if verify_file_backup "$backup_file"; then
    |

coffeebreak/backup/manager.py:616:1: W293 Blank line contains whitespace
    |
614 |         fi
615 |     done
616 |     
    | ^^^^ W293
617 |     log_message "Backup verification completed: $total_verified verified, $total_failed failed"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:617:89: E501 Line too long (95 > 88)
    |
615 |     done
616 |     
617 |     log_message "Backup verification completed: $total_verified verified, $total_failed failed"
    |                                                                                         ^^^^^^^ E501
618 |     
619 |     # Send notification if there are failures
    |

coffeebreak/backup/manager.py:618:1: W293 Blank line contains whitespace
    |
617 |     log_message "Backup verification completed: $total_verified verified, $total_failed failed"
618 |     
    | ^^^^ W293
619 |     # Send notification if there are failures
620 |     if [ "$total_failed" -gt 0 ] && [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:621:89: E501 Line too long (135 > 88)
    |
619 | …
620 | …offeebreak/bin/notify.sh" ]; then
621 | …erification Failed" "$total_failed backup(s) failed verification for date $backup_date"
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
622 | …
    |

coffeebreak/backup/manager.py:623:1: W293 Blank line contains whitespace
    |
621 |         /opt/coffeebreak/bin/notify.sh "Backup Verification Failed" "$total_failed backup(s) failed verification for date $backup_dat…
622 |     fi
623 |     
    | ^^^^ W293
624 |     exit $total_failed
625 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:674:1: W293 Blank line contains whitespace
    |
672 |     local subject="$1"
673 |     local message="$2"
674 |     
    | ^^^^ W293
675 |     log_message "ALERT: $subject"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:676:1: W293 Blank line contains whitespace
    |
675 |     log_message "ALERT: $subject"
676 |     
    | ^^^^ W293
677 |     # Send email if available
678 |     if command -v mail &> /dev/null && [ -n "$ALERT_EMAIL" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:681:1: W293 Blank line contains whitespace
    |
679 |         echo "$message" | mail -s "CoffeeBreak Backup Alert: $subject" "$ALERT_EMAIL"
680 |     fi
681 |     
    | ^^^^ W293
682 |     # Send via notification script if available
683 |     if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:686:1: W293 Blank line contains whitespace
    |
684 |         /opt/coffeebreak/bin/notify.sh "$subject" "$message"
685 |     fi
686 |     
    | ^^^^ W293
687 |     # Log to syslog
688 |     logger -t coffeebreak-backup "ALERT: $subject - $message"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:694:1: W293 Blank line contains whitespace
    |
692 | check_backup_freshness() {{
693 |     log_message "Checking backup freshness"
694 |     
    | ^^^^ W293
695 |     local current_time=$(date +%s)
696 |     local max_age_seconds=$((MAX_BACKUP_AGE_HOURS * 3600))
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:697:1: W293 Blank line contains whitespace
    |
695 |     local current_time=$(date +%s)
696 |     local max_age_seconds=$((MAX_BACKUP_AGE_HOURS * 3600))
697 |     
    | ^^^^ W293
698 |     # Check for recent backups in each category
699 |     local categories=("postgresql" "mongodb" "files" "configs")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:701:1: W293 Blank line contains whitespace
    |
699 |     local categories=("postgresql" "mongodb" "files" "configs")
700 |     local stale_categories=()
701 |     
    | ^^^^ W293
702 |     for category in "${{categories[@]}}"; do
703 |         local category_dir="$BACKUP_DIR/$category"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:704:1: W293 Blank line contains whitespace
    |
702 |     for category in "${{categories[@]}}"; do
703 |         local category_dir="$BACKUP_DIR/$category"
704 |         
    | ^^^^^^^^ W293
705 |         if [ -d "$category_dir" ]; then
706 |             local latest_backup=$(find "$category_dir" -type f -printf '%T@ %p
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:708:1: W293 Blank line contains whitespace
    |
706 |             local latest_backup=$(find "$category_dir" -type f -printf '%T@ %p
707 | ' 2>/dev/null | sort -n | tail -1 | cut -d' ' -f2-)
708 |             
    | ^^^^^^^^^^^^ W293
709 |             if [ -n "$latest_backup" ]; then
710 |                 local backup_time=$(stat -c %Y "$latest_backup" 2>/dev/null || echo 0)
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:712:1: W293 Blank line contains whitespace
    |
710 |                 local backup_time=$(stat -c %Y "$latest_backup" 2>/dev/null || echo 0)
711 |                 local age_seconds=$((current_time - backup_time))
712 |                 
    | ^^^^^^^^^^^^^^^^ W293
713 |                 if [ "$age_seconds" -gt "$max_age_seconds" ]; then
714 |                     stale_categories+=("$category")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:715:89: E501 Line too long (115 > 88)
    |
713 |                 if [ "$age_seconds" -gt "$max_age_seconds" ]; then
714 |                     stale_categories+=("$category")
715 |                     log_message "WARNING: Stale backup in category $category ($(( age_seconds / 3600 )) hours old)"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
716 |                 else
717 |                     log_message "✓ Fresh backup found in category $category"
    |

coffeebreak/backup/manager.py:727:1: W293 Blank line contains whitespace
    |
725 |         fi
726 |     done
727 |     
    | ^^^^ W293
728 |     if [ ${{#stale_categories[@]}} -gt 0 ]; then
729 |         send_alert "Stale Backups Detected" "The following backup categories are stale: ${{stale_categories[*]}}"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:729:89: E501 Line too long (113 > 88)
    |
728 |     if [ ${{#stale_categories[@]}} -gt 0 ]; then
729 |         send_alert "Stale Backups Detected" "The following backup categories are stale: ${{stale_categories[*]}}"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^ E501
730 |     fi
731 | }}
    |

coffeebreak/backup/manager.py:736:1: W293 Blank line contains whitespace
    |
734 | check_backup_sizes() {{
735 |     log_message "Checking backup sizes"
736 |     
    | ^^^^ W293
737 |     local today=$(date +%Y%m%d)
738 |     local yesterday=$(date -d "yesterday" +%Y%m%d)
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:739:1: W293 Blank line contains whitespace
    |
737 |     local today=$(date +%Y%m%d)
738 |     local yesterday=$(date -d "yesterday" +%Y%m%d)
739 |     
    | ^^^^ W293
740 |     # Get today's backup size
741 |     local today_size=$(find "$BACKUP_DIR" -name "*$today*" -type f -exec du -cb {{}} + 2>/dev/null | tail -1 | cut -f1 || echo 0)
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:741:89: E501 Line too long (129 > 88)
    |
740 |     # Get today's backup size
741 |     local today_size=$(find "$BACKUP_DIR" -name "*$today*" -type f -exec du -cb {{}} + 2>/dev/null | tail -1 | cut -f1 || echo 0)
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
742 |     
743 |     # Get yesterday's backup size
    |

coffeebreak/backup/manager.py:742:1: W293 Blank line contains whitespace
    |
740 |     # Get today's backup size
741 |     local today_size=$(find "$BACKUP_DIR" -name "*$today*" -type f -exec du -cb {{}} + 2>/dev/null | tail -1 | cut -f1 || echo 0)
742 |     
    | ^^^^ W293
743 |     # Get yesterday's backup size
744 |     local yesterday_size=$(find "$BACKUP_DIR" -name "*$yesterday*" -type f -exec du -cb {{}} + 2>/dev/null | tail -1 | cut -f1 || ech…
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:744:89: E501 Line too long (137 > 88)
    |
743 | …
744 | …me "*$yesterday*" -type f -exec du -cb {{}} + 2>/dev/null | tail -1 | cut -f1 || echo 0)
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
745 | …
746 | …
    |

coffeebreak/backup/manager.py:745:1: W293 Blank line contains whitespace
    |
743 |     # Get yesterday's backup size
744 |     local yesterday_size=$(find "$BACKUP_DIR" -name "*$yesterday*" -type f -exec du -cb {{}} + 2>/dev/null | tail -1 | cut -f1 || ech…
745 |     
    | ^^^^ W293
746 |     if [ "$today_size" -eq 0 ]; then
747 |         send_alert "No Backups Today" "No backups found for today ($today)"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:751:1: W293 Blank line contains whitespace
    |
749 | …     # Check for significant size difference (more than 50% change)
750 | …     local size_ratio=$((today_size * 100 / yesterday_size))
751 | …     
    ^^^^^^^^ W293
752 | …     if [ "$size_ratio" -lt 50 ]; then
753 | …         send_alert "Backup Size Anomaly" "Today's backup is significantly smaller than yesterday's ($today_size vs $yesterday_size …
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:753:89: E501 Line too long (142 > 88)
    |
752 | …
753 | …s backup is significantly smaller than yesterday's ($today_size vs $yesterday_size bytes)"
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
754 | …
755 | …s backup is significantly larger than yesterday's ($today_size vs $yesterday_size bytes)"
    |

coffeebreak/backup/manager.py:755:89: E501 Line too long (141 > 88)
    |
753 | …'s backup is significantly smaller than yesterday's ($today_size vs $yesterday_size bytes)"
754 | …
755 | …'s backup is significantly larger than yesterday's ($today_size vs $yesterday_size bytes)"
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
756 | …
757 | …
    |

coffeebreak/backup/manager.py:758:1: W293 Blank line contains whitespace
    |
756 |         fi
757 |     fi
758 |     
    | ^^^^ W293
759 |     log_message "Today's backup size: $today_size bytes"
760 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:765:1: W293 Blank line contains whitespace
    |
763 | check_disk_space() {{
764 |     log_message "Checking backup disk space"
765 |     
    | ^^^^ W293
766 |     local backup_fs=$(df "$BACKUP_DIR" | tail -1)
767 |     local usage_percent=$(echo "$backup_fs" | awk '{{print $5}}' | sed 's/%//')
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:769:1: W293 Blank line contains whitespace
    |
767 |     local usage_percent=$(echo "$backup_fs" | awk '{{print $5}}' | sed 's/%//')
768 |     local available_gb=$(echo "$backup_fs" | awk '{{print int($4/1024/1024)}}')
769 |     
    | ^^^^ W293
770 |     if [ "$usage_percent" -gt 90 ]; then
771 |         send_alert "Backup Disk Space Critical" "Backup filesystem is $usage_percent% full ($available_gb GB available)"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:771:89: E501 Line too long (120 > 88)
    |
770 |     if [ "$usage_percent" -gt 90 ]; then
771 |         send_alert "Backup Disk Space Critical" "Backup filesystem is $usage_percent% full ($available_gb GB available)"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
772 |     elif [ "$usage_percent" -gt 80 ]; then
773 |         log_message "WARNING: Backup filesystem is $usage_percent% full ($available_gb GB available)"
    |

coffeebreak/backup/manager.py:773:89: E501 Line too long (101 > 88)
    |
771 |         send_alert "Backup Disk Space Critical" "Backup filesystem is $usage_percent% full ($available_gb GB available)"
772 |     elif [ "$usage_percent" -gt 80 ]; then
773 |         log_message "WARNING: Backup filesystem is $usage_percent% full ($available_gb GB available)"
    |                                                                                         ^^^^^^^^^^^^^ E501
774 |     else
775 |         log_message "✓ Backup disk space OK: $usage_percent% used ($available_gb GB available)"
    |

coffeebreak/backup/manager.py:775:89: E501 Line too long (95 > 88)
    |
773 |         log_message "WARNING: Backup filesystem is $usage_percent% full ($available_gb GB available)"
774 |     else
775 |         log_message "✓ Backup disk space OK: $usage_percent% used ($available_gb GB available)"
    |                                                                                         ^^^^^^^ E501
776 |     fi
777 | }}
    |

coffeebreak/backup/manager.py:782:1: W293 Blank line contains whitespace
    |
780 | check_backup_processes() {{
781 |     log_message "Checking backup processes"
782 |     
    | ^^^^ W293
783 |     # Check if backup is currently running
784 |     local backup_pids=$(pgrep -f "backup.sh" || echo "")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:785:1: W293 Blank line contains whitespace
    |
783 |     # Check if backup is currently running
784 |     local backup_pids=$(pgrep -f "backup.sh" || echo "")
785 |     
    | ^^^^ W293
786 |     if [ -n "$backup_pids" ]; then
787 |         log_message "Backup process running (PIDs: $backup_pids)"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:788:1: W293 Blank line contains whitespace
    |
786 |     if [ -n "$backup_pids" ]; then
787 |         log_message "Backup process running (PIDs: $backup_pids)"
788 |         
    | ^^^^^^^^ W293
789 |         # Check if backup has been running too long (more than 4 hours)
790 |         for pid in $backup_pids; do
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:791:89: E501 Line too long (108 > 88)
    |
789 |         # Check if backup has been running too long (more than 4 hours)
790 |         for pid in $backup_pids; do
791 |             local start_time=$(ps -o lstart= -p "$pid" 2>/dev/null | xargs -I{{}} date -d{{}} +%s || echo 0)
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^ E501
792 |             local current_time=$(date +%s)
793 |             local runtime_hours=$(( (current_time - start_time) / 3600 ))
    |

coffeebreak/backup/manager.py:794:1: W293 Blank line contains whitespace
    |
792 |             local current_time=$(date +%s)
793 |             local runtime_hours=$(( (current_time - start_time) / 3600 ))
794 |             
    | ^^^^^^^^^^^^ W293
795 |             if [ "$runtime_hours" -gt 4 ]; then
796 |                 send_alert "Backup Process Stuck" "Backup process (PID: $pid) has been running for $runtime_hours hours"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:796:89: E501 Line too long (120 > 88)
    |
795 |             if [ "$runtime_hours" -gt 4 ]; then
796 |                 send_alert "Backup Process Stuck" "Backup process (PID: $pid) has been running for $runtime_hours hours"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
797 |             fi
798 |         done
    |

coffeebreak/backup/manager.py:805:1: W293 Blank line contains whitespace
    |
803 | main() {{
804 |     log_message "Starting backup monitoring check"
805 |     
    | ^^^^ W293
806 |     check_backup_freshness
807 |     check_backup_sizes
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:810:1: W293 Blank line contains whitespace
    |
808 |     check_disk_space
809 |     check_backup_processes
810 |     
    | ^^^^ W293
811 |     log_message "Backup monitoring check completed"
812 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/manager.py:832:13: E722 Do not use bare `except`
    |
830 |                     current_crontab.stdout if current_crontab.returncode == 0 else ""
831 |                 )
832 |             except:
    |             ^^^^^^ E722
833 |                 crontab_content = ""
    |

coffeebreak/backup/recovery.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Recovery and disaster recovery system for CoffeeBreak."""
 2 |
 3 | / import os
 4 | | import subprocess
 5 | | import shutil
 6 | | from datetime import datetime
 7 | | from pathlib import Path
 8 | | from typing import Dict, Any, List, Optional
 9 | | import yaml
10 | |
11 | | from ..utils.errors import ConfigurationError
   | |_____________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/backup/recovery.py:4:8: F401 [*] `subprocess` imported but unused
  |
3 | import os
4 | import subprocess
  |        ^^^^^^^^^^ F401
5 | import shutil
6 | from datetime import datetime
  |
  = help: Remove unused import: `subprocess`

coffeebreak/backup/recovery.py:5:8: F401 [*] `shutil` imported but unused
  |
3 | import os
4 | import subprocess
5 | import shutil
  |        ^^^^^^ F401
6 | from datetime import datetime
7 | from pathlib import Path
  |
  = help: Remove unused import: `shutil`

coffeebreak/backup/recovery.py:7:21: F401 [*] `pathlib.Path` imported but unused
  |
5 | import shutil
6 | from datetime import datetime
7 | from pathlib import Path
  |                     ^^^^ F401
8 | from typing import Dict, Any, List, Optional
9 | import yaml
  |
  = help: Remove unused import: `pathlib.Path`

coffeebreak/backup/recovery.py:8:31: F401 [*] `typing.List` imported but unused
  |
6 | from datetime import datetime
7 | from pathlib import Path
8 | from typing import Dict, Any, List, Optional
  |                               ^^^^ F401
9 | import yaml
  |
  = help: Remove unused import

coffeebreak/backup/recovery.py:8:37: F401 [*] `typing.Optional` imported but unused
  |
6 | from datetime import datetime
7 | from pathlib import Path
8 | from typing import Dict, Any, List, Optional
  |                                     ^^^^^^^^ F401
9 | import yaml
  |
  = help: Remove unused import

coffeebreak/backup/recovery.py:9:8: F401 [*] `yaml` imported but unused
   |
 7 | from pathlib import Path
 8 | from typing import Dict, Any, List, Optional
 9 | import yaml
   |        ^^^^ F401
10 |
11 | from ..utils.errors import ConfigurationError
   |
   = help: Remove unused import: `yaml`

coffeebreak/backup/recovery.py:11:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 9 | import yaml
10 |
11 | from ..utils.errors import ConfigurationError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/backup/recovery.py:11:28: F401 [*] `..utils.errors.ConfigurationError` imported but unused
   |
 9 | import yaml
10 |
11 | from ..utils.errors import ConfigurationError
   |                            ^^^^^^^^^^^^^^^^^^ F401
   |
   = help: Remove unused import: `..utils.errors.ConfigurationError`

coffeebreak/backup/recovery.py:124:1: W293 Blank line contains whitespace
    |
122 |     local error_msg="$1"
123 |     log_message "ERROR: $error_msg"
124 |     
    | ^^^^ W293
125 |     # Send alert
126 |     if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:129:1: W293 Blank line contains whitespace
    |
127 |         /opt/coffeebreak/bin/notify.sh "Recovery Failed" "$error_msg"
128 |     fi
129 |     
    | ^^^^ W293
130 |     exit 1
131 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:136:1: W293 Blank line contains whitespace
    |
134 | confirm_action() {{
135 |     local message="$1"
136 |     
    | ^^^^ W293
137 |     if [ "$RECOVERY_MODE" = "interactive" ]; then
138 |         echo "$message"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:153:1: W293 Blank line contains whitespace
    |
151 | list_backups() {{
152 |     local backup_type="$1"
153 |     
    | ^^^^ W293
154 |     echo "Available $backup_type backups:"
155 |     find "$BACKUP_DIR/$backup_type" -type f -name "*.tar.gz" -o -name "*.gpg" | sort -r | head -10 | while read backup; do
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:155:89: E501 Line too long (122 > 88)
    |
154 |     echo "Available $backup_type backups:"
155 |     find "$BACKUP_DIR/$backup_type" -type f -name "*.tar.gz" -o -name "*.gpg" | sort -r | head -10 | while read backup; do
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
156 |         local backup_date=$(basename "$backup" | grep -oE '[0-9]{{8}}_[0-9]{{6}}' || echo "unknown")
157 |         local backup_size=$(du -h "$backup" | cut -f1)
    |

coffeebreak/backup/recovery.py:156:89: E501 Line too long (100 > 88)
    |
154 |     echo "Available $backup_type backups:"
155 |     find "$BACKUP_DIR/$backup_type" -type f -name "*.tar.gz" -o -name "*.gpg" | sort -r | head -10 | while read backup; do
156 |         local backup_date=$(basename "$backup" | grep -oE '[0-9]{{8}}_[0-9]{{6}}' || echo "unknown")
    |                                                                                         ^^^^^^^^^^^^ E501
157 |         local backup_size=$(du -h "$backup" | cut -f1)
158 |         echo "  $(basename "$backup") ($backup_size, $backup_date)"
    |

coffeebreak/backup/recovery.py:166:1: W293 Blank line contains whitespace
    |
164 |     local backup_type="$1"
165 |     local backup_date="${{2:-latest}}"
166 |     
    | ^^^^ W293
167 |     if [ "$backup_date" = "latest" ]; then
168 |         local selected_backup=$(find "$BACKUP_DIR/$backup_type" -type f \\( -name "*.tar.gz" -o -name "*.gpg" \\) | sort -r | head -1)
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:168:89: E501 Line too long (134 > 88)
    |
167 |     if [ "$backup_date" = "latest" ]; then
168 |         local selected_backup=$(find "$BACKUP_DIR/$backup_type" -type f \\( -name "*.tar.gz" -o -name "*.gpg" \\) | sort -r | head -1)
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
169 |     else
170 |         local selected_backup=$(find "$BACKUP_DIR/$backup_type" -type f -name "*$backup_date*" | head -1)
    |

coffeebreak/backup/recovery.py:170:89: E501 Line too long (105 > 88)
    |
168 |         local selected_backup=$(find "$BACKUP_DIR/$backup_type" -type f \\( -name "*.tar.gz" -o -name "*.gpg" \\) | sort -r | head -1)
169 |     else
170 |         local selected_backup=$(find "$BACKUP_DIR/$backup_type" -type f -name "*$backup_date*" | head -1)
    |                                                                                         ^^^^^^^^^^^^^^^^^ E501
171 |     fi
    |

coffeebreak/backup/recovery.py:172:1: W293 Blank line contains whitespace
    |
170 |         local selected_backup=$(find "$BACKUP_DIR/$backup_type" -type f -name "*$backup_date*" | head -1)
171 |     fi
172 |     
    | ^^^^ W293
173 |     if [ -z "$selected_backup" ]; then
174 |         handle_error "No backup found for type: $backup_type, date: $backup_date"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:176:1: W293 Blank line contains whitespace
    |
174 |         handle_error "No backup found for type: $backup_type, date: $backup_date"
175 |     fi
176 |     
    | ^^^^ W293
177 |     echo "$selected_backup"
178 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:184:1: W293 Blank line contains whitespace
    |
182 |     local backup_file="$1"
183 |     local extract_dir="$2"
184 |     
    | ^^^^ W293
185 |     log_message "Extracting backup: $backup_file"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:186:1: W293 Blank line contains whitespace
    |
185 |     log_message "Extracting backup: $backup_file"
186 |     
    | ^^^^ W293
187 |     mkdir -p "$extract_dir"
188 |     cd "$extract_dir"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:189:1: W293 Blank line contains whitespace
    |
187 |     mkdir -p "$extract_dir"
188 |     cd "$extract_dir"
189 |     
    | ^^^^ W293
190 |     if [[ "$backup_file" == *.gpg ]]; then
191 |         log_message "Decrypting backup..."
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:197:1: W293 Blank line contains whitespace
    |
195 |         backup_file="$extract_dir/$(basename "$backup_file" .gpg)"
196 |     fi
197 |     
    | ^^^^ W293
198 |     if [[ "$backup_file" == *.tar.gz ]]; then
199 |         log_message "Extracting archive..."
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:204:1: W293 Blank line contains whitespace
    |
202 |         fi
203 |     fi
204 |     
    | ^^^^ W293
205 |     log_message "Backup extracted successfully"
206 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:211:1: W293 Blank line contains whitespace
    |
209 | recover_postgresql() {{
210 |     local backup_date="${{1:-latest}}"
211 |     
    | ^^^^ W293
212 |     log_message "Starting PostgreSQL recovery"
213 |     confirm_action "This will restore PostgreSQL databases from backup ($backup_date). This will OVERWRITE existing data!"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:213:89: E501 Line too long (122 > 88)
    |
212 |     log_message "Starting PostgreSQL recovery"
213 |     confirm_action "This will restore PostgreSQL databases from backup ($backup_date). This will OVERWRITE existing data!"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
214 |     
215 |     # Stop CoffeeBreak services
    |

coffeebreak/backup/recovery.py:214:1: W293 Blank line contains whitespace
    |
212 |     log_message "Starting PostgreSQL recovery"
213 |     confirm_action "This will restore PostgreSQL databases from backup ($backup_date). This will OVERWRITE existing data!"
214 |     
    | ^^^^ W293
215 |     # Stop CoffeeBreak services
216 |     log_message "Stopping CoffeeBreak services..."
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:218:1: W293 Blank line contains whitespace
    |
216 |     log_message "Stopping CoffeeBreak services..."
217 |     systemctl stop coffeebreak-* 2>/dev/null || true
218 |     
    | ^^^^ W293
219 |     # Get backup file
220 |     local backup_file=$(select_backup "postgresql" "$backup_date")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:222:1: W293 Blank line contains whitespace
    |
220 |     local backup_file=$(select_backup "postgresql" "$backup_date")
221 |     local extract_dir="/tmp/coffeebreak-recovery-pg"
222 |     
    | ^^^^ W293
223 |     # Extract backup
224 |     extract_backup "$backup_file" "$extract_dir"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:225:1: W293 Blank line contains whitespace
    |
223 |     # Extract backup
224 |     extract_backup "$backup_file" "$extract_dir"
225 |     
    | ^^^^ W293
226 |     # Find SQL files
227 |     local sql_files=$(find "$extract_dir" -name "*.sql" | sort)
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:228:1: W293 Blank line contains whitespace
    |
226 |     # Find SQL files
227 |     local sql_files=$(find "$extract_dir" -name "*.sql" | sort)
228 |     
    | ^^^^ W293
229 |     if [ -z "$sql_files" ]; then
230 |         handle_error "No SQL files found in backup"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:232:1: W293 Blank line contains whitespace
    |
230 |         handle_error "No SQL files found in backup"
231 |     fi
232 |     
    | ^^^^ W293
233 |     # Stop PostgreSQL temporarily for full restore
234 |     systemctl stop postgresql
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:235:1: W293 Blank line contains whitespace
    |
233 |     # Stop PostgreSQL temporarily for full restore
234 |     systemctl stop postgresql
235 |     
    | ^^^^ W293
236 |     # Restore globals first
237 |     local globals_file=$(echo "$sql_files" | grep "globals.sql" || echo "")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:240:89: E501 Line too long (112 > 88)
    |
238 |     if [ -n "$globals_file" ]; then
239 |         log_message "Restoring PostgreSQL globals..."
240 |         sudo -u postgres psql -f "$globals_file" postgres || handle_error "Failed to restore PostgreSQL globals"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^ E501
241 |     fi
    |

coffeebreak/backup/recovery.py:242:1: W293 Blank line contains whitespace
    |
240 |         sudo -u postgres psql -f "$globals_file" postgres || handle_error "Failed to restore PostgreSQL globals"
241 |     fi
242 |     
    | ^^^^ W293
243 |     # Start PostgreSQL
244 |     systemctl start postgresql
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:245:1: W293 Blank line contains whitespace
    |
243 |     # Start PostgreSQL
244 |     systemctl start postgresql
245 |     
    | ^^^^ W293
246 |     # Restore individual databases
247 |     for sql_file in $sql_files; do
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:251:1: W293 Blank line contains whitespace
    |
249 |             local db_name=$(basename "$sql_file" .sql)
250 |             log_message "Restoring database: $db_name"
251 |             
    | ^^^^^^^^^^^^ W293
252 |             # Drop and recreate database
253 |             sudo -u postgres dropdb "$db_name" 2>/dev/null || true
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:254:89: E501 Line too long (102 > 88)
    |
252 |             # Drop and recreate database
253 |             sudo -u postgres dropdb "$db_name" 2>/dev/null || true
254 |             sudo -u postgres createdb "$db_name" || handle_error "Failed to create database: $db_name"
    |                                                                                         ^^^^^^^^^^^^^^ E501
255 |             
256 |             # Restore database
    |

coffeebreak/backup/recovery.py:255:1: W293 Blank line contains whitespace
    |
253 |             sudo -u postgres dropdb "$db_name" 2>/dev/null || true
254 |             sudo -u postgres createdb "$db_name" || handle_error "Failed to create database: $db_name"
255 |             
    | ^^^^^^^^^^^^ W293
256 |             # Restore database
257 |             sudo -u postgres psql -d "$db_name" -f "$sql_file" || handle_error "Failed to restore database: $db_name"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:257:89: E501 Line too long (117 > 88)
    |
256 |             # Restore database
257 |             sudo -u postgres psql -d "$db_name" -f "$sql_file" || handle_error "Failed to restore database: $db_name"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
258 |         fi
259 |     done
    |

coffeebreak/backup/recovery.py:260:1: W293 Blank line contains whitespace
    |
258 |         fi
259 |     done
260 |     
    | ^^^^ W293
261 |     # Cleanup
262 |     rm -rf "$extract_dir"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:263:1: W293 Blank line contains whitespace
    |
261 |     # Cleanup
262 |     rm -rf "$extract_dir"
263 |     
    | ^^^^ W293
264 |     log_message "PostgreSQL recovery completed"
265 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:270:1: W293 Blank line contains whitespace
    |
268 | recover_mongodb() {{
269 |     local backup_date="${{1:-latest}}"
270 |     
    | ^^^^ W293
271 |     log_message "Starting MongoDB recovery"
272 |     confirm_action "This will restore MongoDB databases from backup ($backup_date). This will OVERWRITE existing data!"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:272:89: E501 Line too long (119 > 88)
    |
271 |     log_message "Starting MongoDB recovery"
272 |     confirm_action "This will restore MongoDB databases from backup ($backup_date). This will OVERWRITE existing data!"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
273 |     
274 |     # Stop CoffeeBreak services
    |

coffeebreak/backup/recovery.py:273:1: W293 Blank line contains whitespace
    |
271 |     log_message "Starting MongoDB recovery"
272 |     confirm_action "This will restore MongoDB databases from backup ($backup_date). This will OVERWRITE existing data!"
273 |     
    | ^^^^ W293
274 |     # Stop CoffeeBreak services
275 |     log_message "Stopping CoffeeBreak services..."
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:277:1: W293 Blank line contains whitespace
    |
275 |     log_message "Stopping CoffeeBreak services..."
276 |     systemctl stop coffeebreak-* 2>/dev/null || true
277 |     
    | ^^^^ W293
278 |     # Get backup file
279 |     local backup_file=$(select_backup "mongodb" "$backup_date")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:281:1: W293 Blank line contains whitespace
    |
279 |     local backup_file=$(select_backup "mongodb" "$backup_date")
280 |     local extract_dir="/tmp/coffeebreak-recovery-mongo"
281 |     
    | ^^^^ W293
282 |     # Extract backup
283 |     extract_backup "$backup_file" "$extract_dir"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:284:1: W293 Blank line contains whitespace
    |
282 |     # Extract backup
283 |     extract_backup "$backup_file" "$extract_dir"
284 |     
    | ^^^^ W293
285 |     # Find dump directory
286 |     local dump_dir=$(find "$extract_dir" -type d -name "*" | head -1)
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:287:1: W293 Blank line contains whitespace
    |
285 |     # Find dump directory
286 |     local dump_dir=$(find "$extract_dir" -type d -name "*" | head -1)
287 |     
    | ^^^^ W293
288 |     if [ -z "$dump_dir" ] || [ ! -d "$dump_dir" ]; then
289 |         handle_error "No MongoDB dump directory found in backup"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:291:1: W293 Blank line contains whitespace
    |
289 |         handle_error "No MongoDB dump directory found in backup"
290 |     fi
291 |     
    | ^^^^ W293
292 |     # Drop existing databases and restore
293 |     log_message "Restoring MongoDB databases..."
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:295:1: W293 Blank line contains whitespace
    |
293 |     log_message "Restoring MongoDB databases..."
294 |     mongorestore --drop "$dump_dir" || handle_error "Failed to restore MongoDB"
295 |     
    | ^^^^ W293
296 |     # Cleanup
297 |     rm -rf "$extract_dir"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:298:1: W293 Blank line contains whitespace
    |
296 |     # Cleanup
297 |     rm -rf "$extract_dir"
298 |     
    | ^^^^ W293
299 |     log_message "MongoDB recovery completed"
300 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:305:1: W293 Blank line contains whitespace
    |
303 | recover_files() {{
304 |     local backup_date="${{1:-latest}}"
305 |     
    | ^^^^ W293
306 |     log_message "Starting file recovery"
307 |     confirm_action "This will restore application files from backup ($backup_date). This will OVERWRITE existing files!"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:307:89: E501 Line too long (120 > 88)
    |
306 |     log_message "Starting file recovery"
307 |     confirm_action "This will restore application files from backup ($backup_date). This will OVERWRITE existing files!"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
308 |     
309 |     # Stop CoffeeBreak services
    |

coffeebreak/backup/recovery.py:308:1: W293 Blank line contains whitespace
    |
306 |     log_message "Starting file recovery"
307 |     confirm_action "This will restore application files from backup ($backup_date). This will OVERWRITE existing files!"
308 |     
    | ^^^^ W293
309 |     # Stop CoffeeBreak services
310 |     log_message "Stopping CoffeeBreak services..."
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:312:1: W293 Blank line contains whitespace
    |
310 |     log_message "Stopping CoffeeBreak services..."
311 |     systemctl stop coffeebreak-* 2>/dev/null || true
312 |     
    | ^^^^ W293
313 |     # Get backup file
314 |     local backup_file=$(select_backup "files" "$backup_date")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:316:1: W293 Blank line contains whitespace
    |
314 |     local backup_file=$(select_backup "files" "$backup_date")
315 |     local extract_dir="/tmp/coffeebreak-recovery-files"
316 |     
    | ^^^^ W293
317 |     # Extract backup
318 |     extract_backup "$backup_file" "$extract_dir"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:319:1: W293 Blank line contains whitespace
    |
317 |     # Extract backup
318 |     extract_backup "$backup_file" "$extract_dir"
319 |     
    | ^^^^ W293
320 |     # Restore directories
321 |     local restore_dirs=(
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:327:1: W293 Blank line contains whitespace
    |
325 |         "var/log/coffeebreak:/var/log/coffeebreak"
326 |     )
327 |     
    | ^^^^ W293
328 |     for dir_mapping in "${{restore_dirs[@]}}"; do
329 |         local src_dir="$extract_dir/${{dir_mapping%%:*}}"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:331:1: W293 Blank line contains whitespace
    |
329 |         local src_dir="$extract_dir/${{dir_mapping%%:*}}"
330 |         local dest_dir="${{dir_mapping##*:}}"
331 |         
    | ^^^^^^^^ W293
332 |         if [ -d "$src_dir" ]; then
333 |             log_message "Restoring directory: $dest_dir"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:334:1: W293 Blank line contains whitespace
    |
332 |         if [ -d "$src_dir" ]; then
333 |             log_message "Restoring directory: $dest_dir"
334 |             
    | ^^^^^^^^^^^^ W293
335 |             # Backup current directory
336 |             if [ -d "$dest_dir" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:339:1: W293 Blank line contains whitespace
    |
337 |                 mv "$dest_dir" "$dest_dir.backup.$(date +%Y%m%d_%H%M%S)" || true
338 |             fi
339 |             
    | ^^^^^^^^^^^^ W293
340 |             # Create parent directory
341 |             mkdir -p "$(dirname "$dest_dir")"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:342:1: W293 Blank line contains whitespace
    |
340 |             # Create parent directory
341 |             mkdir -p "$(dirname "$dest_dir")"
342 |             
    | ^^^^^^^^^^^^ W293
343 |             # Copy files
344 |             cp -r "$src_dir" "$dest_dir" || handle_error "Failed to restore directory: $dest_dir"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:344:89: E501 Line too long (97 > 88)
    |
343 |             # Copy files
344 |             cp -r "$src_dir" "$dest_dir" || handle_error "Failed to restore directory: $dest_dir"
    |                                                                                         ^^^^^^^^^ E501
345 |             
346 |             # Fix permissions
    |

coffeebreak/backup/recovery.py:345:1: W293 Blank line contains whitespace
    |
343 |             # Copy files
344 |             cp -r "$src_dir" "$dest_dir" || handle_error "Failed to restore directory: $dest_dir"
345 |             
    | ^^^^^^^^^^^^ W293
346 |             # Fix permissions
347 |             if id coffeebreak &>/dev/null; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:352:1: W293 Blank line contains whitespace
    |
350 |         fi
351 |     done
352 |     
    | ^^^^ W293
353 |     # Restore Docker volumes if Docker deployment
354 |     if [ -f "/usr/bin/docker" ] && docker ps -q > /dev/null 2>&1; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:356:1: W293 Blank line contains whitespace
    |
354 |     if [ -f "/usr/bin/docker" ] && docker ps -q > /dev/null 2>&1; then
355 |         local volumes_dir="$extract_dir/docker-volumes"
356 |         
    | ^^^^^^^^ W293
357 |         if [ -d "$volumes_dir" ]; then
358 |             log_message "Restoring Docker volumes..."
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:359:1: W293 Blank line contains whitespace
    |
357 |         if [ -d "$volumes_dir" ]; then
358 |             log_message "Restoring Docker volumes..."
359 |             
    | ^^^^^^^^^^^^ W293
360 |             for volume_archive in "$volumes_dir"/*.tar.gz; do
361 |                 if [ -f "$volume_archive" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:363:1: W293 Blank line contains whitespace
    |
361 |                 if [ -f "$volume_archive" ]; then
362 |                     local volume_name=$(basename "$volume_archive" .tar.gz)
363 |                     
    | ^^^^^^^^^^^^^^^^^^^^ W293
364 |                     log_message "Restoring Docker volume: $volume_name"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:365:1: W293 Blank line contains whitespace
    |
364 |                     log_message "Restoring Docker volume: $volume_name"
365 |                     
    | ^^^^^^^^^^^^^^^^^^^^ W293
366 |                     # Remove existing volume
367 |                     docker volume rm "$volume_name" 2>/dev/null || true
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:368:1: W293 Blank line contains whitespace
    |
366 |                     # Remove existing volume
367 |                     docker volume rm "$volume_name" 2>/dev/null || true
368 |                     
    | ^^^^^^^^^^^^^^^^^^^^ W293
369 |                     # Create new volume
370 |                     docker volume create "$volume_name"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:371:1: W293 Blank line contains whitespace
    |
369 | …     # Create new volume
370 | …     docker volume create "$volume_name"
371 | …     
^^^^^^^^^^^^ W293
372 | …     # Restore volume content
373 | …     docker run --rm -v "$volume_name:/dest" -v "$volumes_dir:/backup" ubuntu tar xzf "/backup/$(basename "$volume_archive")" -C /de…
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:373:89: E501 Line too long (213 > 88)
    |
372 | …
373 | …p" ubuntu tar xzf "/backup/$(basename "$volume_archive")" -C /dest || log_message "WARNING: Failed to restore volume $volume_name"
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
374 | …
375 | …
    |

coffeebreak/backup/recovery.py:378:1: W293 Blank line contains whitespace
    |
376 |         fi
377 |     fi
378 |     
    | ^^^^ W293
379 |     # Cleanup
380 |     rm -rf "$extract_dir"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:381:1: W293 Blank line contains whitespace
    |
379 |     # Cleanup
380 |     rm -rf "$extract_dir"
381 |     
    | ^^^^ W293
382 |     log_message "File recovery completed"
383 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:388:1: W293 Blank line contains whitespace
    |
386 | recover_configs() {{
387 |     local backup_date="${{1:-latest}}"
388 |     
    | ^^^^ W293
389 |     log_message "Starting configuration recovery"
390 |     confirm_action "This will restore configuration files from backup ($backup_date). This will OVERWRITE existing configs!"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:390:89: E501 Line too long (124 > 88)
    |
389 |     log_message "Starting configuration recovery"
390 |     confirm_action "This will restore configuration files from backup ($backup_date). This will OVERWRITE existing configs!"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
391 |     
392 |     # Get backup file
    |

coffeebreak/backup/recovery.py:391:1: W293 Blank line contains whitespace
    |
389 |     log_message "Starting configuration recovery"
390 |     confirm_action "This will restore configuration files from backup ($backup_date). This will OVERWRITE existing configs!"
391 |     
    | ^^^^ W293
392 |     # Get backup file
393 |     local backup_file=$(select_backup "configs" "$backup_date")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:395:1: W293 Blank line contains whitespace
    |
393 |     local backup_file=$(select_backup "configs" "$backup_date")
394 |     local extract_dir="/tmp/coffeebreak-recovery-configs"
395 |     
    | ^^^^ W293
396 |     # Extract backup
397 |     extract_backup "$backup_file" "$extract_dir"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:398:1: W293 Blank line contains whitespace
    |
396 |     # Extract backup
397 |     extract_backup "$backup_file" "$extract_dir"
398 |     
    | ^^^^ W293
399 |     # Restore configuration files
400 |     local config_files=$(find "$extract_dir" -type f)
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:401:1: W293 Blank line contains whitespace
    |
399 |     # Restore configuration files
400 |     local config_files=$(find "$extract_dir" -type f)
401 |     
    | ^^^^ W293
402 |     for config_file in $config_files; do
403 |         local relative_path="${{config_file#$extract_dir/}}"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:405:1: W293 Blank line contains whitespace
    |
403 |         local relative_path="${{config_file#$extract_dir/}}"
404 |         local dest_file="/$relative_path"
405 |         
    | ^^^^^^^^ W293
406 |         log_message "Restoring config: $dest_file"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:407:1: W293 Blank line contains whitespace
    |
406 |         log_message "Restoring config: $dest_file"
407 |         
    | ^^^^^^^^ W293
408 |         # Backup current file
409 |         if [ -f "$dest_file" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:412:1: W293 Blank line contains whitespace
    |
410 |             cp "$dest_file" "$dest_file.backup.$(date +%Y%m%d_%H%M%S)" || true
411 |         fi
412 |         
    | ^^^^^^^^ W293
413 |         # Create parent directory
414 |         mkdir -p "$(dirname "$dest_file")"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:415:1: W293 Blank line contains whitespace
    |
413 |         # Create parent directory
414 |         mkdir -p "$(dirname "$dest_file")"
415 |         
    | ^^^^^^^^ W293
416 |         # Copy file
417 |         cp "$config_file" "$dest_file" || log_message "WARNING: Failed to restore config: $dest_file"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:417:89: E501 Line too long (101 > 88)
    |
416 |         # Copy file
417 |         cp "$config_file" "$dest_file" || log_message "WARNING: Failed to restore config: $dest_file"
    |                                                                                         ^^^^^^^^^^^^^ E501
418 |     done
    |

coffeebreak/backup/recovery.py:419:1: W293 Blank line contains whitespace
    |
417 |         cp "$config_file" "$dest_file" || log_message "WARNING: Failed to restore config: $dest_file"
418 |     done
419 |     
    | ^^^^ W293
420 |     # Cleanup
421 |     rm -rf "$extract_dir"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:422:1: W293 Blank line contains whitespace
    |
420 |     # Cleanup
421 |     rm -rf "$extract_dir"
422 |     
    | ^^^^ W293
423 |     log_message "Configuration recovery completed"
424 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:429:1: W293 Blank line contains whitespace
    |
427 | full_recovery() {{
428 |     local backup_date="${{1:-latest}}"
429 |     
    | ^^^^ W293
430 |     log_message "Starting full system recovery"
431 |     confirm_action "This will perform a COMPLETE SYSTEM RECOVERY from backup ($backup_date). This will OVERWRITE ALL DATA!"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:431:89: E501 Line too long (123 > 88)
    |
430 |     log_message "Starting full system recovery"
431 |     confirm_action "This will perform a COMPLETE SYSTEM RECOVERY from backup ($backup_date). This will OVERWRITE ALL DATA!"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
432 |     
433 |     # Recovery order: configs -> files -> databases
    |

coffeebreak/backup/recovery.py:432:1: W293 Blank line contains whitespace
    |
430 |     log_message "Starting full system recovery"
431 |     confirm_action "This will perform a COMPLETE SYSTEM RECOVERY from backup ($backup_date). This will OVERWRITE ALL DATA!"
432 |     
    | ^^^^ W293
433 |     # Recovery order: configs -> files -> databases
434 |     recover_configs "$backup_date"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:438:1: W293 Blank line contains whitespace
    |
436 |     recover_postgresql "$backup_date"
437 |     recover_mongodb "$backup_date"
438 |     
    | ^^^^ W293
439 |     # Restart services
440 |     log_message "Restarting CoffeeBreak services..."
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:443:1: W293 Blank line contains whitespace
    |
441 |     systemctl daemon-reload
442 |     systemctl start coffeebreak-* || handle_error "Failed to start CoffeeBreak services"
443 |     
    | ^^^^ W293
444 |     # Verify recovery
445 |     log_message "Verifying recovery..."
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:447:1: W293 Blank line contains whitespace
    |
445 |     log_message "Verifying recovery..."
446 |     sleep 10
447 |     
    | ^^^^ W293
448 |     if systemctl is-active --quiet coffeebreak-api; then
449 |         log_message "✓ CoffeeBreak API is running"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:453:1: W293 Blank line contains whitespace
    |
451 |         log_message "✗ CoffeeBreak API is not running"
452 |     fi
453 |     
    | ^^^^ W293
454 |     # Test basic connectivity
455 |     if curl -s --max-time 10 "https://{domain}/health" > /dev/null; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:460:1: W293 Blank line contains whitespace
    |
458 |         log_message "✗ CoffeeBreak is not responding to HTTPS requests"
459 |     fi
460 |     
    | ^^^^ W293
461 |     log_message "Full system recovery completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:462:1: W293 Blank line contains whitespace
    |
461 |     log_message "Full system recovery completed"
462 |     
    | ^^^^ W293
463 |     # Send success notification
464 |     if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:465:89: E501 Line too long (139 > 88)
    |
463 | …
464 | …en
465 | …overy Completed" "Full system recovery from backup ($backup_date) completed successfully"
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
466 | …
467 | …
    |

coffeebreak/backup/recovery.py:487:1: W293 Blank line contains whitespace
    |
485 |     local action="${{1:-menu}}"
486 |     local backup_date="${{2:-latest}}"
487 |     
    | ^^^^ W293
488 |     log_message "CoffeeBreak recovery system started (action: $action)"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:489:1: W293 Blank line contains whitespace
    |
488 |     log_message "CoffeeBreak recovery system started (action: $action)"
489 |     
    | ^^^^ W293
490 |     case "$action" in
491 |         "list")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:523:1: W293 Blank line contains whitespace
    |
521 |                 show_menu
522 |                 read -p "Select an option (1-7): " choice
523 |                 
    | ^^^^^^^^^^^^^^^^ W293
524 |                 case $choice in
525 |                     1) main "list" ;;
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:526:23: W291 Trailing whitespace
    |
524 |                 case $choice in
525 |                     1) main "list" ;;
526 |                     2) 
    |                       ^ W291
527 |                         read -p "Enter backup date (YYYYMMDD_HHMMSS) or 'latest': " date
528 |                         main "postgresql" "$date"
    |
    = help: Remove trailing whitespace

coffeebreak/backup/recovery.py:554:1: W293 Blank line contains whitespace
    |
552 |                         ;;
553 |                 esac
554 |                 
    | ^^^^^^^^^^^^^^^^ W293
555 |                 echo
556 |                 read -p "Press Enter to continue..."
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:560:89: E501 Line too long (94 > 88)
    |
558 |             ;;
559 |         *)
560 |             echo "Usage: $0 {{list|postgresql|mongodb|files|configs|full|menu}} [backup_date]"
    |                                                                                         ^^^^^^ E501
561 |             echo "  backup_date: YYYYMMDD_HHMMSS format or 'latest'"
562 |             exit 1
    |

coffeebreak/backup/recovery.py:565:1: W293 Blank line contains whitespace
    |
563 |             ;;
564 |     esac
565 |     
    | ^^^^ W293
566 |     log_message "Recovery operation completed"
567 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/recovery.py:595:89: E501 Line too long (92 > 88)
    |
593 | echo
594 |
595 | read -p "Are you absolutely sure you want to continue? Type 'YES' to confirm: " confirmation
    |                                                                                         ^^^^ E501
596 |
597 | if [ "$confirmation" != "YES" ]; then
    |

coffeebreak/backup/recovery.py:637:89: E501 Line too long (111 > 88)
    |
636 | ## Overview
637 | This document outlines the disaster recovery procedures for the CoffeeBreak application deployment at {domain}.
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^ E501
638 |
639 | ## Recovery Objectives
    |

coffeebreak/backup/recovery.py:795:89: E501 Line too long (97 > 88)
    |
793 | ---
794 | **Last Updated**: {datetime.now().isoformat()}
795 | **Next Review Date**: {(datetime.now().replace(month=datetime.now().month + 3)).isoformat()[:10]}
    |                                                                                         ^^^^^^^^^ E501
796 | """
    |

coffeebreak/backup/scheduler.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Backup scheduling system for automated backups."""
2 |
3 | / import os
4 | | import subprocess
5 | | from typing import Dict, Any
6 | | from datetime import datetime
7 | |
8 | | from ..utils.errors import ConfigurationError
  | |_____________________________________________^ I001
  |
  = help: Organize imports

coffeebreak/backup/scheduler.py:8:1: TID252 Prefer absolute imports over relative imports from parent modules
  |
6 | from datetime import datetime
7 |
8 | from ..utils.errors import ConfigurationError
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
  |
  = help: Replace relative imports from parent modules with absolute imports

coffeebreak/backup/scheduler.py:8:28: F401 [*] `..utils.errors.ConfigurationError` imported but unused
  |
6 | from datetime import datetime
7 |
8 | from ..utils.errors import ConfigurationError
  |                            ^^^^^^^^^^^^^^^^^^ F401
  |
  = help: Remove unused import: `..utils.errors.ConfigurationError`

coffeebreak/backup/scheduler.py:47:13: F841 Local variable `scheduler_script` is assigned to but never used
   |
46 |             # Create scheduler script
47 |             scheduler_script = self._create_scheduler_script(
   |             ^^^^^^^^^^^^^^^^ F841
48 |                 domain, config, scripts_dir
49 |             )
   |
   = help: Remove assignment to unused variable `scheduler_script`

coffeebreak/backup/scheduler.py:97:1: W293 Blank line contains whitespace
   |
95 | run_backup() {{
96 |     local backup_type="$1"
97 |     
   | ^^^^ W293
98 |     log_message "Starting scheduled backup (type: $backup_type)"
   |
   = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:99:1: W293 Blank line contains whitespace
    |
 98 |     log_message "Starting scheduled backup (type: $backup_type)"
 99 |     
    | ^^^^ W293
100 |     if [ -f "$BACKUP_SCRIPT" ]; then
101 |         if "$BACKUP_SCRIPT" "$backup_type" >> "$LOG_FILE" 2>&1; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:106:1: W293 Blank line contains whitespace
    |
104 |         else
105 |             log_message "Scheduled backup failed (type: $backup_type)"
106 |             
    | ^^^^^^^^^^^^ W293
107 |             # Send failure notification
108 |             if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:109:89: E501 Line too long (119 > 88)
    |
107 |             # Send failure notification
108 |             if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
109 |                 /opt/coffeebreak/bin/notify.sh "Scheduled Backup Failed" "Backup type: $backup_type failed to complete"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
110 |             fi
111 |             return 1
    |

coffeebreak/backup/scheduler.py:122:89: E501 Line too long (110 > 88)
    |
120 | check_system_load() {{
121 |     local max_load="{config.get("max_load_threshold", 2.0)}"
122 |     local current_load=$(uptime | awk -F'load average:' '{{ print $2 }}' | awk '{{ print $1 }}' | sed 's/,//')
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^ E501
123 |     
124 |     if (( $(echo "$current_load > $max_load" | bc -l) )); then
    |

coffeebreak/backup/scheduler.py:123:1: W293 Blank line contains whitespace
    |
121 |     local max_load="{config.get("max_load_threshold", 2.0)}"
122 |     local current_load=$(uptime | awk -F'load average:' '{{ print $2 }}' | awk '{{ print $1 }}' | sed 's/,//')
123 |     
    | ^^^^ W293
124 |     if (( $(echo "$current_load > $max_load" | bc -l) )); then
125 |         log_message "WARNING: System load too high ($current_load), delaying backup"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:126:1: W293 Blank line contains whitespace
    |
124 |     if (( $(echo "$current_load > $max_load" | bc -l) )); then
125 |         log_message "WARNING: System load too high ($current_load), delaying backup"
126 |         
    | ^^^^^^^^ W293
127 |         # Wait up to 30 minutes for load to decrease
128 |         local wait_count=0
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:129:89: E501 Line too long (95 > 88)
    |
127 |         # Wait up to 30 minutes for load to decrease
128 |         local wait_count=0
129 |         while (( $(echo "$current_load > $max_load" | bc -l) )) && [ "$wait_count" -lt 30 ]; do
    |                                                                                         ^^^^^^^ E501
130 |             sleep 60
131 |             current_load=$(uptime | awk -F'load average:' '{{ print $2 }}' | awk '{{ print $1 }}' | sed 's/,//')
    |

coffeebreak/backup/scheduler.py:131:89: E501 Line too long (112 > 88)
    |
129 |         while (( $(echo "$current_load > $max_load" | bc -l) )) && [ "$wait_count" -lt 30 ]; do
130 |             sleep 60
131 |             current_load=$(uptime | awk -F'load average:' '{{ print $2 }}' | awk '{{ print $1 }}' | sed 's/,//')
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^ E501
132 |             ((wait_count++))
133 |         done
    |

coffeebreak/backup/scheduler.py:134:1: W293 Blank line contains whitespace
    |
132 |             ((wait_count++))
133 |         done
134 |         
    | ^^^^^^^^ W293
135 |         if (( $(echo "$current_load > $max_load" | bc -l) )); then
136 |             log_message "ERROR: System load still too high after 30 minutes, skipping backup"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:136:89: E501 Line too long (93 > 88)
    |
135 |         if (( $(echo "$current_load > $max_load" | bc -l) )); then
136 |             log_message "ERROR: System load still too high after 30 minutes, skipping backup"
    |                                                                                         ^^^^^ E501
137 |             return 1
138 |         fi
    |

coffeebreak/backup/scheduler.py:140:1: W293 Blank line contains whitespace
    |
138 |         fi
139 |     fi
140 |     
    | ^^^^ W293
141 |     return 0
142 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:148:1: W293 Blank line contains whitespace
    |
146 |     local backup_dir="{config.get("backup_dir", "/opt/coffeebreak/backups")}"
147 |     local min_space_gb="{config.get("min_free_space_gb", 5)}"
148 |     
    | ^^^^ W293
149 |     # Get available space in GB
150 |     local available_gb=$(df "$backup_dir" | tail -1 | awk '{{print int($4/1024/1024)}}')
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:151:1: W293 Blank line contains whitespace
    |
149 |     # Get available space in GB
150 |     local available_gb=$(df "$backup_dir" | tail -1 | awk '{{print int($4/1024/1024)}}')
151 |     
    | ^^^^ W293
152 |     if [ "$available_gb" -lt "$min_space_gb" ]; then
153 |         log_message "ERROR: Insufficient disk space ($available_gb GB available, need $min_space_gb GB)"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:153:89: E501 Line too long (104 > 88)
    |
152 |     if [ "$available_gb" -lt "$min_space_gb" ]; then
153 |         log_message "ERROR: Insufficient disk space ($available_gb GB available, need $min_space_gb GB)"
    |                                                                                         ^^^^^^^^^^^^^^^^ E501
154 |         
155 |         # Send low disk space alert
    |

coffeebreak/backup/scheduler.py:154:1: W293 Blank line contains whitespace
    |
152 |     if [ "$available_gb" -lt "$min_space_gb" ]; then
153 |         log_message "ERROR: Insufficient disk space ($available_gb GB available, need $min_space_gb GB)"
154 |         
    | ^^^^^^^^ W293
155 |         # Send low disk space alert
156 |         if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:157:89: E501 Line too long (129 > 88)
    |
155 |         # Send low disk space alert
156 |         if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
157 |             /opt/coffeebreak/bin/notify.sh "Low Disk Space" "Only $available_gb GB available for backups (need $min_space_gb GB)"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
158 |         fi
    |

coffeebreak/backup/scheduler.py:159:1: W293 Blank line contains whitespace
    |
157 |             /opt/coffeebreak/bin/notify.sh "Low Disk Space" "Only $available_gb GB available for backups (need $min_space_gb GB)"
158 |         fi
159 |         
    | ^^^^^^^^ W293
160 |         return 1
161 |     fi
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:162:1: W293 Blank line contains whitespace
    |
160 |         return 1
161 |     fi
162 |     
    | ^^^^ W293
163 |     return 0
164 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:169:1: W293 Blank line contains whitespace
    |
167 | main() {{
168 |     local backup_type="${{1:-incremental}}"
169 |     
    | ^^^^ W293
170 |     log_message "Backup scheduler started (type: $backup_type)"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:171:1: W293 Blank line contains whitespace
    |
170 |     log_message "Backup scheduler started (type: $backup_type)"
171 |     
    | ^^^^ W293
172 |     # Pre-backup checks
173 |     if ! check_system_load; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:176:1: W293 Blank line contains whitespace
    |
174 |         exit 1
175 |     fi
176 |     
    | ^^^^ W293
177 |     if ! check_disk_space; then
178 |         exit 1
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:180:1: W293 Blank line contains whitespace
    |
178 |         exit 1
179 |     fi
180 |     
    | ^^^^ W293
181 |     # Lock file to prevent concurrent backups
182 |     local lock_file="/tmp/coffeebreak-backup.lock"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:183:1: W293 Blank line contains whitespace
    |
181 |     # Lock file to prevent concurrent backups
182 |     local lock_file="/tmp/coffeebreak-backup.lock"
183 |     
    | ^^^^ W293
184 |     if [ -f "$lock_file" ]; then
185 |         local lock_pid=$(cat "$lock_file" 2>/dev/null || echo "")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:186:1: W293 Blank line contains whitespace
    |
184 |     if [ -f "$lock_file" ]; then
185 |         local lock_pid=$(cat "$lock_file" 2>/dev/null || echo "")
186 |         
    | ^^^^^^^^ W293
187 |         if [ -n "$lock_pid" ] && kill -0 "$lock_pid" 2>/dev/null; then
188 |             log_message "Backup already running (PID: $lock_pid), exiting"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:195:1: W293 Blank line contains whitespace
    |
193 |         fi
194 |     fi
195 |     
    | ^^^^ W293
196 |     # Create lock file
197 |     echo $$ > "$lock_file"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:198:1: W293 Blank line contains whitespace
    |
196 |     # Create lock file
197 |     echo $$ > "$lock_file"
198 |     
    | ^^^^ W293
199 |     # Ensure lock file is removed on exit
200 |     trap 'rm -f "$lock_file"' EXIT
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:201:1: W293 Blank line contains whitespace
    |
199 |     # Ensure lock file is removed on exit
200 |     trap 'rm -f "$lock_file"' EXIT
201 |     
    | ^^^^ W293
202 |     # Run the backup
203 |     if run_backup "$backup_type"; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/scheduler.py:248:17: F541 [*] f-string without any placeholders
    |
246 |             # Cron entries
247 |             cron_entries = [
248 |                 f"# CoffeeBreak incremental backup",
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
249 |                 f"{incremental_schedule} {scripts_dir}/backup-scheduler.sh incremental",
250 |                 f"# CoffeeBreak full backup",
    |
    = help: Remove extraneous `f` prefix

coffeebreak/backup/scheduler.py:250:17: F541 [*] f-string without any placeholders
    |
248 |                 f"# CoffeeBreak incremental backup",
249 |                 f"{incremental_schedule} {scripts_dir}/backup-scheduler.sh incremental",
250 |                 f"# CoffeeBreak full backup",
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
251 |                 f"{full_schedule} {scripts_dir}/backup-scheduler.sh full",
252 |                 f"# CoffeeBreak backup verification",
    |
    = help: Remove extraneous `f` prefix

coffeebreak/backup/scheduler.py:252:17: F541 [*] f-string without any placeholders
    |
250 |                 f"# CoffeeBreak full backup",
251 |                 f"{full_schedule} {scripts_dir}/backup-scheduler.sh full",
252 |                 f"# CoffeeBreak backup verification",
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
253 |                 f"0 4 * * * {scripts_dir}/verify-backup.sh",
254 |                 f"# CoffeeBreak backup monitoring",
    |
    = help: Remove extraneous `f` prefix

coffeebreak/backup/scheduler.py:254:17: F541 [*] f-string without any placeholders
    |
252 |                 f"# CoffeeBreak backup verification",
253 |                 f"0 4 * * * {scripts_dir}/verify-backup.sh",
254 |                 f"# CoffeeBreak backup monitoring",
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
255 |                 f"0 */6 * * * {scripts_dir}/monitor-backup.sh",
256 |             ]
    |
    = help: Remove extraneous `f` prefix

coffeebreak/backup/scheduler.py:266:13: E722 Do not use bare `except`
    |
264 |                     current_crontab.stdout if current_crontab.returncode == 0 else ""
265 |                 )
266 |             except:
    |             ^^^^^^ E722
267 |                 crontab_content = ""
    |

coffeebreak/backup/storage.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Backup storage management system."""
 2 |
 3 | / import os
 4 | | import subprocess
 5 | | import shutil
 6 | | from pathlib import Path
 7 | | from typing import Dict, Any, Optional
 8 | | import json
 9 | |
10 | | from ..utils.errors import ConfigurationError
   | |_____________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/backup/storage.py:7:31: F401 [*] `typing.Optional` imported but unused
  |
5 | import shutil
6 | from pathlib import Path
7 | from typing import Dict, Any, Optional
  |                               ^^^^^^^^ F401
8 | import json
  |
  = help: Remove unused import: `typing.Optional`

coffeebreak/backup/storage.py:10:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 8 | import json
 9 |
10 | from ..utils.errors import ConfigurationError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/backup/storage.py:10:28: F401 [*] `..utils.errors.ConfigurationError` imported but unused
   |
 8 | import json
 9 |
10 | from ..utils.errors import ConfigurationError
   |                            ^^^^^^^^^^^^^^^^^^ F401
   |
   = help: Remove unused import: `..utils.errors.ConfigurationError`

coffeebreak/backup/storage.py:262:1: W293 Blank line contains whitespace
    |
260 | sync_to_s3() {{
261 |     log_message "Starting S3 sync"
262 |     
    | ^^^^ W293
263 |     # Sync backup directory to S3
264 |     if aws s3 sync "$BACKUP_DIR" "s3://$S3_BUCKET/$S3_PREFIX" --region {s3_region} --delete; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:264:89: E501 Line too long (97 > 88)
    |
263 |     # Sync backup directory to S3
264 |     if aws s3 sync "$BACKUP_DIR" "s3://$S3_BUCKET/$S3_PREFIX" --region {s3_region} --delete; then
    |                                                                                         ^^^^^^^^^ E501
265 |         log_message "S3 sync completed successfully"
266 |         return 0
    |

coffeebreak/backup/storage.py:276:1: W293 Blank line contains whitespace
    |
274 | verify_s3_sync() {{
275 |     log_message "Verifying S3 sync"
276 |     
    | ^^^^ W293
277 |     local local_files=$(find "$BACKUP_DIR" -type f | wc -l)
278 |     local s3_files=$(aws s3 ls "s3://$S3_BUCKET/$S3_PREFIX" --recursive | wc -l)
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:279:1: W293 Blank line contains whitespace
    |
277 |     local local_files=$(find "$BACKUP_DIR" -type f | wc -l)
278 |     local s3_files=$(aws s3 ls "s3://$S3_BUCKET/$S3_PREFIX" --recursive | wc -l)
279 |     
    | ^^^^ W293
280 |     log_message "Local files: $local_files, S3 files: $s3_files"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:281:1: W293 Blank line contains whitespace
    |
280 |     log_message "Local files: $local_files, S3 files: $s3_files"
281 |     
    | ^^^^ W293
282 |     if [ "$s3_files" -gt 0 ]; then
283 |         log_message "S3 sync verification passed"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:294:1: W293 Blank line contains whitespace
    |
292 | main() {{
293 |     local action="${{1:-sync}}"
294 |     
    | ^^^^ W293
295 |     case "$action" in
296 |         "sync")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:329:13: E722 Do not use bare `except`
    |
327 |                     current_crontab.stdout if current_crontab.returncode == 0 else ""
328 |                 )
329 |             except:
    |             ^^^^^^ E722
330 |                 crontab_content = ""
    |

coffeebreak/backup/storage.py:396:1: W293 Blank line contains whitespace
    |
394 | sync_via_rsync() {{
395 |     log_message "Starting rsync sync"
396 |     
    | ^^^^ W293
397 |     # Sync backup directory via rsync
398 |     if rsync -avz --delete "$BACKUP_DIR/" "$RSYNC_USER@$RSYNC_HOST:$RSYNC_PATH/"; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:410:1: W293 Blank line contains whitespace
    |
408 | verify_rsync_sync() {{
409 |     log_message "Verifying rsync sync"
410 |     
    | ^^^^ W293
411 |     # Check if remote directory exists and has files
412 |     if ssh "$RSYNC_USER@$RSYNC_HOST" "test -d $RSYNC_PATH && find $RSYNC_PATH -type f | head -1"; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:412:89: E501 Line too long (102 > 88)
    |
411 |     # Check if remote directory exists and has files
412 |     if ssh "$RSYNC_USER@$RSYNC_HOST" "test -d $RSYNC_PATH && find $RSYNC_PATH -type f | head -1"; then
    |                                                                                         ^^^^^^^^^^^^^^ E501
413 |         log_message "Rsync sync verification passed"
414 |         return 0
    |

coffeebreak/backup/storage.py:424:1: W293 Blank line contains whitespace
    |
422 | main() {{
423 |     local action="${{1:-sync}}"
424 |     
    | ^^^^ W293
425 |     case "$action" in
426 |         "sync")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:508:1: W293 Blank line contains whitespace
    |
506 | sync_via_sftp() {{
507 |     log_message "Starting SFTP sync"
508 |     
    | ^^^^ W293
509 |     # Create SFTP batch file
510 |     local batch_file="/tmp/sftp-batch-$(date +%s)"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:511:1: W293 Blank line contains whitespace
    |
509 |     # Create SFTP batch file
510 |     local batch_file="/tmp/sftp-batch-$(date +%s)"
511 |     
    | ^^^^ W293
512 |     cat > "$batch_file" << EOF
513 | mkdir $SFTP_PATH
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:517:1: W293 Blank line contains whitespace
    |
515 | quit
516 | EOF
517 |     
    | ^^^^ W293
518 |     # Execute SFTP batch
519 |     if sftp -b "$batch_file" "$SFTP_USER@$SFTP_HOST"; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:533:1: W293 Blank line contains whitespace
    |
531 | verify_sftp_sync() {{
532 |     log_message "Verifying SFTP sync"
533 |     
    | ^^^^ W293
534 |     # Check if remote directory exists
535 |     if sftp "$SFTP_USER@$SFTP_HOST" <<< "ls $SFTP_PATH" | grep -q "."; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:547:1: W293 Blank line contains whitespace
    |
545 | main() {{
546 |     local action="${{1:-sync}}"
547 |     
    | ^^^^ W293
548 |     case "$action" in
549 |         "sync")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:621:1: W293 Blank line contains whitespace
    |
619 |     local subject="$1"
620 |     local message="$2"
621 |     
    | ^^^^ W293
622 |     log_message "ALERT: $subject"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:623:1: W293 Blank line contains whitespace
    |
622 |     log_message "ALERT: $subject"
623 |     
    | ^^^^ W293
624 |     if command -v mail &> /dev/null && [ -n "$ALERT_EMAIL" ]; then
625 |         echo "$message" | mail -s "CoffeeBreak Storage Alert: $subject" "$ALERT_EMAIL"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:627:1: W293 Blank line contains whitespace
    |
625 |         echo "$message" | mail -s "CoffeeBreak Storage Alert: $subject" "$ALERT_EMAIL"
626 |     fi
627 |     
    | ^^^^ W293
628 |     if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
629 |         /opt/coffeebreak/bin/notify.sh "$subject" "$message"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:631:1: W293 Blank line contains whitespace
    |
629 |         /opt/coffeebreak/bin/notify.sh "$subject" "$message"
630 |     fi
631 |     
    | ^^^^ W293
632 |     logger -t coffeebreak-storage "ALERT: $subject - $message"
633 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:638:1: W293 Blank line contains whitespace
    |
636 | check_disk_usage() {{
637 |     log_message "Checking backup storage disk usage"
638 |     
    | ^^^^ W293
639 |     local usage_info=$(df "$BACKUP_DIR" | tail -1)
640 |     local usage_percent=$(echo "$usage_info" | awk '{{print $5}}' | sed 's/%//')
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:642:1: W293 Blank line contains whitespace
    |
640 |     local usage_percent=$(echo "$usage_info" | awk '{{print $5}}' | sed 's/%//')
641 |     local available_gb=$(echo "$usage_info" | awk '{{print int($4/1024/1024)}}')
642 |     
    | ^^^^ W293
643 |     log_message "Storage usage: $usage_percent% ($available_gb GB available)"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:644:1: W293 Blank line contains whitespace
    |
643 |     log_message "Storage usage: $usage_percent% ($available_gb GB available)"
644 |     
    | ^^^^ W293
645 |     if [ "$usage_percent" -ge "$CRITICAL_THRESHOLD" ]; then
646 |         send_alert "Critical Storage Usage" "Backup storage is $usage_percent% full ($available_gb GB available). Immediate action re…
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:646:89: E501 Line too long (141 > 88)
    |
645 | … ]; then
646 | … storage is $usage_percent% full ($available_gb GB available). Immediate action required!"
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
647 | …" ]; then
648 | …rage is $usage_percent% full ($available_gb GB available). Consider cleanup."
    |

coffeebreak/backup/storage.py:648:89: E501 Line too long (128 > 88)
    |
646 | …Backup storage is $usage_percent% full ($available_gb GB available). Immediate action required!"
647 | …ESHOLD" ]; then
648 | …up storage is $usage_percent% full ($available_gb GB available). Consider cleanup."
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
649 | …
650 | …
    |

coffeebreak/backup/storage.py:655:1: W293 Blank line contains whitespace
    |
653 | check_backup_health() {{
654 |     log_message "Checking backup directory health"
655 |     
    | ^^^^ W293
656 |     if [ ! -d "$BACKUP_DIR" ]; then
657 |         send_alert "Backup Directory Missing" "Backup directory $BACKUP_DIR does not exist"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:657:89: E501 Line too long (91 > 88)
    |
656 |     if [ ! -d "$BACKUP_DIR" ]; then
657 |         send_alert "Backup Directory Missing" "Backup directory $BACKUP_DIR does not exist"
    |                                                                                         ^^^ E501
658 |         return 1
659 |     fi
    |

coffeebreak/backup/storage.py:660:1: W293 Blank line contains whitespace
    |
658 |         return 1
659 |     fi
660 |     
    | ^^^^ W293
661 |     if [ ! -w "$BACKUP_DIR" ]; then
662 |         send_alert "Backup Directory Not Writable" "Cannot write to backup directory $BACKUP_DIR"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:662:89: E501 Line too long (97 > 88)
    |
661 |     if [ ! -w "$BACKUP_DIR" ]; then
662 |         send_alert "Backup Directory Not Writable" "Cannot write to backup directory $BACKUP_DIR"
    |                                                                                         ^^^^^^^^^ E501
663 |         return 1
664 |     fi
    |

coffeebreak/backup/storage.py:665:1: W293 Blank line contains whitespace
    |
663 |         return 1
664 |     fi
665 |     
    | ^^^^ W293
666 |     # Check subdirectories
667 |     local subdirs=("postgresql" "mongodb" "files" "configs")
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:670:89: E501 Line too long (105 > 88)
    |
668 |     for subdir in "${{subdirs[@]}}"; do
669 |         if [ ! -d "$BACKUP_DIR/$subdir" ]; then
670 |             send_alert "Backup Subdirectory Missing" "Backup subdirectory $BACKUP_DIR/$subdir is missing"
    |                                                                                         ^^^^^^^^^^^^^^^^^ E501
671 |         fi
672 |     done
    |

coffeebreak/backup/storage.py:678:1: W293 Blank line contains whitespace
    |
676 | check_storage_performance() {{
677 |     log_message "Checking storage performance"
678 |     
    | ^^^^ W293
679 |     local test_file="$BACKUP_DIR/.storage-test-$(date +%s)"
680 |     local start_time=$(date +%s.%N)
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:681:1: W293 Blank line contains whitespace
    |
679 |     local test_file="$BACKUP_DIR/.storage-test-$(date +%s)"
680 |     local start_time=$(date +%s.%N)
681 |     
    | ^^^^ W293
682 |     # Write test (10MB)
683 |     if dd if=/dev/zero of="$test_file" bs=1M count=10 &>/dev/null; then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:687:1: W293 Blank line contains whitespace
    |
685 |         local write_time=$(echo "$end_time - $start_time" | bc)
686 |         local write_speed=$(echo "scale=2; 10 / $write_time" | bc)
687 |         
    | ^^^^^^^^ W293
688 |         log_message "Storage write speed: ${{write_speed}} MB/s"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:689:1: W293 Blank line contains whitespace
    |
688 |         log_message "Storage write speed: ${{write_speed}} MB/s"
689 |         
    | ^^^^^^^^ W293
690 |         # Cleanup test file
691 |         rm -f "$test_file"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:692:1: W293 Blank line contains whitespace
    |
690 |         # Cleanup test file
691 |         rm -f "$test_file"
692 |         
    | ^^^^^^^^ W293
693 |         # Alert if write speed is too slow (less than 1 MB/s)
694 |         if (( $(echo "$write_speed < 1" | bc -l) )); then
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:695:89: E501 Line too long (101 > 88)
    |
693 |         # Alert if write speed is too slow (less than 1 MB/s)
694 |         if (( $(echo "$write_speed < 1" | bc -l) )); then
695 |             send_alert "Slow Storage Performance" "Storage write speed is only ${{write_speed}} MB/s"
    |                                                                                         ^^^^^^^^^^^^^ E501
696 |         fi
697 |     else
    |

coffeebreak/backup/storage.py:705:1: W293 Blank line contains whitespace
    |
703 | check_remote_sync() {{
704 |     local sync_script_patterns=("s3-sync.sh" "rsync-sync.sh" "sftp-sync.sh")
705 |     
    | ^^^^ W293
706 |     for pattern in "${{sync_script_patterns[@]}}"; do
707 |         local sync_script=$(find /opt/coffeebreak/bin -name "$pattern" 2>/dev/null | head -1)
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:707:89: E501 Line too long (93 > 88)
    |
706 |     for pattern in "${{sync_script_patterns[@]}}"; do
707 |         local sync_script=$(find /opt/coffeebreak/bin -name "$pattern" 2>/dev/null | head -1)
    |                                                                                         ^^^^^ E501
708 |         
709 |         if [ -f "$sync_script" ]; then
    |

coffeebreak/backup/storage.py:708:1: W293 Blank line contains whitespace
    |
706 |     for pattern in "${{sync_script_patterns[@]}}"; do
707 |         local sync_script=$(find /opt/coffeebreak/bin -name "$pattern" 2>/dev/null | head -1)
708 |         
    | ^^^^^^^^ W293
709 |         if [ -f "$sync_script" ]; then
710 |             log_message "Checking remote sync: $pattern"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:711:1: W293 Blank line contains whitespace
    |
709 |         if [ -f "$sync_script" ]; then
710 |             log_message "Checking remote sync: $pattern"
711 |             
    | ^^^^^^^^^^^^ W293
712 |             if "$sync_script" verify; then
713 |                 log_message "✓ Remote sync verification passed: $pattern"
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:715:89: E501 Line too long (94 > 88)
    |
713 |                 log_message "✓ Remote sync verification passed: $pattern"
714 |             else
715 |                 send_alert "Remote Sync Failed" "Remote sync verification failed for $pattern"
    |                                                                                         ^^^^^^ E501
716 |             fi
717 |         fi
    |

coffeebreak/backup/storage.py:724:1: W293 Blank line contains whitespace
    |
722 | main() {{
723 |     log_message "Starting storage monitoring check"
724 |     
    | ^^^^ W293
725 |     check_disk_usage
726 |     check_backup_health
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:729:1: W293 Blank line contains whitespace
    |
727 |     check_storage_performance
728 |     check_remote_sync
729 |     
    | ^^^^ W293
730 |     log_message "Storage monitoring check completed"
731 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/backup/storage.py:753:13: E722 Do not use bare `except`
    |
751 |                     current_crontab.stdout if current_crontab.returncode == 0 else ""
752 |                 )
753 |             except:
    |             ^^^^^^ E722
754 |                 crontab_content = ""
    |

coffeebreak/cli.py:11:1: I001 [*] Import block is un-sorted or un-formatted
   |
 9 |   """
10 |
11 | / import os
12 | | import subprocess
13 | | import click
14 | | from pathlib import Path
15 | | from typing import Optional, List, Dict, Any, Union
16 | | from coffeebreak import __version__
17 | | from coffeebreak.utils.logging import setup_logging
18 | | from coffeebreak.utils.errors import ErrorHandler
   | |_________________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/cli.py:15:47: F401 [*] `typing.Union` imported but unused
   |
13 | import click
14 | from pathlib import Path
15 | from typing import Optional, List, Dict, Any, Union
   |                                               ^^^^^ F401
16 | from coffeebreak import __version__
17 | from coffeebreak.utils.logging import setup_logging
   |
   = help: Remove unused import: `typing.Union`

coffeebreak/cli.py:124:20: F541 [*] f-string without any placeholders
    |
123 |     if ctx.obj["dry_run"]:
124 |         click.echo(f"DRY RUN: Would initialize development environment")
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
125 |         click.echo(f"DRY RUN: Organization: {organization}, Version: {version}")
126 |         click.echo(f"DRY RUN: Environment: {env_type} ({env_identifier})")
    |
    = help: Remove extraneous `f` prefix

coffeebreak/cli.py:175:5: C901 `activate` is too complex (19 > 15)
    |
173 | )
174 | @click.pass_context
175 | def activate(
    |     ^^^^^^^^ C901
176 |     ctx: click.Context, shell: Optional[str], info: bool, show_command: bool
177 | ) -> None:
    |

coffeebreak/cli.py:226:89: E501 Line too long (92 > 88)
    |
225 |         click.echo(
226 |             f"Starting new {detected_shell} shell with CoffeeBreak environment activated..."
    |                                                                                         ^^^^ E501
227 |         )
228 |         click.echo("Type 'exit' to return to your original shell.")
    |

coffeebreak/cli.py:261:89: E501 Line too long (167 > 88)
    |
259 | …
260 | …
261 | …conda info --base)/etc/profile.d/conda.sh && conda activate {conda_env_name} && exec {detected_shell}"'
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
262 | …w_env)
263 | …
    |

coffeebreak/cli.py:266:89: E501 Line too long (95 > 88)
    |
264 |                 else:
265 |                     click.echo(
266 |                         f"Auto-activation for conda with {detected_shell} not fully supported."
    |                                                                                         ^^^^^^^ E501
267 |                     )
268 |                     click.echo(f"Please run: {conda_activate_cmd}")
    |

coffeebreak/cli.py:332:20: F541 [*] f-string without any placeholders
    |
330 |     """
331 |     if ctx.obj["dry_run"]:
332 |         click.echo(f"DRY RUN: Would initialize production environment")
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
333 |         click.echo(f"DRY RUN: Docker mode: {docker}")
334 |         click.echo(f"DRY RUN: Domain: {domain}")
    |
    = help: Remove extraneous `f` prefix

coffeebreak/cli.py:354:17: F541 [*] f-string without any placeholders
    |
352 |         if not ssl_email:
353 |             ssl_email = click.prompt(
354 |                 f"Email for SSL certificates", default=f"admin@{domain}"
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
355 |             )
    |
    = help: Remove extraneous `f` prefix

coffeebreak/cli.py:367:28: F541 [*] f-string without any placeholders
    |
365 |             if result["success"]:
366 |                 click.echo("✓ Standalone production environment setup completed!")
367 |                 click.echo(f"\nSetup summary:")
    |                            ^^^^^^^^^^^^^^^^^^^ F541
368 |                 click.echo(f"  Domain: {domain}")
369 |                 click.echo(f"  SSL email: {ssl_email}")
    |
    = help: Remove extraneous `f` prefix

coffeebreak/cli.py:372:28: F541 [*] f-string without any placeholders
    |
370 |                 click.echo(f"  Installation scripts: {result['scripts_dir']}")
371 |
372 |                 click.echo(f"\nNext steps:")
    |                            ^^^^^^^^^^^^^^^^ F541
373 |                 click.echo(f"  1. Review configuration in {result['config_dir']}")
374 |                 click.echo(f"  2. Run installation: sudo {result['install_script']}")
    |
    = help: Remove extraneous `f` prefix

coffeebreak/cli.py:375:28: F541 [*] f-string without any placeholders
    |
373 |                 click.echo(f"  1. Review configuration in {result['config_dir']}")
374 |                 click.echo(f"  2. Run installation: sudo {result['install_script']}")
375 |                 click.echo(f"  3. Configure domain DNS to point to this server")
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
376 |             else:
377 |                 click.echo(
    |
    = help: Remove extraneous `f` prefix

coffeebreak/cli.py:395:28: F541 [*] f-string without any placeholders
    |
393 |             if result["success"]:
394 |                 click.echo("✓ Docker production project generated!")
395 |                 click.echo(f"\nProject details:")
    |                            ^^^^^^^^^^^^^^^^^^^^^ F541
396 |                 click.echo(f"  Project directory: {result['project_dir']}")
397 |                 click.echo(f"  Files created: {len(result['files_created'])}")
    |
    = help: Remove extraneous `f` prefix

coffeebreak/cli.py:400:28: F541 [*] f-string without any placeholders
    |
398 |                 click.echo(f"  Secrets generated: {result['secrets_count']}")
399 |
400 |                 click.echo(f"\nNext steps:")
    |                            ^^^^^^^^^^^^^^^^ F541
401 |                 click.echo(f"  1. cd {result['project_dir']}")
402 |                 click.echo(f"  2. Review docker-compose.yml and configuration")
    |
    = help: Remove extraneous `f` prefix

coffeebreak/cli.py:402:28: F541 [*] f-string without any placeholders
    |
400 |                 click.echo(f"\nNext steps:")
401 |                 click.echo(f"  1. cd {result['project_dir']}")
402 |                 click.echo(f"  2. Review docker-compose.yml and configuration")
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
403 |                 click.echo(f"  3. Deploy with: ./deploy.sh")
404 |             else:
    |
    = help: Remove extraneous `f` prefix

coffeebreak/cli.py:403:28: F541 [*] f-string without any placeholders
    |
401 |                 click.echo(f"  1. cd {result['project_dir']}")
402 |                 click.echo(f"  2. Review docker-compose.yml and configuration")
403 |                 click.echo(f"  3. Deploy with: ./deploy.sh")
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
404 |             else:
405 |                 click.echo(
    |
    = help: Remove extraneous `f` prefix

coffeebreak/cli.py:406:89: E501 Line too long (97 > 88)
    |
404 |             else:
405 |                 click.echo(
406 |                     f"✗ Docker project generation failed: {result.get('error', 'Unknown error')}"
    |                                                                                         ^^^^^^^^^ E501
407 |                 )
408 |                 ctx.exit(1)
    |

coffeebreak/cli.py:432:89: E501 Line too long (101 > 88)
    |
430 |                 else:
431 |                     click.echo(
432 |                         f"✗ Docker project generation failed: {result.get('error', 'Unknown error')}"
    |                                                                                         ^^^^^^^^^^^^^ E501
433 |                     )
434 |                     ctx.exit(1)
    |

coffeebreak/cli.py:447:89: E501 Line too long (92 > 88)
    |
445 |                 else:
446 |                     click.echo(
447 |                         f"✗ Standalone setup failed: {result.get('error', 'Unknown error')}"
    |                                                                                         ^^^^ E501
448 |                     )
449 |                     ctx.exit(1)
    |

coffeebreak/cli.py:466:5: C901 `start` is too complex (19 > 15)
    |
464 | @click.option("--detach", "-d", is_flag=True, help="Run in background (detached mode)")
465 | @click.pass_context
466 | def start(
    |     ^^^^^ C901
467 |     ctx: click.Context,
468 |     profile: Optional[str],
    |

coffeebreak/cli.py:551:89: E501 Line too long (100 > 88)
    |
549 |         else:
550 |             click.echo(
551 |                 f"✗ Failed to start development environment: {result.get('error', 'Unknown error')}"
    |                                                                                         ^^^^^^^^^^^^ E501
552 |             )
    |

coffeebreak/cli.py:602:89: E501 Line too long (99 > 88)
    |
600 |         else:
601 |             click.echo(
602 |                 f"✗ Failed to stop development environment: {result.get('error', 'Unknown error')}"
    |                                                                                         ^^^^^^^^^^^ E501
603 |             )
    |

coffeebreak/cli.py:810:89: E501 Line too long (90 > 88)
    |
808 |                 else:
809 |                     click.echo(
810 |                         f"Failed to get logs: {logs_result.get('error', 'Unknown error')}"
    |                                                                                         ^^ E501
811 |                     )
    |

coffeebreak/cli.py:826:5: C901 `build` is too complex (30 > 15)
    |
824 | @click.option("--docker", is_flag=True, help="Build Docker images")
825 | @click.pass_context
826 | def build(
    |     ^^^^^ C901
827 |     ctx: click.Context,
828 |     target: Optional[str],
    |

coffeebreak/cli.py:916:89: E501 Line too long (105 > 88)
    |
914 |                 else:
915 |                     click.echo(
916 |                         f"✗ Failed to build component '{target}': {result.get('error', 'Unknown error')}"
    |                                                                                         ^^^^^^^^^^^^^^^^^ E501
917 |                     )
918 |                     ctx.exit(1)
    |

coffeebreak/cli.py:946:32: F541 [*] f-string without any placeholders
    |
945 |                 if result["success"]:
946 |                     click.echo(f"✓ Docker images built successfully")
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
947 |                     if result.get("images"):
948 |                         click.echo("Built images:")
    |
    = help: Remove extraneous `f` prefix

coffeebreak/cli.py:993:89: E501 Line too long (97 > 88)
    |
991 |                     else:
992 |                         click.echo(
993 |                             f"✗ {component} build failed: {result.get('error', 'Unknown error')}"
    |                                                                                         ^^^^^^^^^ E501
994 |                         )
    |

coffeebreak/cli.py:1013:89: E501 Line too long (103 > 88)
     |
1011 |                         if result["success"] and result.get("build_dir"):
1012 |                             click.echo(
1013 |                                 f"  {result['component']}/  ({len(result.get('artifacts', []))} files)"
     |                                                                                         ^^^^^^^^^^^^^^^ E501
1014 |                             )
     |

coffeebreak/cli.py:1016:32: F541 [*] f-string without any placeholders
     |
1014 |                             )
1015 |
1016 |                     click.echo(f"\nTo see detailed artifacts, run with --verbose")
     |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
1017 |                 else:
1018 |                     failed = total - successful
     |
     = help: Remove extraneous `f` prefix

coffeebreak/cli.py:1020:89: E501 Line too long (103 > 88)
     |
1018 |                     failed = total - successful
1019 |                     click.echo(
1020 |                         f"\n✗ Build completed with {failed} failures ({successful}/{total} successful)"
     |                                                                                         ^^^^^^^^^^^^^^^ E501
1021 |                     )
1022 |                     ctx.exit(1)
     |

coffeebreak/cli.py:1051:9: I001 [*] Import block is un-sorted or un-formatted
     |
1049 |       """
1050 |       try:
1051 | /         import os
1052 | |         import subprocess
1053 | |         import shutil
1054 | |         import json
1055 | |         from pathlib import Path
     | |________________________________^ I001
1056 |
1057 |           component_dir = Path(component)
     |
     = help: Organize imports

coffeebreak/cli.py:1051:16: F401 [*] `os` imported but unused
     |
1049 |     """
1050 |     try:
1051 |         import os
     |                ^^ F401
1052 |         import subprocess
1053 |         import shutil
     |
     = help: Remove unused import: `os`

coffeebreak/cli.py:1052:16: F401 [*] `subprocess` imported but unused
     |
1050 |     try:
1051 |         import os
1052 |         import subprocess
     |                ^^^^^^^^^^ F401
1053 |         import shutil
1054 |         import json
     |
     = help: Remove unused import: `subprocess`

coffeebreak/cli.py:1053:16: F401 [*] `shutil` imported but unused
     |
1051 |         import os
1052 |         import subprocess
1053 |         import shutil
     |                ^^^^^^ F401
1054 |         import json
1055 |         from pathlib import Path
     |
     = help: Remove unused import: `shutil`

coffeebreak/cli.py:1054:16: F401 [*] `json` imported but unused
     |
1052 |         import subprocess
1053 |         import shutil
1054 |         import json
     |                ^^^^ F401
1055 |         from pathlib import Path
     |
     = help: Remove unused import: `json`

coffeebreak/cli.py:1110:5: C901 `_build_frontend` is too complex (19 > 15)
     |
1110 | def _build_frontend(
     |     ^^^^^^^^^^^^^^^ C901
1111 |     component_dir: Path, build_dir: Path, production: bool, verbose: bool
1112 | ) -> List[str]:
     |

coffeebreak/cli.py:1127:5: I001 [*] Import block is un-sorted or un-formatted
     |
1125 |           List of generated artifact paths relative to the build directory
1126 |       """
1127 | /     import subprocess
1128 | |     import shutil
     | |_________________^ I001
1129 |
1130 |       artifacts = []
     |
     = help: Organize imports

coffeebreak/cli.py:1203:5: C901 `_build_backend` is too complex (25 > 15)
     |
1203 | def _build_backend(
     |     ^^^^^^^^^^^^^^ C901
1204 |     component_dir: Path, build_dir: Path, production: bool, verbose: bool
1205 | ) -> List[str]:
     |

coffeebreak/cli.py:1220:5: I001 [*] Import block is un-sorted or un-formatted
     |
1218 |           List of generated artifact paths relative to the build directory
1219 |       """
1220 | /     import subprocess
1221 | |     import shutil
1222 | |     import os
     | |_____________^ I001
1223 |
1224 |       artifacts = []
     |
     = help: Organize imports

coffeebreak/cli.py:1364:5: I001 [*] Import block is un-sorted or un-formatted
     |
1362 |           List of generated artifact paths relative to the build directory
1363 |       """
1364 | /     import shutil
1365 | |     import json
     | |_______________^ I001
1366 |
1367 |       artifacts = []
     |
     = help: Organize imports

coffeebreak/cli.py:1513:5: C901 `deploy` is too complex (20 > 15)
     |
1511 | @click.option("--skip-backup", is_flag=True, help="Skip pre-deployment backup")
1512 | @click.pass_context
1513 | def deploy(
     |     ^^^^^^ C901
1514 |     ctx: click.Context,
1515 |     environment: str,
     |

coffeebreak/cli.py:1548:9: F841 Local variable `config_manager` is assigned to but never used
     |
1547 |         # Initialize components
1548 |         config_manager = ConfigManager()
     |         ^^^^^^^^^^^^^^ F841
1549 |         env_detector = EnvironmentDetector()
1550 |         deployment_manager = DeploymentManager(verbose=ctx.obj["verbose"])
     |
     = help: Remove assignment to unused variable `config_manager`

coffeebreak/cli.py:1556:9: F841 Local variable `current_env` is assigned to but never used
     |
1555 |         # Detect current environment and deployment type
1556 |         current_env = env_detector.detect_environment()
     |         ^^^^^^^^^^^ F841
1557 |
1558 |         # Pre-deployment validation
     |
     = help: Remove assignment to unused variable `current_env`

coffeebreak/cli.py:1595:89: E501 Line too long (94 > 88)
     |
1593 |                 else:
1594 |                     click.echo(
1595 |                         f"⚠ Backup failed: {backup_result['error']} (continuing with --force)"
     |                                                                                         ^^^^^^ E501
1596 |                     )
     |

coffeebreak/cli.py:1649:89: E501 Line too long (89 > 88)
     |
1647 |         else:
1648 |             click.echo(
1649 |                 f"✗ Deployment failed: {deployment_result.get('error', 'Unknown error')}"
     |                                                                                         ^ E501
1650 |             )
     |

coffeebreak/cli.py:1680:5: F811 Redefinition of unused `start` from line 466
     |
1678 | @click.argument("services", nargs=-1)
1679 | @click.pass_context
1680 | def start(ctx: click.Context, profile: Optional[str], services: tuple) -> None:
     |     ^^^^^ F811
1681 |     """Start dependency services.
     |
     = help: Remove definition: `start`

coffeebreak/cli.py:1733:5: F811 Redefinition of unused `stop` from line 567
     |
1731 | @click.option("--all", is_flag=True, help="Stop all containers (default)")
1732 | @click.pass_context
1733 | def stop(ctx, services, all):
     |     ^^^^ F811
1734 |     """Stop dependency services."""
1735 |     if ctx.obj["dry_run"]:
     |
     = help: Remove definition: `stop`

coffeebreak/cli.py:1773:5: F811 Redefinition of unused `status` from line 618
     |
1771 | @click.option("--history", type=int, help="Show health history (number of entries)")
1772 | @click.pass_context
1773 | def status(ctx, detailed, history):
     |     ^^^^^^ F811
1774 |     """Show dependency container status."""
1775 |     try:
     |
     = help: Remove definition: `status`

coffeebreak/cli.py:1795:89: E501 Line too long (103 > 88)
     |
1793 |                     total_count = entry.get("total_containers", 0)
1794 |                     click.echo(
1795 |                         f"  {i}. {timestamp}: {overall_status} ({healthy_count}/{total_count} healthy)"
     |                                                                                         ^^^^^^^^^^^^^^^ E501
1796 |                     )
1797 |             else:
     |

coffeebreak/cli.py:1847:5: F811 Redefinition of unused `logs` from line 714
     |
1845 | @click.option("--since", help="Show logs since timestamp (e.g. 2m, 1h, 2023-01-01)")
1846 | @click.pass_context
1847 | def logs(ctx, service, follow, tail, since):
     |     ^^^^ F811
1848 |     """Show logs for dependencies."""
1849 |     if ctx.obj["dry_run"]:
     |
     = help: Remove definition: `logs`

coffeebreak/cli.py:1930:89: E501 Line too long (90 > 88)
     |
1928 |                 else:
1929 |                     click.echo(
1930 |                         f"Failed to get logs: {logs_result.get('error', 'Unknown error')}"
     |                                                                                         ^^ E501
1931 |                     )
     |

coffeebreak/cli.py:1999:5: C901 `clean` is too complex (20 > 15)
     |
1997 | @click.option("--force", is_flag=True, help="Force removal without confirmation")
1998 | @click.pass_context
1999 | def clean(ctx, volumes, images, force):
     |     ^^^^^ C901
2000 |     """Stop and remove dependency containers."""
2001 |     if ctx.obj["dry_run"]:
     |

coffeebreak/cli.py:2102:9: I001 [*] Import block is un-sorted or un-formatted
     |
2101 |       try:
2102 | /         from coffeebreak.environments.plugin import PluginEnvironment
2103 | |         from coffeebreak.config import ConfigManager
     | |____________________________________________________^ I001
2104 |
2105 |           config_manager = ConfigManager()
     |
     = help: Organize imports

coffeebreak/cli.py:2141:9: I001 [*] Import block is un-sorted or un-formatted
     |
2140 |       try:
2141 | /         from coffeebreak.environments.plugin import PluginEnvironment
2142 | |         from coffeebreak.config import ConfigManager
     | |____________________________________________________^ I001
2143 |
2144 |           config_manager = ConfigManager()
     |
     = help: Organize imports

coffeebreak/cli.py:2181:9: I001 [*] Import block is un-sorted or un-formatted
     |
2180 |       try:
2181 | /         from coffeebreak.environments.plugin import PluginEnvironment
2182 | |         from coffeebreak.config import ConfigManager
     | |____________________________________________________^ I001
2183 |
2184 |           config_manager = ConfigManager()
     |
     = help: Organize imports

coffeebreak/cli.py:2230:5: C901 `publish` is too complex (35 > 15)
     |
2228 | @click.option("--public", is_flag=True, help="Make plugin publicly available")
2229 | @click.pass_context
2230 | def publish(ctx, name, validate, registry, token, tag, changelog, force, public):
     |     ^^^^^^^ C901
2231 |     """Publish plugin to registry."""
2232 |     if ctx.obj["dry_run"]:
     |

coffeebreak/cli.py:2241:9: I001 [*] Import block is un-sorted or un-formatted
     |
2240 |       try:
2241 | /         import os
2242 | |         import json
2243 | |         import tempfile
2244 | |         import tarfile
2245 | |         import hashlib
2246 | |         from datetime import datetime
2247 | |         from coffeebreak.environments.plugin import PluginEnvironment
2248 | |         from coffeebreak.config import ConfigManager
     | |____________________________________________________^ I001
2249 |
2250 |           # Initialize plugin environment
     |
     = help: Organize imports

coffeebreak/cli.py:2306:13: E722 Do not use bare `except`
     |
2304 |                 registry_config = config_manager.get_config().get("plugin_registry", {})
2305 |                 registry = registry_config.get("url")
2306 |             except:
     |             ^^^^^^ E722
2307 |                 pass
     |

coffeebreak/cli.py:2323:17: E722 Do not use bare `except`
     |
2321 |                     )
2322 |                     token = registry_config.get("token")
2323 |                 except:
     |                 ^^^^^^ E722
2324 |                     pass
     |

coffeebreak/cli.py:2447:24: F541 [*] f-string without any placeholders
     |
2446 |             # Installation instructions
2447 |             click.echo(f"\nUsers can install with:")
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
2448 |             click.echo(f"  coffeebreak plugin install {name}")
2449 |             if not public:
     |
     = help: Remove extraneous `f` prefix

coffeebreak/cli.py:2450:28: F541 [*] f-string without any placeholders
     |
2448 |             click.echo(f"  coffeebreak plugin install {name}")
2449 |             if not public:
2450 |                 click.echo(f"  (Note: Private plugin - users need access permissions)")
     |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
2451 |
2452 |             # Store registry info in config for future use
     |
     = help: Remove extraneous `f` prefix

coffeebreak/cli.py:2540:5: C901 `rotate` is too complex (19 > 15)
     |
2538 | )
2539 | @click.pass_context
2540 | def rotate(ctx, service, secret_type, force, backup):
     |     ^^^^^^ C901
2541 |     """Rotate secrets."""
2542 |     if ctx.obj["dry_run"]:
     |

coffeebreak/cli.py:2552:9: I001 [*] Import block is un-sorted or un-formatted
     |
2551 |       try:
2552 | /         from coffeebreak.secrets import SecretManager, SecretRotationManager
2553 | |         from coffeebreak.environments.detector import EnvironmentDetector
     | |_________________________________________________________________________^ I001
2554 |
2555 |           # Detect environment
     |
     = help: Organize imports

coffeebreak/cli.py:2628:24: F541 [*] f-string without any placeholders
     |
2626 |             failed = sum(1 for r in results if not r["success"])
2627 |
2628 |             click.echo(f"\nRotation completed:")
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^ F541
2629 |             click.echo(f"  ✓ Successful: {successful}")
2630 |             click.echo(f"  ✗ Failed: {failed}")
     |
     = help: Remove extraneous `f` prefix

coffeebreak/cli.py:2637:89: E501 Line too long (98 > 88)
     |
2635 |                     if not result["success"]:
2636 |                         click.echo(
2637 |                             f"  - {result['secret_name']}: {result.get('error', 'Unknown error')}"
     |                                                                                         ^^^^^^^^^^ E501
2638 |                         )
2639 |                 ctx.exit(1)
     |

coffeebreak/cli.py:2669:5: C901 `show` is too complex (23 > 15)
     |
2667 | @click.option("--export", help="Export secrets to file (use with caution)")
2668 | @click.pass_context
2669 | def show(ctx, masked, service, secret_type, format, export):
     |     ^^^^ C901
2670 |     """Display current secrets."""
2671 |     if ctx.obj["dry_run"]:
     |

coffeebreak/cli.py:2680:9: I001 [*] Import block is un-sorted or un-formatted
     |
2679 |       try:
2680 | /         from coffeebreak.secrets import SecretManager
2681 | |         from coffeebreak.environments.detector import EnvironmentDetector
     | |_________________________________________________________________________^ I001
2682 |
2683 |           # Detect environment
     |
     = help: Organize imports

coffeebreak/cli.py:2746:90: E501 Line too long (93 > 88)
     |
2744 |             if not masked and not export:
2745 |                 click.echo(
2746 |                     "⚠️  WARNING: Displaying unmasked secrets! Use --masked for safe viewing."
     |                                                                                         ^^^^^ E501
2747 |                 )
2748 |                 if not click.confirm("Continue with unmasked display?"):
     |

coffeebreak/cli.py:2755:89: E501 Line too long (95 > 88)
     |
2753 |             click.echo("-" * 80)
2754 |             click.echo(
2755 |                 f"{'Name':<20} {'Type':<12} {'Service':<15} {'Value':<20} {'Last Rotated':<15}"
     |                                                                                         ^^^^^^^ E501
2756 |             )
2757 |             click.echo("-" * 80)
     |

coffeebreak/cli.py:2766:89: E501 Line too long (121 > 88)
     |
2764 |                 )
2765 |                 click.echo(
2766 |                     f"{name:<20} {info['type']:<12} {info['service']:<15} {value_display:<20} {info['last_rotated']:<15}"
     |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
2767 |                 )
     |

coffeebreak/cli.py:2847:9: I001 [*] Import block is un-sorted or un-formatted
     |
2846 |       try:
2847 | /         import datetime
2848 | |         import os
2849 | |         import tarfile
2850 | |         import tempfile
2851 | |         import json
2852 | |         from coffeebreak.secrets import SecretManager
2853 | |         from coffeebreak.environments.detector import EnvironmentDetector
     | |_________________________________________________________________________^ I001
2854 |
2855 |           # Detect environment
     |
     = help: Organize imports

coffeebreak/cli.py:2955:17: I001 [*] Import block is un-sorted or un-formatted
     |
2954 |               try:
2955 | /                 from cryptography.fernet import Fernet
2956 | |                 from cryptography.hazmat.primitives import hashes
2957 | |                 from cryptography.hazmat.primitives.kdf.pbkdf2 import PBKDF2HMAC
2958 | |                 import base64
     | |_____________________________^ I001
2959 |
2960 |                   # Generate encryption key from password
     |
     = help: Organize imports

coffeebreak/cli.py:3003:20: F541 [*] f-string without any placeholders
     |
3001 |         # Show backup summary
3002 |         file_size = os.path.getsize(output)
3003 |         click.echo(f"\nBackup Summary:")
     |                    ^^^^^^^^^^^^^^^^^^^^ F541
3004 |         click.echo(f"  Secrets backed up: {len(secrets_data)}")
3005 |         click.echo(f"  File size: {file_size:,} bytes")
     |
     = help: Remove extraneous `f` prefix

coffeebreak/cli.py:3011:20: F541 [*] f-string without any placeholders
     |
3009 |             click.echo(f"  Service filter: {service}")
3010 |
3011 |         click.echo(f"\n⚠️  Store this backup securely!")
     |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
3012 |         click.echo(f"⚠️  Remember the password for encrypted backups!")
     |
     = help: Remove extraneous `f` prefix

coffeebreak/cli.py:3012:20: F541 [*] f-string without any placeholders
     |
3011 |         click.echo(f"\n⚠️  Store this backup securely!")
3012 |         click.echo(f"⚠️  Remember the password for encrypted backups!")
     |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
3013 |
3014 |     except Exception as e:
     |
     = help: Remove extraneous `f` prefix

coffeebreak/cli.py:3032:9: I001 [*] Import block is un-sorted or un-formatted
     |
3030 |       """Validate current plugin."""
3031 |       try:
3032 | /         from coffeebreak.environments.plugin import PluginEnvironment
3033 | |         from coffeebreak.config import ConfigManager
     | |____________________________________________________^ I001
3034 |
3035 |           config_manager = ConfigManager()
     |
     = help: Organize imports

coffeebreak/cli.py:3077:9: I001 [*] Import block is un-sorted or un-formatted
     |
3075 |       """Show plugin information."""
3076 |       try:
3077 | /         from coffeebreak.environments.plugin import PluginEnvironment
3078 | |         from coffeebreak.config import ConfigManager
     | |____________________________________________________^ I001
3079 |
3080 |           config_manager = ConfigManager()
     |
     = help: Organize imports

coffeebreak/cli.py:3109:24: F541 [*] f-string without any placeholders
     |
3107 |         build_info = plugin_info.get("build_info", {})
3108 |         if build_info:
3109 |             click.echo(f"\nBuild Information:")
     |                        ^^^^^^^^^^^^^^^^^^^^^^^ F541
3110 |             click.echo(
3111 |                 f"  Estimated size: {build_info.get('estimated_size', 'Unknown')}"
     |
     = help: Remove extraneous `f` prefix

coffeebreak/cli.py:3127:9: I001 [*] Import block is un-sorted or un-formatted
     |
3125 |       """List available plugin templates."""
3126 |       try:
3127 | /         from coffeebreak.environments.plugin import PluginEnvironment
3128 | |         from coffeebreak.config import ConfigManager
     | |____________________________________________________^ I001
3129 |
3130 |           config_manager = ConfigManager()
     |
     = help: Organize imports

coffeebreak/cli.py:3163:9: I001 [*] Import block is un-sorted or un-formatted
     |
3161 |       """Run plugin tests."""
3162 |       try:
3163 | /         from coffeebreak.environments.plugin import PluginEnvironment
3164 | |         from coffeebreak.config import ConfigManager
     | |____________________________________________________^ I001
3165 |
3166 |           config_manager = ConfigManager()
     |
     = help: Organize imports

coffeebreak/cli.py:3209:9: I001 [*] Import block is un-sorted or un-formatted
     |
3207 |       """Generate plugin documentation."""
3208 |       try:
3209 | /         from coffeebreak.environments.plugin import PluginEnvironment
3210 | |         from coffeebreak.config import ConfigManager
     | |____________________________________________________^ I001
3211 |
3212 |           config_manager = ConfigManager()
     |
     = help: Organize imports

coffeebreak/cli.py:3251:9: I001 [*] Import block is un-sorted or un-formatted
     |
3249 |       """Run quality assurance checks."""
3250 |       try:
3251 | /         from coffeebreak.environments.plugin import PluginEnvironment
3252 | |         from coffeebreak.config import ConfigManager
     | |____________________________________________________^ I001
3253 |
3254 |           config_manager = ConfigManager()
     |
     = help: Organize imports

coffeebreak/cli.py:3302:9: I001 [*] Import block is un-sorted or un-formatted
     |
3300 |       """Run complete plugin development workflow."""
3301 |       try:
3302 | /         from coffeebreak.environments.plugin import PluginEnvironment
3303 | |         from coffeebreak.config import ConfigManager
     | |____________________________________________________^ I001
3304 |
3305 |           config_manager = ConfigManager()
     |
     = help: Organize imports

coffeebreak/cli.py:3344:5: C901 `deps` is too complex (23 > 15)
     |
3342 | @click.option("--no-services", is_flag=True, help="Skip starting services")
3343 | @click.pass_context
3344 | def deps(ctx, analyze_only, no_python, no_node, no_services):
     |     ^^^^ C901
3345 |     """Manage plugin dependencies."""
3346 |     try:
     |

coffeebreak/cli.py:3347:9: I001 [*] Import block is un-sorted or un-formatted
     |
3345 |       """Manage plugin dependencies."""
3346 |       try:
3347 | /         from coffeebreak.environments.plugin import PluginEnvironment
3348 | |         from coffeebreak.config import ConfigManager
     | |____________________________________________________^ I001
3349 |
3350 |           config_manager = ConfigManager()
     |
     = help: Organize imports

coffeebreak/cli.py:3390:28: F541 [*] f-string without any placeholders
     |
3389 |             if analysis["recommendations"]:
3390 |                 click.echo(f"\nRecommendations:")
     |                            ^^^^^^^^^^^^^^^^^^^^^ F541
3391 |                 for rec in analysis["recommendations"][:3]:
3392 |                     click.echo(f"  💡 {rec}")
     |
     = help: Remove extraneous `f` prefix

coffeebreak/cli.py:3407:89: E501 Line too long (94 > 88)
     |
3405 |             if python_result["installed"]:
3406 |                 click.echo(
3407 |                     f"✓ Python: {len(python_result['packages_installed'])} packages installed"
     |                                                                                         ^^^^^^ E501
3408 |                 )
3409 |             elif python_result["details"]:
     |

coffeebreak/cli.py:3416:89: E501 Line too long (93 > 88)
     |
3414 |             if node_result["installed"]:
3415 |                 click.echo(
3416 |                     f"✓ Node.js: {len(node_result['packages_installed'])} packages installed"
     |                                                                                         ^^^^^ E501
3417 |                 )
3418 |             elif node_result["details"]:
     |

coffeebreak/cli.py:3431:28: F541 [*] f-string without any placeholders
     |
3429 |             # Show errors and warnings
3430 |             if results["errors"]:
3431 |                 click.echo(f"\nErrors:")
     |                            ^^^^^^^^^^^^ F541
3432 |                 for error in results["errors"]:
3433 |                     click.echo(f"  - {error}")
     |
     = help: Remove extraneous `f` prefix

coffeebreak/cli.py:3436:28: F541 [*] f-string without any placeholders
     |
3435 |             if results.get("warnings"):
3436 |                 click.echo(f"\nWarnings:")
     |                            ^^^^^^^^^^^^^^ F541
3437 |                 for warning in results["warnings"]:
3438 |                     click.echo(f"  - {warning}")
     |
     = help: Remove extraneous `f` prefix

coffeebreak/cli.py:3451:9: I001 [*] Import block is un-sorted or un-formatted
     |
3449 |       """Manage plugin development environment."""
3450 |       try:
3451 | /         from coffeebreak.environments.plugin import PluginEnvironment
3452 | |         from coffeebreak.config import ConfigManager
     | |____________________________________________________^ I001
3453 |
3454 |           config_manager = ConfigManager()
     |
     = help: Organize imports

coffeebreak/cli.py:3498:89: E501 Line too long (93 > 88)
     |
3496 |             if not results["mounted"]:
3497 |                 click.echo(
3498 |                     "\nNote: Plugin mounting failed. Check that CoffeeBreak core is running."
     |                                                                                         ^^^^^ E501
3499 |                 )
     |

coffeebreak/cli.py:3537:5: F811 Redefinition of unused `generate` from line 2500
     |
3535 | @click.option("--backup", is_flag=True, default=True, help="Enable automated backups")
3536 | @click.pass_context
3537 | def generate(
     |     ^^^^^^^^ F811
3538 |     ctx,
3539 |     domain,
     |
     = help: Remove definition: `generate`

coffeebreak/cli.py:3594:24: F541 [*] f-string without any placeholders
     |
3593 |         if result["success"]:
3594 |             click.echo(f"✓ Production project generated successfully!")
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
3595 |             click.echo(f"Project directory: {result['project_dir']}")
3596 |             click.echo(f"Files created: {len(result['files_created'])}")
     |
     = help: Remove extraneous `f` prefix

coffeebreak/cli.py:3610:89: E501 Line too long (98 > 88)
     |
3608 |         else:
3609 |             click.echo(
3610 |                 f"✗ Failed to generate production project: {result.get('error', 'Unknown error')}"
     |                                                                                         ^^^^^^^^^^ E501
3611 |             )
3612 |             ctx.exit(1)
     |

coffeebreak/cli.py:3628:5: F811 Redefinition of unused `install` from line 2485
     |
3626 | @click.option("--log-dir", default="/var/log/coffeebreak", help="Log directory")
3627 | @click.pass_context
3628 | def install(ctx, domain, ssl_email, user, install_dir, data_dir, log_dir):
     |     ^^^^^^^ F811
3629 |     """Install CoffeeBreak directly on production server (standalone mode)."""
3630 |     try:
     |
     = help: Remove definition: `install`

coffeebreak/cli.py:3671:5: C901 `validate` is too complex (22 > 15)
     |
3669 | )
3670 | @click.pass_context
3671 | def validate(ctx, domain, config_file, comprehensive):
     |     ^^^^^^^^ C901
3672 |     """Validate production configuration and readiness."""
3673 |     try:
     |

coffeebreak/cli.py:3671:5: F811 Redefinition of unused `validate` from line 3029
     |
3669 | )
3670 | @click.pass_context
3671 | def validate(ctx, domain, config_file, comprehensive):
     |     ^^^^^^^^ F811
3672 |     """Validate production configuration and readiness."""
3673 |     try:
     |
     = help: Remove definition: `validate`

coffeebreak/cli.py:3742:28: F541 [*] f-string without any placeholders
     |
3740 |             # Show detailed results if verbose
3741 |             if ctx.obj["verbose"]:
3742 |                 click.echo(f"\nDetailed Validation Results:")
     |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
3743 |                 for category, details in validation_result[
3744 |                     "validation_details"
     |
     = help: Remove extraneous `f` prefix

coffeebreak/cli.py:3755:89: E501 Line too long (89 > 88)
     |
3753 |                     )
3754 |                     click.echo(
3755 |                         f"  {status_icon} {category.replace('_', ' ').title()}: {status}"
     |                                                                                         ^ E501
3756 |                     )
     |

coffeebreak/cli.py:3777:89: E501 Line too long (95 > 88)
     |
3775 |             )
3776 |             click.echo(
3777 |                 f"Found: {validation['found']}/{validation['total_required']} required secrets"
     |                                                                                         ^^^^^^^ E501
3778 |             )
     |

coffeebreak/cli.py:3862:89: E501 Line too long (98 > 88)
     |
3860 |                     if not result["success"]:
3861 |                         click.echo(
3862 |                             f"  - {result['secret_name']}: {result.get('error', 'Unknown error')}"
     |                                                                                         ^^^^^^^^^^ E501
3863 |                         )
3864 |                 ctx.exit(1)
     |

coffeebreak/cli.py:3937:52: UP015 [*] Unnecessary mode argument
     |
3935 |                     ssl_manager = SSLManager(verbose=ctx.obj["verbose"])
3936 |
3937 |                     with open(result["cert_path"], "r") as f:
     |                                                    ^^^ UP015
3938 |                         cert_data = f.read()
3939 |                     with open(result["key_path"], "r") as f:
     |
     = help: Remove mode argument

coffeebreak/cli.py:3939:51: UP015 [*] Unnecessary mode argument
     |
3937 |                     with open(result["cert_path"], "r") as f:
3938 |                         cert_data = f.read()
3939 |                     with open(result["key_path"], "r") as f:
     |                                                   ^^^ UP015
3940 |                         key_data = f.read()
3941 |                     with open(result["chain_path"], "r") as f:
     |
     = help: Remove mode argument

coffeebreak/cli.py:3941:53: UP015 [*] Unnecessary mode argument
     |
3939 |                     with open(result["key_path"], "r") as f:
3940 |                         key_data = f.read()
3941 |                     with open(result["chain_path"], "r") as f:
     |                                                     ^^^ UP015
3942 |                         chain_data = f.read()
     |
     = help: Remove mode argument

coffeebreak/config/manager.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Configuration management for CoffeeBreak CLI."""
2 |
3 | / import os
4 | | import yaml
5 | | from typing import Dict, Any, Optional, List
6 | | from jinja2 import Environment, FileSystemLoader, Template
7 | | from .validator import ConfigValidator, ConfigValidationError
8 | | from ..environments.detector import EnvironmentDetector, EnvironmentType
  | |________________________________________________________________________^ I001
  |
  = help: Organize imports

coffeebreak/config/manager.py:6:51: F401 [*] `jinja2.Template` imported but unused
  |
4 | import yaml
5 | from typing import Dict, Any, Optional, List
6 | from jinja2 import Environment, FileSystemLoader, Template
  |                                                   ^^^^^^^^ F401
7 | from .validator import ConfigValidator, ConfigValidationError
8 | from ..environments.detector import EnvironmentDetector, EnvironmentType
  |
  = help: Remove unused import: `jinja2.Template`

coffeebreak/config/manager.py:8:1: TID252 Prefer absolute imports over relative imports from parent modules
  |
6 | from jinja2 import Environment, FileSystemLoader, Template
7 | from .validator import ConfigValidator, ConfigValidationError
8 | from ..environments.detector import EnvironmentDetector, EnvironmentType
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
  |
  = help: Replace relative imports from parent modules with absolute imports

coffeebreak/config/manager.py:8:1: TID252 Prefer absolute imports over relative imports from parent modules
  |
6 | from jinja2 import Environment, FileSystemLoader, Template
7 | from .validator import ConfigValidator, ConfigValidationError
8 | from ..environments.detector import EnvironmentDetector, EnvironmentType
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
  |
  = help: Replace relative imports from parent modules with absolute imports

coffeebreak/config/manager.py:67:36: UP015 [*] Unnecessary mode argument
   |
65 |         # Load configuration
66 |         try:
67 |             with open(config_path, "r", encoding="utf-8") as f:
   |                                    ^^^ UP015
68 |                 config = yaml.safe_load(f)
69 |         except FileNotFoundError:
   |
   = help: Remove mode argument

coffeebreak/config/manager.py:70:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
68 |                 config = yaml.safe_load(f)
69 |         except FileNotFoundError:
70 |             raise FileNotFoundError(f"Configuration file not found: {config_path}")
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
71 |         except yaml.YAMLError as e:
72 |             raise yaml.YAMLError(f"Error parsing YAML file {config_path}: {e}")
   |

coffeebreak/config/manager.py:72:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
70 |             raise FileNotFoundError(f"Configuration file not found: {config_path}")
71 |         except yaml.YAMLError as e:
72 |             raise yaml.YAMLError(f"Error parsing YAML file {config_path}: {e}")
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
73 |
74 |         if config is None:
   |

coffeebreak/config/manager.py:108:36: UP015 [*] Unnecessary mode argument
    |
107 |         try:
108 |             with open(config_path, "r", encoding="utf-8") as f:
    |                                    ^^^ UP015
109 |                 config = yaml.safe_load(f) or {}
    |
    = help: Remove mode argument

coffeebreak/config/manager.py:121:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
120 |         except yaml.YAMLError as e:
121 |             raise ConfigValidationError(f"Invalid YAML in {config_path}: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
122 |         except Exception as e:
123 |             raise ConfigValidationError(f"Error loading config file {config_path}: {e}")
    |

coffeebreak/config/manager.py:123:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
121 |             raise ConfigValidationError(f"Invalid YAML in {config_path}: {e}")
122 |         except Exception as e:
123 |             raise ConfigValidationError(f"Error loading config file {config_path}: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
124 |
125 |     def save_config(
    |

coffeebreak/config/schemas.py:20:89: E501 Line too long (89 > 88)
   |
18 |                         "path": {
19 |                             "type": "string",
20 |                             "description": "Path to virtual environment (for venv type)",
   |                                                                                         ^ E501
21 |                         },
22 |                         "name": {
   |

coffeebreak/config/validator.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Configuration validation for CoffeeBreak CLI."""
2 |
3 | / import jsonschema
4 | | import yaml
5 | | from typing import List, Dict, Any, Optional
6 | | from .schemas import MAIN_CONFIG_SCHEMA, PLUGIN_CONFIG_SCHEMA
  | |_____________________________________________________________^ I001
  |
  = help: Organize imports

coffeebreak/config/validator.py:5:37: F401 [*] `typing.Optional` imported but unused
  |
3 | import jsonschema
4 | import yaml
5 | from typing import List, Dict, Any, Optional
  |                                     ^^^^^^^^ F401
6 | from .schemas import MAIN_CONFIG_SCHEMA, PLUGIN_CONFIG_SCHEMA
  |
  = help: Remove unused import: `typing.Optional`

coffeebreak/config/validator.py:118:34: UP015 [*] Unnecessary mode argument
    |
117 |         try:
118 |             with open(file_path, "r", encoding="utf-8") as f:
    |                                  ^^^ UP015
119 |                 config = yaml.safe_load(f)
120 |         except FileNotFoundError:
    |
    = help: Remove mode argument

coffeebreak/config/validator.py:198:89: E501 Line too long (98 > 88)
    |
196 |         if not name.replace("-", "").replace("_", "").isalnum():
197 |             errors.append(
198 |                 f"Plugin name can only contain letters, numbers, hyphens, and underscores: {name}"
    |                                                                                         ^^^^^^^^^^ E501
199 |             )
    |

coffeebreak/containers/__init__.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Container management for CoffeeBreak CLI."""
2 |
3 | / from .manager import ContainerManager
4 | | from .dependencies import DependencyManager
5 | | from .health import HealthChecker
  | |_________________________________^ I001
6 |
7 |   __all__ = ["ContainerManager", "DependencyManager", "HealthChecker"]
  |
  = help: Organize imports

coffeebreak/containers/compose.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Docker Compose orchestration for CoffeeBreak CLI."""
 2 |
 3 | / import os
 4 | | import yaml
 5 | | import subprocess
 6 | | from typing import Dict, List, Optional, Any
 7 | | from pathlib import Path
 8 | |
 9 | | from ..utils.files import FileManager
10 | | from ..utils.errors import DockerError
   | |______________________________________^ I001
   |
   = help: Organize imports

coffeebreak/containers/compose.py:7:21: F401 [*] `pathlib.Path` imported but unused
  |
5 | import subprocess
6 | from typing import Dict, List, Optional, Any
7 | from pathlib import Path
  |                     ^^^^ F401
8 |
9 | from ..utils.files import FileManager
  |
  = help: Remove unused import: `pathlib.Path`

coffeebreak/containers/compose.py:9:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 7 | from pathlib import Path
 8 |
 9 | from ..utils.files import FileManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
10 | from ..utils.errors import DockerError
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/containers/compose.py:10:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 9 | from ..utils.files import FileManager
10 | from ..utils.errors import DockerError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/containers/compose.py:72:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
71 |         except Exception as e:
72 |             raise DockerError(f"Failed to generate compose file: {e}")
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
73 |
74 |     def _generate_compose_config(
   |

coffeebreak/containers/compose.py:211:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
210 |         except subprocess.TimeoutExpired:
211 |             raise DockerError("Docker Compose start timed out")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
212 |         except FileNotFoundError:
213 |             raise DockerError(
    |

coffeebreak/containers/compose.py:213:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
211 |               raise DockerError("Docker Compose start timed out")
212 |           except FileNotFoundError:
213 | /             raise DockerError(
214 | |                 "docker-compose command not found. Please install Docker Compose."
215 | |             )
    | |_____________^ B904
216 |           except Exception as e:
217 |               raise DockerError(f"Failed to start services: {e}")
    |

coffeebreak/containers/compose.py:217:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
215 |             )
216 |         except Exception as e:
217 |             raise DockerError(f"Failed to start services: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
218 |
219 |     def stop_services(self, service_names: Optional[List[str]] = None) -> bool:
    |

coffeebreak/containers/compose.py:267:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
266 |         except subprocess.TimeoutExpired:
267 |             raise DockerError("Docker Compose stop timed out")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
268 |         except Exception as e:
269 |             raise DockerError(f"Failed to stop services: {e}")
    |

coffeebreak/containers/compose.py:269:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
267 |             raise DockerError("Docker Compose stop timed out")
268 |         except Exception as e:
269 |             raise DockerError(f"Failed to stop services: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
270 |
271 |     def get_service_status(self) -> List[Dict[str, Any]]:
    |

coffeebreak/containers/dependencies.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Dependency container management for CoffeeBreak CLI."""
2 |
3 | / import time
4 | | from typing import Dict, List, Optional, Any
5 | | from .manager import ContainerManager, ContainerManagerError
6 | | from .health import HealthChecker, HealthMonitor, HealthReporter
7 | | from .compose import DockerComposeOrchestrator
  | |______________________________________________^ I001
  |
  = help: Organize imports

coffeebreak/containers/dependencies.py:64:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
63 |           except Exception as e:
64 | /             raise DependencyManagerError(
65 | |                 f"Failed to start profile '{profile_name}': {e}"
66 | |             )
   | |_____________^ B904
67 |
68 |       def _start_profile_with_compose(
   |

coffeebreak/containers/dependencies.py:77:13: F841 Local variable `compose_file` is assigned to but never used
   |
76 |             # Generate compose file for profile
77 |             compose_file = self.compose_orchestrator.generate_compose_file(
   |             ^^^^^^^^^^^^ F841
78 |                 deps_config, profile=profile_name
79 |             )
   |
   = help: Remove assignment to unused variable `compose_file`

coffeebreak/containers/dependencies.py:108:89: E501 Line too long (102 > 88)
    |
106 |             if self.verbose:
107 |                 print(
108 |                     f"Starting dependency profile '{profile_name}' with {len(services_list)} services"
    |                                                                                         ^^^^^^^^^^^^^^ E501
109 |                 )
    |

coffeebreak/containers/dependencies.py:145:17: F841 Local variable `container_id` is assigned to but never used
    |
144 |                 # Start container
145 |                 container_id = self.container_manager.start_container(service_config)
    |                 ^^^^^^^^^^^^ F841
146 |                 started_services.append(service_name)
    |
    = help: Remove assignment to unused variable `container_id`

coffeebreak/containers/dependencies.py:156:89: E501 Line too long (89 > 88)
    |
154 |             if self.verbose:
155 |                 print(
156 |                     f"✓ Successfully started {len(started_services)} dependency services"
    |                                                                                         ^ E501
157 |                 )
    |

coffeebreak/containers/dependencies.py:162:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
161 |         except ContainerManagerError as e:
162 |             raise DependencyManagerError(f"Container operation failed: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
163 |         except Exception as e:
164 |             raise DependencyManagerError(f"Unexpected error starting profile: {e}")
    |

coffeebreak/containers/dependencies.py:164:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
162 |             raise DependencyManagerError(f"Container operation failed: {e}")
163 |         except Exception as e:
164 |             raise DependencyManagerError(f"Unexpected error starting profile: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
165 |
166 |     def start_services(self, service_names: List[str]) -> bool:
    |

coffeebreak/containers/dependencies.py:208:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
207 |         except Exception as e:
208 |             raise DependencyManagerError(f"Error starting services: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
209 |
210 |     def stop_all_services(self) -> bool:
    |

coffeebreak/containers/dependencies.py:223:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
221 |                 return self._stop_all_services_with_docker_api()
222 |         except Exception as e:
223 |             raise DependencyManagerError(f"Failed to stop all services: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
224 |
225 |     def stop_services(self, service_names: List[str]) -> bool:
    |

coffeebreak/containers/dependencies.py:241:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
239 |                 return self._stop_services_with_docker_api(service_names)
240 |         except Exception as e:
241 |             raise DependencyManagerError(f"Failed to stop services: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
242 |
243 |     def _stop_services_with_docker_api(self, service_names: List[str]) -> bool:
    |

coffeebreak/containers/dependencies.py:271:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
270 |         except Exception as e:
271 |             raise DependencyManagerError(f"Error stopping services: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
272 |         try:
273 |             # Stop health monitoring first
    |

coffeebreak/containers/dependencies.py:286:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
285 |         except Exception as e:
286 |             raise DependencyManagerError(f"Error stopping services: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
287 |
288 |     def _stop_all_services_with_docker_api(self) -> bool:
    |

coffeebreak/containers/dependencies.py:336:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
335 |         except Exception as e:
336 |             raise DependencyManagerError(f"Error cleaning up services: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
337 |
338 |     def _clean_all_services_with_docker_api(self) -> bool:
    |

coffeebreak/containers/dependencies.py:348:17: B007 Loop control variable `service_name` not used within loop body
    |
347 |             # Remove all configured containers
348 |             for service_name, service_config in services_config.items():
    |                 ^^^^^^^^^^^^ B007
349 |                 container_name = service_config.get("container_name")
350 |                 if container_name:
    |
    = help: Rename unused `service_name` to `_service_name`

coffeebreak/containers/dependencies.py:364:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
363 |         except Exception as e:
364 |             raise DependencyManagerError(f"Error during cleanup: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
365 |
366 |     def get_services_status(self) -> Dict[str, Dict[str, Any]]:
    |

coffeebreak/containers/dependencies.py:444:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
443 |           except Exception as e:
444 | /             raise DependencyManagerError(
445 | |                 f"Error starting service '{service_name}': {e}"
446 | |             )
    | |_____________^ B904
447 |
448 |       def restart_service(self, service_name: str) -> bool:
    |

coffeebreak/containers/dependencies.py:471:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
470 |           except Exception as e:
471 | /             raise DependencyManagerError(
472 | |                 f"Error restarting service '{service_name}': {e}"
473 | |             )
    | |_____________^ B904
474 |
475 |       def _restart_service_with_docker_api(self, service_name: str) -> bool:
    |

coffeebreak/containers/dependencies.py:650:89: E501 Line too long (98 > 88)
    |
648 |                     if self.verbose:
649 |                         print(
650 |                             f"Could not add container {container_info['name']} to monitoring: {e}"
    |                                                                                         ^^^^^^^^^^ E501
651 |                         )
    |

coffeebreak/containers/dependencies.py:658:89: E501 Line too long (89 > 88)
    |
656 |             if self.verbose:
657 |                 print(
658 |                     f"Started health monitoring for {len(running_containers)} containers"
    |                                                                                         ^ E501
659 |                 )
    |

coffeebreak/containers/dependencies.py:735:89: E501 Line too long (90 > 88)
    |
733 |             else:
734 |                 print(
735 |                     f"Health Alert: Container '{container_name}' has failed health checks"
    |                                                                                         ^^ E501
736 |                 )
    |

coffeebreak/containers/health.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Container health checking for CoffeeBreak CLI."""
2 |
3 | / import time
4 | | import subprocess
5 | | import threading
6 | | from typing import Dict, Optional, Any, List, Callable
7 | | from datetime import datetime, timedelta
8 | | from docker.models.containers import Container
  | |______________________________________________^ I001
  |
  = help: Organize imports

coffeebreak/containers/health.py:4:8: F401 [*] `subprocess` imported but unused
  |
3 | import time
4 | import subprocess
  |        ^^^^^^^^^^ F401
5 | import threading
6 | from typing import Dict, Optional, Any, List, Callable
  |
  = help: Remove unused import: `subprocess`

coffeebreak/containers/health.py:7:32: F401 [*] `datetime.timedelta` imported but unused
  |
5 | import threading
6 | from typing import Dict, Optional, Any, List, Callable
7 | from datetime import datetime, timedelta
  |                                ^^^^^^^^^ F401
8 | from docker.models.containers import Container
  |
  = help: Remove unused import: `datetime.timedelta`

coffeebreak/containers/health.py:415:89: E501 Line too long (101 > 88)
    |
413 |                         total_count = health_summary["total_containers"]
414 |                         print(
415 |                             f"Health check: {overall_status} ({healthy_count}/{total_count} healthy)"
    |                                                                                         ^^^^^^^^^^^^^ E501
416 |                         )
    |

coffeebreak/containers/manager.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Docker container management for CoffeeBreak CLI."""
2 |
3 | / import docker
4 | | import time
5 | | from typing import Dict, List, Optional, Any
6 | | from docker.errors import DockerException, APIError, NotFound
7 | | from .health import HealthChecker
  | |_________________________________^ I001
  |
  = help: Organize imports

coffeebreak/containers/manager.py:4:8: F401 [*] `time` imported but unused
  |
3 | import docker
4 | import time
  |        ^^^^ F401
5 | from typing import Dict, List, Optional, Any
6 | from docker.errors import DockerException, APIError, NotFound
  |
  = help: Remove unused import: `time`

coffeebreak/containers/manager.py:5:32: F401 [*] `typing.Optional` imported but unused
  |
3 | import docker
4 | import time
5 | from typing import Dict, List, Optional, Any
  |                                ^^^^^^^^ F401
6 | from docker.errors import DockerException, APIError, NotFound
7 | from .health import HealthChecker
  |
  = help: Remove unused import: `typing.Optional`

coffeebreak/containers/manager.py:39:17: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
37 |                 self._client.ping()
38 |             except DockerException as e:
39 |                 raise ContainerManagerError(f"Cannot connect to Docker daemon: {e}")
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
40 |
41 |         return self._client
   |

coffeebreak/containers/manager.py:68:13: F841 Local variable `network` is assigned to but never used
   |
67 |             # Create network
68 |             network = self.client.networks.create(name, driver=driver)
   |             ^^^^^^^ F841
69 |
70 |             if self.verbose:
   |
   = help: Remove assignment to unused variable `network`

coffeebreak/containers/manager.py:76:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
75 |         except APIError as e:
76 |             raise ContainerManagerError(f"Failed to create network '{name}': {e}")
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
77 |         except Exception as e:
78 |             raise ContainerManagerError(f"Unexpected error creating network: {e}")
   |

coffeebreak/containers/manager.py:78:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
76 |             raise ContainerManagerError(f"Failed to create network '{name}': {e}")
77 |         except Exception as e:
78 |             raise ContainerManagerError(f"Unexpected error creating network: {e}")
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
79 |
80 |     def remove_network(self, name: str) -> bool:
   |

coffeebreak/containers/manager.py:104:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
102 |             return True
103 |         except APIError as e:
104 |             raise ContainerManagerError(f"Failed to remove network '{name}': {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
105 |
106 |     def start_container(self, config: Dict[str, Any]) -> str:
    |

coffeebreak/containers/manager.py:164:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
163 |           except APIError as e:
164 | /             raise ContainerManagerError(
165 | |                 f"Failed to start container '{container_name}': {e}"
166 | |             )
    | |_____________^ B904
167 |           except Exception as e:
168 |               raise ContainerManagerError(f"Unexpected error starting container: {e}")
    |

coffeebreak/containers/manager.py:168:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
166 |             )
167 |         except Exception as e:
168 |             raise ContainerManagerError(f"Unexpected error starting container: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
169 |
170 |     def stop_container(self, name: str, timeout: int = 10) -> bool:
    |

coffeebreak/containers/manager.py:199:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
197 |             return True
198 |         except APIError as e:
199 |             raise ContainerManagerError(f"Failed to stop container '{name}': {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
200 |
201 |     def remove_container(self, name: str, force: bool = False) -> bool:
    |

coffeebreak/containers/manager.py:226:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
224 |             return True
225 |         except APIError as e:
226 |             raise ContainerManagerError(f"Failed to remove container '{name}': {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
227 |
228 |     def get_container_status(self, name: str) -> Dict[str, Any]:
    |

coffeebreak/containers/manager.py:295:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
294 |         except APIError as e:
295 |             raise ContainerManagerError(f"Failed to list containers: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
296 |
297 |     def get_container_logs(self, name: str, tail: int = 100) -> str:
    |

coffeebreak/containers/manager.py:333:17: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
331 |                     print(f"Successfully pulled image '{image}'")
332 |             except APIError as e:
333 |                 raise ContainerManagerError(f"Failed to pull image '{image}': {e}")
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
334 |
335 |     def _prepare_run_config(self, config: Dict[str, Any], image: str) -> Dict[str, Any]:
    |

coffeebreak/containers/manager.py:408:89: E501 Line too long (101 > 88)
    |
406 |             if self.verbose:
407 |                 print(
408 |                     f"Building image '{tag}' from context '{context}' with dockerfile '{dockerfile}'"
    |                                                                                         ^^^^^^^^^^^^^ E501
409 |                 )
    |

coffeebreak/containers/manager.py:430:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
429 |           except APIError as e:
430 | /             raise ContainerManagerError(
431 | |                 f"Failed to build image from context '{context}': {e}"
432 | |             )
    | |_____________^ B904
433 |           except Exception as e:
434 |               raise ContainerManagerError(f"Unexpected error building image: {e}")
    |

coffeebreak/containers/manager.py:434:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
432 |             )
433 |         except Exception as e:
434 |             raise ContainerManagerError(f"Unexpected error building image: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
435 |
436 |     def _extract_port_mappings(self, container) -> Dict[str, str]:
    |

coffeebreak/environments/__init__.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Environment management for CoffeeBreak CLI."""
2 |
3 | / from .detector import EnvironmentDetector
4 | | from .development import DevelopmentEnvironment
5 | | from .production import ProductionEnvironment
  | |_____________________________________________^ I001
6 |   # Do NOT import PluginEnvironment here to avoid circular imports.
7 |   # Import it directly from coffeebreak.environments.plugin where needed.
  |
  = help: Organize imports

coffeebreak/environments/automation.py:7:20: F401 [*] `typing.TYPE_CHECKING` imported but unused
  |
5 | import time
6 | from pathlib import Path
7 | from typing import TYPE_CHECKING, Any, Dict, List, Optional
  |                    ^^^^^^^^^^^^^ F401
8 |
9 | from ..config.manager import ConfigManager
  |
  = help: Remove unused import: `typing.TYPE_CHECKING`

coffeebreak/environments/automation.py:9:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 7 | from typing import TYPE_CHECKING, Any, Dict, List, Optional
 8 |
 9 | from ..config.manager import ConfigManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
10 | from ..containers.dependencies import DependencyManager
11 | from ..git.operations import GitOperations
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/automation.py:10:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 9 | from ..config.manager import ConfigManager
10 | from ..containers.dependencies import DependencyManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
11 | from ..git.operations import GitOperations
12 | from ..utils.errors import CoffeeBreakError, EnvironmentError
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/automation.py:11:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 9 | from ..config.manager import ConfigManager
10 | from ..containers.dependencies import DependencyManager
11 | from ..git.operations import GitOperations
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
12 | from ..utils.errors import CoffeeBreakError, EnvironmentError
13 | from ..utils.files import FileManager
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/automation.py:12:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
10 | from ..containers.dependencies import DependencyManager
11 | from ..git.operations import GitOperations
12 | from ..utils.errors import CoffeeBreakError, EnvironmentError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
13 | from ..utils.files import FileManager
14 | from .detector import EnvironmentType
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/automation.py:12:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
10 | from ..containers.dependencies import DependencyManager
11 | from ..git.operations import GitOperations
12 | from ..utils.errors import CoffeeBreakError, EnvironmentError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
13 | from ..utils.files import FileManager
14 | from .detector import EnvironmentType
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/automation.py:13:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
11 | from ..git.operations import GitOperations
12 | from ..utils.errors import CoffeeBreakError, EnvironmentError
13 | from ..utils.files import FileManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
14 | from .detector import EnvironmentType
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/automation.py:53:9: E722 Do not use bare `except`
   |
51 |             groups = [grp.getgrgid(gid).gr_name for gid in os.getgroups()]
52 |             return "coffeebreak" in groups
53 |         except:
   |         ^^^^^^ E722
54 |             return False
   |

coffeebreak/environments/automation.py:77:34: UP015 [*] Unnecessary mode argument
   |
75 |             import json
76 |
77 |             with open(pids_file, "r") as f:
   |                                  ^^^ UP015
78 |                 saved_pids = json.load(f)
   |
   = help: Remove mode argument

coffeebreak/environments/automation.py:104:38: UP015 [*] Unnecessary mode argument
    |
102 |             # Load existing PIDs
103 |             if pids_file.exists():
104 |                 with open(pids_file, "r") as f:
    |                                      ^^^ UP015
105 |                     pids = json.load(f)
106 |             else:
    |
    = help: Remove mode argument

coffeebreak/environments/automation.py:159:34: UP015 [*] Unnecessary mode argument
    |
157 |                 return
158 |
159 |             with open(pids_file, "r") as f:
    |                                  ^^^ UP015
160 |                 pids = json.load(f)
    |
    = help: Remove mode argument

coffeebreak/environments/automation.py:201:89: E501 Line too long (92 > 88)
    |
199 |             if env_type == EnvironmentType.UNINITIALIZED:
200 |                 raise EnvironmentError(
201 |                     "No CoffeeBreak configuration found. Run 'coffeebreak init dev' first.",
    |                                                                                         ^^^^ E501
202 |                     suggestions=[
203 |                         "Run 'coffeebreak init dev' to initialize a development environment",
    |

coffeebreak/environments/automation.py:203:89: E501 Line too long (93 > 88)
    |
201 |                     "No CoffeeBreak configuration found. Run 'coffeebreak init dev' first.",
202 |                     suggestions=[
203 |                         "Run 'coffeebreak init dev' to initialize a development environment",
    |                                                                                         ^^^^^ E501
204 |                         "Ensure you're in the correct directory",
205 |                     ],
    |

coffeebreak/environments/automation.py:229:17: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
227 |                 raise
228 |             else:
229 |                 raise EnvironmentError(f"Failed to start development environment: {e}")
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
230 |
231 |     def _start_full_dev_environment(
    |

coffeebreak/environments/automation.py:374:9: C901 `_setup_repositories` is too complex (18 > 15)
    |
372 |             return False
373 |
374 |     def _setup_repositories(self, config: Dict[str, Any]) -> bool:
    |         ^^^^^^^^^^^^^^^^^^^ C901
375 |         """Verify repositories exist, clone if missing (no auto-pull for dev workflow)."""
376 |         try:
    |

coffeebreak/environments/automation.py:375:89: E501 Line too long (90 > 88)
    |
374 |     def _setup_repositories(self, config: Dict[str, Any]) -> bool:
375 |         """Verify repositories exist, clone if missing (no auto-pull for dev workflow)."""
    |                                                                                         ^^ E501
376 |         try:
377 |             coffeebreak_config = config.get("coffeebreak", {})
    |

coffeebreak/environments/automation.py:497:13: F841 Local variable `env_path` is assigned to but never used
    |
496 |             # Generate main .env.local file
497 |             env_path = self.file_manager.generate_env_file(
    |             ^^^^^^^^ F841
498 |                 connection_info=connection_info,
499 |                 output_path=".env.local",
    |
    = help: Remove assignment to unused variable `env_path`

coffeebreak/environments/automation.py:526:89: E501 Line too long (92 > 88)
    |
524 |                 if self.verbose and connection_info:
525 |                     print(
526 |                         f"    Generated connection info for {len(connection_info)} services"
    |                                                                                         ^^^^ E501
527 |                     )
528 |             except Exception as e:
    |

coffeebreak/environments/automation.py:623:27: F541 [*] f-string without any placeholders
    |
621 |                         print(f"    Error: {result.stderr}")
622 |                 elif self.verbose:
623 |                     print(f"     Command completed")
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^ F541
624 |
625 |         except subprocess.TimeoutExpired:
    |
    = help: Remove extraneous `f` prefix

coffeebreak/environments/automation.py:638:89: E501 Line too long (89 > 88)
    |
636 |         env_vars: Optional[Dict[str, str]] = None,
637 |     ) -> Optional[int]:
638 |         """Start a background development process with enhanced environment variables."""
    |                                                                                         ^ E501
639 |         try:
640 |             import subprocess
    |

coffeebreak/environments/automation.py:792:9: C901 `_show_live_logs` is too complex (16 > 15)
    |
790 |         return venv_vars
791 |
792 |     def _show_live_logs(self):
    |         ^^^^^^^^^^^^^^^ C901
793 |         """Show live logs from all running processes."""
794 |         try:
    |

coffeebreak/environments/automation.py:815:13: F841 Local variable `service_names` is assigned to but never used
    |
813 |             }
814 |
815 |             service_names = list(self.processes.keys())
    |             ^^^^^^^^^^^^^ F841
816 |
817 |             while True:
    |
    = help: Remove assignment to unused variable `service_names`

coffeebreak/environments/automation.py:849:33: E722 Do not use bare `except`
    |
847 |                                     if line:
848 |                                         print(f"[{name}] {line.rstrip()}")
849 |                                 except:
    |                                 ^^^^^^ E722
850 |                                     pass
851 |                         except:
    |

coffeebreak/environments/automation.py:851:25: E722 Do not use bare `except`
    |
849 |                                 except:
850 |                                     pass
851 |                         except:
    |                         ^^^^^^ E722
852 |                             continue
    |

coffeebreak/environments/detector.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Environment detection logic for CoffeeBreak CLI."""
2 |
3 | / import os
4 | | from typing import Optional
5 | | from enum import Enum
  | |_____________________^ I001
  |
  = help: Organize imports

coffeebreak/environments/development.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Development environment management."""
 2 |
 3 | / import os
 4 | | import click
 5 | | from pathlib import Path
 6 | | from typing import Dict, List, Optional, TYPE_CHECKING
 7 | | from ..git.operations import GitOperations, GitOperationError
 8 | | from ..utils.errors import DevelopmentEnvironmentError
 9 | | from .detector import EnvironmentDetector
   | |_________________________________________^ I001
10 |
11 |   if TYPE_CHECKING:
   |
   = help: Organize imports

coffeebreak/environments/development.py:3:8: F401 [*] `os` imported but unused
  |
1 | """Development environment management."""
2 |
3 | import os
  |        ^^ F401
4 | import click
5 | from pathlib import Path
  |
  = help: Remove unused import: `os`

coffeebreak/environments/development.py:6:26: F401 [*] `typing.List` imported but unused
  |
4 | import click
5 | from pathlib import Path
6 | from typing import Dict, List, Optional, TYPE_CHECKING
  |                          ^^^^ F401
7 | from ..git.operations import GitOperations, GitOperationError
8 | from ..utils.errors import DevelopmentEnvironmentError
  |
  = help: Remove unused import: `typing.List`

coffeebreak/environments/development.py:7:1: TID252 Prefer absolute imports over relative imports from parent modules
  |
5 | from pathlib import Path
6 | from typing import Dict, List, Optional, TYPE_CHECKING
7 | from ..git.operations import GitOperations, GitOperationError
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
8 | from ..utils.errors import DevelopmentEnvironmentError
9 | from .detector import EnvironmentDetector
  |
  = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/development.py:7:1: TID252 Prefer absolute imports over relative imports from parent modules
  |
5 | from pathlib import Path
6 | from typing import Dict, List, Optional, TYPE_CHECKING
7 | from ..git.operations import GitOperations, GitOperationError
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
8 | from ..utils.errors import DevelopmentEnvironmentError
9 | from .detector import EnvironmentDetector
  |
  = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/development.py:8:1: TID252 Prefer absolute imports over relative imports from parent modules
  |
6 | from typing import Dict, List, Optional, TYPE_CHECKING
7 | from ..git.operations import GitOperations, GitOperationError
8 | from ..utils.errors import DevelopmentEnvironmentError
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
9 | from .detector import EnvironmentDetector
  |
  = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/development.py:12:5: TID252 Prefer absolute imports over relative imports from parent modules
   |
11 | if TYPE_CHECKING:
12 |     from ..config.manager import ConfigManager
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/development.py:100:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
 99 |           except Exception as e:
100 | /             raise DevelopmentEnvironmentError(
101 | |                 f"Failed to initialize development environment: {e}"
102 | |             )
    | |_____________^ B904
103 |
104 |       def start(self) -> bool:
    |

coffeebreak/environments/development.py:186:21: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
184 |                       self.git_ops.validate_repository_access(url)
185 |                   except GitOperationError as e:
186 | /                     raise DevelopmentEnvironmentError(
187 | |                         f"Repository access validation failed for {repo.get('name')}: {e}"
188 | |                     )
    | |_____________________^ B904
189 |
190 |               # Clone repositories
    |

coffeebreak/environments/development.py:187:89: E501 Line too long (90 > 88)
    |
185 |                 except GitOperationError as e:
186 |                     raise DevelopmentEnvironmentError(
187 |                         f"Repository access validation failed for {repo.get('name')}: {e}"
    |                                                                                         ^^ E501
188 |                     )
    |

coffeebreak/environments/development.py:201:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
200 |         except GitOperationError as e:
201 |             raise DevelopmentEnvironmentError(f"Git operation failed: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
202 |         except Exception as e:
203 |             raise DevelopmentEnvironmentError(
    |

coffeebreak/environments/development.py:203:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
201 |               raise DevelopmentEnvironmentError(f"Git operation failed: {e}")
202 |           except Exception as e:
203 | /             raise DevelopmentEnvironmentError(
204 | |                 f"Unexpected error cloning repositories: {e}"
205 | |             )
    | |_____________^ B904
206 |
207 |       def _setup_keycloak_configuration(self) -> bool:
    |

coffeebreak/environments/development.py:235:28: F541 [*] f-string without any placeholders
    |
233 |             self._generate_keycloak_dockerfile(keycloak_dir)
234 |             if self.verbose:
235 |                 click.echo(f"  ✓ Generated Dockerfile")
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
236 |
237 |             # Generate realm configuration
    |
    = help: Remove extraneous `f` prefix

coffeebreak/environments/development.py:240:28: F541 [*] f-string without any placeholders
    |
238 |             self._generate_keycloak_realm(keycloak_dir)
239 |             if self.verbose:
240 |                 click.echo(f"  ✓ Generated realm configuration")
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
241 |
242 |             # Generate theme files
    |
    = help: Remove extraneous `f` prefix

coffeebreak/environments/development.py:245:28: F541 [*] f-string without any placeholders
    |
243 |             self._generate_keycloak_theme(keycloak_dir)
244 |             if self.verbose:
245 |                 click.echo(f"  ✓ Generated custom theme")
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
246 |
247 |             if self.verbose:
    |
    = help: Remove extraneous `f` prefix

coffeebreak/environments/development.py:259:9: TID252 Prefer absolute imports over relative imports from parent modules
    |
257 |     def _generate_keycloak_dockerfile(self, keycloak_dir: Path) -> None:
258 |         """Generate Keycloak Dockerfile."""
259 |         from ..templates.keycloak import get_dockerfile_content
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
260 |
261 |         dockerfile_content = get_dockerfile_content()
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/development.py:267:9: TID252 Prefer absolute imports over relative imports from parent modules
    |
265 |     def _generate_keycloak_realm(self, keycloak_dir: Path) -> None:
266 |         """Generate minimal Keycloak realm configuration for development."""
267 |         from ..templates.keycloak import get_realm_config
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
268 |
269 |         realm_config = get_realm_config()
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/development.py:278:9: TID252 Prefer absolute imports over relative imports from parent modules
    |
276 |     def _generate_keycloak_theme(self, keycloak_dir: Path) -> None:
277 |         """Generate basic Keycloak theme files."""
278 |         from ..templates.keycloak import get_theme_files
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
279 |
280 |         theme_files = get_theme_files()
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/development.py:356:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
355 |         except Exception as e:
356 |             raise DevelopmentEnvironmentError(f"Error updating repositories: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
357 |
358 |     def _setup_python_environment(
    |

coffeebreak/environments/development.py:392:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
391 |           except Exception as e:
392 | /             raise DevelopmentEnvironmentError(
393 | |                 f"Failed to setup Python environment: {e}"
394 | |             )
    | |_____________^ B904
395 |
396 |       def _install_repository_dependencies(self, env_info: Dict) -> None:
    |

coffeebreak/environments/development.py:404:13: I001 [*] Import block is un-sorted or un-formatted
    |
402 |           """
403 |           try:
404 | /             from .python_env import PythonEnvironmentManager
405 | |             from ..utils.npm import NPMManager
    | |______________________________________________^ I001
406 |
407 |               python_env_manager = PythonEnvironmentManager(verbose=self.verbose)
    |
    = help: Organize imports

coffeebreak/environments/development.py:405:13: TID252 Prefer absolute imports over relative imports from parent modules
    |
403 |         try:
404 |             from .python_env import PythonEnvironmentManager
405 |             from ..utils.npm import NPMManager
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
406 |
407 |             python_env_manager = PythonEnvironmentManager(verbose=self.verbose)
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/plugin.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Plugin development environment for CoffeeBreak CLI."""
2 |
3 | / import os
4 | | from typing import Dict, Any, Optional, List, TYPE_CHECKING
5 | |
6 | | from ..utils.errors import PluginEnvironmentError
  | |_________________________________________________^ I001
7 |
8 |   if TYPE_CHECKING:
  |
  = help: Organize imports

coffeebreak/environments/plugin.py:6:1: TID252 Prefer absolute imports over relative imports from parent modules
  |
4 | from typing import Dict, Any, Optional, List, TYPE_CHECKING
5 |
6 | from ..utils.errors import PluginEnvironmentError
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
7 |
8 | if TYPE_CHECKING:
  |
  = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/plugin.py:6:28: F401 [*] `..utils.errors.PluginEnvironmentError` imported but unused
  |
4 | from typing import Dict, Any, Optional, List, TYPE_CHECKING
5 |
6 | from ..utils.errors import PluginEnvironmentError
  |                            ^^^^^^^^^^^^^^^^^^^^^^ F401
7 |
8 | if TYPE_CHECKING:
  |
  = help: Remove unused import: `..utils.errors.PluginEnvironmentError`

coffeebreak/environments/plugin.py:9:5: TID252 Prefer absolute imports over relative imports from parent modules
   |
 8 | if TYPE_CHECKING:
 9 |     from ..config.manager import ConfigManager
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
10 | from .detector import EnvironmentDetector
11 | from ..plugins.creator import PluginCreator
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/plugin.py:10:1: I001 [*] Import block is un-sorted or un-formatted
   |
 8 |   if TYPE_CHECKING:
 9 |       from ..config.manager import ConfigManager
10 | / from .detector import EnvironmentDetector
11 | | from ..plugins.creator import PluginCreator
12 | | from ..plugins.builder import PluginBuilder
13 | | from ..plugins.validator import PluginValidator
14 | | from ..plugins.integration import PluginContainerIntegration
15 | | from ..plugins.hotreload import PluginHotReloadManager, PluginDevelopmentWorkflow
16 | | from ..plugins.dependencies import PluginDependencyManager
17 | | from ..plugins.testing import PluginTestFramework
18 | | from ..plugins.documentation import PluginDocumentationGenerator
19 | | from ..plugins.devtools import PluginDeveloperTools
   | |___________________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/environments/plugin.py:11:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 9 |     from ..config.manager import ConfigManager
10 | from .detector import EnvironmentDetector
11 | from ..plugins.creator import PluginCreator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
12 | from ..plugins.builder import PluginBuilder
13 | from ..plugins.validator import PluginValidator
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/plugin.py:12:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
10 | from .detector import EnvironmentDetector
11 | from ..plugins.creator import PluginCreator
12 | from ..plugins.builder import PluginBuilder
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
13 | from ..plugins.validator import PluginValidator
14 | from ..plugins.integration import PluginContainerIntegration
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/plugin.py:13:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
11 | from ..plugins.creator import PluginCreator
12 | from ..plugins.builder import PluginBuilder
13 | from ..plugins.validator import PluginValidator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
14 | from ..plugins.integration import PluginContainerIntegration
15 | from ..plugins.hotreload import PluginHotReloadManager, PluginDevelopmentWorkflow
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/plugin.py:14:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
12 | from ..plugins.builder import PluginBuilder
13 | from ..plugins.validator import PluginValidator
14 | from ..plugins.integration import PluginContainerIntegration
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
15 | from ..plugins.hotreload import PluginHotReloadManager, PluginDevelopmentWorkflow
16 | from ..plugins.dependencies import PluginDependencyManager
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/plugin.py:15:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
13 | from ..plugins.validator import PluginValidator
14 | from ..plugins.integration import PluginContainerIntegration
15 | from ..plugins.hotreload import PluginHotReloadManager, PluginDevelopmentWorkflow
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
16 | from ..plugins.dependencies import PluginDependencyManager
17 | from ..plugins.testing import PluginTestFramework
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/plugin.py:15:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
13 | from ..plugins.validator import PluginValidator
14 | from ..plugins.integration import PluginContainerIntegration
15 | from ..plugins.hotreload import PluginHotReloadManager, PluginDevelopmentWorkflow
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
16 | from ..plugins.dependencies import PluginDependencyManager
17 | from ..plugins.testing import PluginTestFramework
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/plugin.py:16:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
14 | from ..plugins.integration import PluginContainerIntegration
15 | from ..plugins.hotreload import PluginHotReloadManager, PluginDevelopmentWorkflow
16 | from ..plugins.dependencies import PluginDependencyManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
17 | from ..plugins.testing import PluginTestFramework
18 | from ..plugins.documentation import PluginDocumentationGenerator
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/plugin.py:17:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
15 | from ..plugins.hotreload import PluginHotReloadManager, PluginDevelopmentWorkflow
16 | from ..plugins.dependencies import PluginDependencyManager
17 | from ..plugins.testing import PluginTestFramework
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
18 | from ..plugins.documentation import PluginDocumentationGenerator
19 | from ..plugins.devtools import PluginDeveloperTools
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/plugin.py:18:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
16 | from ..plugins.dependencies import PluginDependencyManager
17 | from ..plugins.testing import PluginTestFramework
18 | from ..plugins.documentation import PluginDocumentationGenerator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
19 | from ..plugins.devtools import PluginDeveloperTools
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/plugin.py:19:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
17 | from ..plugins.testing import PluginTestFramework
18 | from ..plugins.documentation import PluginDocumentationGenerator
19 | from ..plugins.devtools import PluginDeveloperTools
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/plugin.py:71:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
70 |         except Exception as e:
71 |             raise EnvironmentError(f"Failed to create plugin: {e}")
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
72 |
73 |     def initialize_plugin_dev(self, plugin_dir: str = ".") -> bool:
   |

coffeebreak/environments/plugin.py:71:19: UP024 [*] Replace aliased errors with `OSError`
   |
70 |         except Exception as e:
71 |             raise EnvironmentError(f"Failed to create plugin: {e}")
   |                   ^^^^^^^^^^^^^^^^ UP024
72 |
73 |     def initialize_plugin_dev(self, plugin_dir: str = ".") -> bool:
   |
   = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:97:23: UP024 [*] Replace aliased errors with `OSError`
   |
95 |             # Validate directory is suitable for plugin development
96 |             if not os.path.exists(plugin_dir):
97 |                 raise EnvironmentError(f"Directory does not exist: {plugin_dir}")
   |                       ^^^^^^^^^^^^^^^^ UP024
98 |
99 |             # Create basic plugin structure if missing
   |
   = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:113:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
112 |           except Exception as e:
113 | /             raise EnvironmentError(
114 | |                 f"Failed to initialize plugin development environment: {e}"
115 | |             )
    | |_____________^ B904
116 |
117 |       def build_plugin(
    |

coffeebreak/environments/plugin.py:113:19: UP024 [*] Replace aliased errors with `OSError`
    |
112 |         except Exception as e:
113 |             raise EnvironmentError(
    |                   ^^^^^^^^^^^^^^^^ UP024
114 |                 f"Failed to initialize plugin development environment: {e}"
115 |             )
    |
    = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:150:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
149 |         except Exception as e:
150 |             raise EnvironmentError(f"Failed to build plugin: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
151 |
152 |     def validate_plugin(self, plugin_dir: str = ".") -> Dict[str, Any]:
    |

coffeebreak/environments/plugin.py:150:19: UP024 [*] Replace aliased errors with `OSError`
    |
149 |         except Exception as e:
150 |             raise EnvironmentError(f"Failed to build plugin: {e}")
    |                   ^^^^^^^^^^^^^^^^ UP024
151 |
152 |     def validate_plugin(self, plugin_dir: str = ".") -> Dict[str, Any]:
    |
    = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:180:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
179 |         except Exception as e:
180 |             raise EnvironmentError(f"Failed to validate plugin: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
181 |
182 |     def get_plugin_info(self, plugin_dir: str = ".") -> Dict[str, Any]:
    |

coffeebreak/environments/plugin.py:180:19: UP024 [*] Replace aliased errors with `OSError`
    |
179 |         except Exception as e:
180 |             raise EnvironmentError(f"Failed to validate plugin: {e}")
    |                   ^^^^^^^^^^^^^^^^ UP024
181 |
182 |     def get_plugin_info(self, plugin_dir: str = ".") -> Dict[str, Any]:
    |
    = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:279:89: E501 Line too long (93 > 88)
    |
277 |     def start_development_workflow(self, plugin_dir: str = ".") -> Dict[str, Any]:
278 |         """
279 |         Start complete plugin development workflow with hot reload and container integration.
    |                                                                                         ^^^^^ E501
280 |
281 |         Args:
    |

coffeebreak/environments/plugin.py:308:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
307 |         except Exception as e:
308 |             raise EnvironmentError(f"Failed to start development workflow: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
309 |
310 |     def stop_development_workflow(self, plugin_name: str) -> bool:
    |

coffeebreak/environments/plugin.py:308:19: UP024 [*] Replace aliased errors with `OSError`
    |
307 |         except Exception as e:
308 |             raise EnvironmentError(f"Failed to start development workflow: {e}")
    |                   ^^^^^^^^^^^^^^^^ UP024
309 |
310 |     def stop_development_workflow(self, plugin_name: str) -> bool:
    |
    = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:363:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
361 |             return self.dependency_manager.analyze_plugin_dependencies(plugin_dir)
362 |         except Exception as e:
363 |             raise EnvironmentError(f"Failed to analyze dependencies: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
364 |
365 |     def install_plugin_dependencies(
    |

coffeebreak/environments/plugin.py:363:19: UP024 [*] Replace aliased errors with `OSError`
    |
361 |             return self.dependency_manager.analyze_plugin_dependencies(plugin_dir)
362 |         except Exception as e:
363 |             raise EnvironmentError(f"Failed to analyze dependencies: {e}")
    |                   ^^^^^^^^^^^^^^^^ UP024
364 |
365 |     def install_plugin_dependencies(
    |
    = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:392:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
390 |             )
391 |         except Exception as e:
392 |             raise EnvironmentError(f"Failed to install dependencies: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
393 |
394 |     def check_dependency_compatibility(
    |

coffeebreak/environments/plugin.py:392:19: UP024 [*] Replace aliased errors with `OSError`
    |
390 |             )
391 |         except Exception as e:
392 |             raise EnvironmentError(f"Failed to install dependencies: {e}")
    |                   ^^^^^^^^^^^^^^^^ UP024
393 |
394 |     def check_dependency_compatibility(
    |
    = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:412:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
410 |             )
411 |         except Exception as e:
412 |             raise EnvironmentError(f"Failed to check compatibility: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
413 |
414 |     # Plugin Testing Framework
    |

coffeebreak/environments/plugin.py:412:19: UP024 [*] Replace aliased errors with `OSError`
    |
410 |             )
411 |         except Exception as e:
412 |             raise EnvironmentError(f"Failed to check compatibility: {e}")
    |                   ^^^^^^^^^^^^^^^^ UP024
413 |
414 |     # Plugin Testing Framework
    |
    = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:443:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
441 |             )
442 |         except Exception as e:
443 |             raise EnvironmentError(f"Failed to run plugin tests: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
444 |
445 |     def generate_test_report(
    |

coffeebreak/environments/plugin.py:443:19: UP024 [*] Replace aliased errors with `OSError`
    |
441 |             )
442 |         except Exception as e:
443 |             raise EnvironmentError(f"Failed to run plugin tests: {e}")
    |                   ^^^^^^^^^^^^^^^^ UP024
444 |
445 |     def generate_test_report(
    |
    = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:492:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
490 |             )
491 |         except Exception as e:
492 |             raise EnvironmentError(f"Failed to generate documentation: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
493 |
494 |     # Plugin Developer Tools
    |

coffeebreak/environments/plugin.py:492:19: UP024 [*] Replace aliased errors with `OSError`
    |
490 |             )
491 |         except Exception as e:
492 |             raise EnvironmentError(f"Failed to generate documentation: {e}")
    |                   ^^^^^^^^^^^^^^^^ UP024
493 |
494 |     # Plugin Developer Tools
    |
    = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:523:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
521 |             )
522 |         except Exception as e:
523 |             raise EnvironmentError(f"Failed to run quality assurance: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
524 |
525 |     # Container Integration
    |

coffeebreak/environments/plugin.py:523:19: UP024 [*] Replace aliased errors with `OSError`
    |
521 |             )
522 |         except Exception as e:
523 |             raise EnvironmentError(f"Failed to run quality assurance: {e}")
    |                   ^^^^^^^^^^^^^^^^ UP024
524 |
525 |     # Container Integration
    |
    = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:545:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
543 |             )
544 |         except Exception as e:
545 |             raise EnvironmentError(f"Failed to mount plugin: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
546 |
547 |     def unmount_plugin_from_development(
    |

coffeebreak/environments/plugin.py:545:19: UP024 [*] Replace aliased errors with `OSError`
    |
543 |             )
544 |         except Exception as e:
545 |             raise EnvironmentError(f"Failed to mount plugin: {e}")
    |                   ^^^^^^^^^^^^^^^^ UP024
546 |
547 |     def unmount_plugin_from_development(
    |
    = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:565:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
563 |             )
564 |         except Exception as e:
565 |             raise EnvironmentError(f"Failed to unmount plugin: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
566 |
567 |     def list_mounted_plugins(
    |

coffeebreak/environments/plugin.py:565:19: UP024 [*] Replace aliased errors with `OSError`
    |
563 |             )
564 |         except Exception as e:
565 |             raise EnvironmentError(f"Failed to unmount plugin: {e}")
    |                   ^^^^^^^^^^^^^^^^ UP024
566 |
567 |     def list_mounted_plugins(
    |
    = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:604:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
602 |             return self.hot_reload_manager.start_hot_reload(plugin_dir, core_container)
603 |         except Exception as e:
604 |             raise EnvironmentError(f"Failed to start hot reload: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
605 |
606 |     def stop_hot_reload(self, plugin_name: str) -> bool:
    |

coffeebreak/environments/plugin.py:604:19: UP024 [*] Replace aliased errors with `OSError`
    |
602 |             return self.hot_reload_manager.start_hot_reload(plugin_dir, core_container)
603 |         except Exception as e:
604 |             raise EnvironmentError(f"Failed to start hot reload: {e}")
    |                   ^^^^^^^^^^^^^^^^ UP024
605 |
606 |     def stop_hot_reload(self, plugin_name: str) -> bool:
    |
    = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:639:9: C901 `run_complete_plugin_workflow` is too complex (21 > 15)
    |
637 |     # Comprehensive Plugin Workflow
638 |
639 |     def run_complete_plugin_workflow(
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ C901
640 |         self,
641 |         plugin_dir: str = ".",
    |

coffeebreak/environments/plugin.py:753:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
752 |         except Exception as e:
753 |             raise EnvironmentError(f"Failed to run complete plugin workflow: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
754 |
755 |     def _print_workflow_summary(self, results: Dict[str, Any]) -> None:
    |

coffeebreak/environments/plugin.py:753:19: UP024 [*] Replace aliased errors with `OSError`
    |
752 |         except Exception as e:
753 |             raise EnvironmentError(f"Failed to run complete plugin workflow: {e}")
    |                   ^^^^^^^^^^^^^^^^ UP024
754 |
755 |     def _print_workflow_summary(self, results: Dict[str, Any]) -> None:
    |
    = help: Replace `EnvironmentError` with builtin `OSError`

coffeebreak/environments/plugin.py:757:15: F541 [*] f-string without any placeholders
    |
755 |     def _print_workflow_summary(self, results: Dict[str, Any]) -> None:
756 |         """Print a summary of the complete workflow results."""
757 |         print(f"\n=== Plugin Workflow Summary ===")
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
758 |         print(f"Overall Success: {'✓' if results['overall_success'] else '✗'}")
759 |         print(f"Plugin Directory: {results['plugin_dir']}")
    |
    = help: Remove extraneous `f` prefix

coffeebreak/environments/plugin.py:774:89: E501 Line too long (158 > 88)
    |
772 | …{}).get("started", False)
773 | …
774 | …led else '✗'}, Node={'✓' if node_installed else '✗'}, Services={'✓' if services_started else '✗'}"
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
775 | …
    |

coffeebreak/environments/production.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Production environment management."""
 2 |
 3 | / import os
 4 | | import shutil
 5 | | from datetime import datetime
 6 | | from pathlib import Path
 7 | | from typing import Dict, List, Optional, Any
 8 | | from jinja2 import Environment, FileSystemLoader
 9 | |
10 | | from ..secrets import SecretGenerator, SecretManager
11 | | from ..utils.errors import ConfigurationError
   | |_____________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/environments/production.py:4:8: F401 [*] `shutil` imported but unused
  |
3 | import os
4 | import shutil
  |        ^^^^^^ F401
5 | from datetime import datetime
6 | from pathlib import Path
  |
  = help: Remove unused import: `shutil`

coffeebreak/environments/production.py:10:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 8 | from jinja2 import Environment, FileSystemLoader
 9 |
10 | from ..secrets import SecretGenerator, SecretManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
11 | from ..utils.errors import ConfigurationError
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/production.py:10:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 8 | from jinja2 import Environment, FileSystemLoader
 9 |
10 | from ..secrets import SecretGenerator, SecretManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
11 | from ..utils.errors import ConfigurationError
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/production.py:11:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
10 | from ..secrets import SecretGenerator, SecretManager
11 | from ..utils.errors import ConfigurationError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/production.py:319:89: E501 Line too long (95 > 88)
    |
317 |             if not nginx_result["success"]:
318 |                 installation_result["errors"].append(
319 |                     f"Nginx configuration failed: {nginx_result.get('error', 'Unknown error')}"
    |                                                                                         ^^^^^^^ E501
320 |                 )
    |

coffeebreak/environments/production.py:326:89: E501 Line too long (97 > 88)
    |
324 |             if not monitoring_result["success"]:
325 |                 installation_result["errors"].append(
326 |                     f"Monitoring setup failed: {monitoring_result.get('error', 'Unknown error')}"
    |                                                                                         ^^^^^^^^^ E501
327 |                 )
    |

coffeebreak/environments/production.py:333:89: E501 Line too long (89 > 88)
    |
331 |             if not backup_result["success"]:
332 |                 installation_result["errors"].append(
333 |                     f"Backup setup failed: {backup_result.get('error', 'Unknown error')}"
    |                                                                                         ^ E501
334 |                 )
    |

coffeebreak/environments/production.py:340:89: E501 Line too long (93 > 88)
    |
338 |             if not start_result["success"]:
339 |                 installation_result["errors"].append(
340 |                     f"Failed to start services: {start_result.get('error', 'Unknown error')}"
    |                                                                                         ^^^^^ E501
341 |                 )
    |

coffeebreak/environments/production.py:353:89: E501 Line too long (98 > 88)
    |
351 |                 if installation_result["success"]:
352 |                     print(
353 |                         f"CoffeeBreak standalone installation completed successfully for {domain}"
    |                                                                                         ^^^^^^^^^^ E501
354 |                     )
355 |                 else:
    |

coffeebreak/environments/production.py:357:89: E501 Line too long (98 > 88)
    |
355 |                 else:
356 |                     print(
357 |                         f"Installation completed with {len(installation_result['errors'])} errors"
    |                                                                                         ^^^^^^^^^^ E501
358 |                     )
    |

coffeebreak/environments/production.py:403:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
402 |         except Exception as e:
403 |             raise ConfigurationError(f"Failed to create system user: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
404 |
405 |     def _create_directories(
    |

coffeebreak/environments/production.py:442:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
441 |         except Exception as e:
442 |             raise ConfigurationError(f"Failed to create directories: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
443 |
444 |     def _install_application_files(
    |

coffeebreak/environments/production.py:492:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
491 |         except Exception as e:
492 |             raise ConfigurationError(f"Failed to install application files: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
493 |
494 |     def _setup_ssl_standalone(
    |

coffeebreak/environments/production.py:499:13: TID252 Prefer absolute imports over relative imports from parent modules
    |
497 |         """Setup SSL certificates for standalone installation."""
498 |         try:
499 |             from ..ssl import LetsEncryptManager
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
500 |
501 |             ssl_email = ssl_email or f"admin@{domain}"
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/production.py:613:89: E501 Line too long (150 > 88)
    |
611 | …
612 | …
613 | …lf.secret_manager.load_encrypted_secret('postgres_password', f'/opt/coffeebreak/secrets')}';",
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
614 | …ak;",
615 | …k TO coffeebreak;",
    |

coffeebreak/environments/production.py:613:118: F541 [*] f-string without any placeholders
    |
611 | …
612 | …
613 | …anager.load_encrypted_secret('postgres_password', f'/opt/coffeebreak/secrets')}';",
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
614 | …
615 | …break;",
    |
    = help: Remove extraneous `f` prefix

coffeebreak/environments/production.py:808:13: E722 Do not use bare `except`
    |
806 |                     current_crontab.stdout if current_crontab.returncode == 0 else ""
807 |                 )
808 |             except:
    |             ^^^^^^ E722
809 |                 crontab_content = ""
    |

coffeebreak/environments/production.py:854:13: I001 [*] Import block is un-sorted or un-formatted
    |
852 |           """Validate the standalone installation."""
853 |           try:
854 | /             import subprocess
855 | |             import requests
856 | |             import time
    | |_______________________^ I001
857 |
858 |               errors = []
    |
    = help: Organize imports

coffeebreak/environments/production.py:901:17: TID252 Prefer absolute imports over relative imports from parent modules
    |
900 |             if os.path.exists(cert_path) and os.path.exists(key_path):
901 |                 from ..ssl import SSLManager
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
902 |
903 |                 ssl_manager = SSLManager(verbose=self.verbose)
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/environments/production.py:956:89: E501 Line too long (121 > 88)
    |
954 | # Deploy {name}
955 | echo "Creating secret: coffeebreak_{name}"
956 | echo '{value}' | docker secret create coffeebreak_{name} - 2>/dev/null || echo "Secret coffeebreak_{name} already exists"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
957 | """
    |

coffeebreak/environments/production.py:1023:89: E501 Line too long (96 > 88)
     |
1021 | # Set up automatic renewal
1022 | echo "Setting up automatic certificate renewal..."
1023 | (sudo crontab -l 2>/dev/null; echo "0 12 * * * /usr/bin/certbot renew --quiet") | sudo crontab -
     |                                                                                         ^^^^^^^^ E501
1024 |
1025 | echo "Certificate renewal scheduled via cron"
     |

coffeebreak/environments/production.py:1174:89: E501 Line too long (110 > 88)
     |
1172 | # Create database backups
1173 | echo "Backing up PostgreSQL database..."
1174 | docker-compose exec -T postgres pg_dump -U coffeebreak coffeebreak > "$BACKUP_DIR/${BACKUP_NAME}_postgres.sql"
     |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^ E501
1175 |
1176 | echo "Backing up MongoDB database..."
     |

coffeebreak/environments/production.py:1177:89: E501 Line too long (114 > 88)
     |
1176 | echo "Backing up MongoDB database..."
1177 | docker-compose exec -T mongodb mongodump --db coffeebreak --archive > "$BACKUP_DIR/${BACKUP_NAME}_mongodb.archive"
     |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
1178 |
1179 | # Create configuration backup
     |

coffeebreak/environments/production.py:1239:89: E501 Line too long (103 > 88)
     |
1237 |         return f"""# CoffeeBreak Production Deployment
1238 |
1239 | This directory contains a complete production deployment configuration for CoffeeBreak on **{domain}**.
     |                                                                                         ^^^^^^^^^^^^^^^ E501
1240 |
1241 | ## Generated Configuration
     |

coffeebreak/environments/production.py:1311:62: W291 Trailing whitespace
     |
1309 | ├── docker-compose.yml          # Main orchestration file
1310 | ├── .env.api                   # API service environment
1311 | ├── .env.frontend              # Frontend service environment  
     |                                                              ^^ W291
1312 | ├── .env.events                # Events service environment
1313 | ├── nginx/
     |
     = help: Remove trailing whitespace

coffeebreak/environments/python_env.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Python environment management for CoffeeBreak CLI."""
 2 |
 3 | / import os
 4 | | import subprocess
 5 | | import sys
 6 | | import venv
 7 | | import hashlib
 8 | | import time
 9 | | from pathlib import Path
10 | | from typing import Dict, List, Optional, Tuple, Any
11 | | import click
   | |____________^ I001
   |
   = help: Organize imports

coffeebreak/environments/python_env.py:6:8: F401 [*] `venv` imported but unused
  |
4 | import subprocess
5 | import sys
6 | import venv
  |        ^^^^ F401
7 | import hashlib
8 | import time
  |
  = help: Remove unused import: `venv`

coffeebreak/environments/python_env.py:10:26: F401 [*] `typing.List` imported but unused
   |
 8 | import time
 9 | from pathlib import Path
10 | from typing import Dict, List, Optional, Tuple, Any
   |                          ^^^^ F401
11 | import click
   |
   = help: Remove unused import

coffeebreak/environments/python_env.py:10:42: F401 [*] `typing.Tuple` imported but unused
   |
 8 | import time
 9 | from pathlib import Path
10 | from typing import Dict, List, Optional, Tuple, Any
   |                                          ^^^^^ F401
11 | import click
   |
   = help: Remove unused import

coffeebreak/environments/python_env.py:38:41: UP015 [*] Unnecessary mode argument
   |
36 |             import yaml
37 |
38 |             with open(self.config_path, "r") as f:
   |                                         ^^^ UP015
39 |                 self.config = yaml.safe_load(f)
40 |             return self.config
   |
   = help: Remove mode argument

coffeebreak/environments/python_env.py:42:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
40 |               return self.config
41 |           except FileNotFoundError:
42 | /             raise PythonEnvironmentError(
43 | |                 f"Configuration file not found: {self.config_path}"
44 | |             )
   | |_____________^ B904
45 |           except Exception as e:
46 |               raise PythonEnvironmentError(f"Error loading configuration: {e}")
   |

coffeebreak/environments/python_env.py:46:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
44 |             )
45 |         except Exception as e:
46 |             raise PythonEnvironmentError(f"Error loading configuration: {e}")
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
47 |
48 |     def get_environment_info(self) -> Dict[str, Any]:
   |

coffeebreak/environments/python_env.py:57:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
55 |               return env_config
56 |           except KeyError:
57 | /             raise PythonEnvironmentError(
58 | |                 "No environment configuration found in coffeebreak.yml"
59 | |             )
   | |_____________^ B904
60 |
61 |       def get_activation_command(self, shell: Optional[str] = None) -> str:
   |

coffeebreak/environments/python_env.py:66:89: E501 Line too long (90 > 88)
   |
65 |         Args:
66 |             shell: Target shell (bash, zsh, fish, cmd, powershell) or None for auto-detect
   |                                                                                         ^^ E501
67 |
68 |         Returns:
   |

coffeebreak/environments/python_env.py:259:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
258 |         except subprocess.TimeoutExpired:
259 |             raise PythonEnvironmentError("Virtual environment creation timed out")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
260 |         except Exception as e:
261 |             raise PythonEnvironmentError(f"Error creating virtual environment: {e}")
    |

coffeebreak/environments/python_env.py:261:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
259 |             raise PythonEnvironmentError("Virtual environment creation timed out")
260 |         except Exception as e:
261 |             raise PythonEnvironmentError(f"Error creating virtual environment: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
262 |
263 |     def create_new_conda(
    |

coffeebreak/environments/python_env.py:309:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
308 |         except subprocess.TimeoutExpired:
309 |             raise PythonEnvironmentError("Conda environment creation timed out")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
310 |         except Exception as e:
311 |             raise PythonEnvironmentError(f"Error creating conda environment: {e}")
    |

coffeebreak/environments/python_env.py:311:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
309 |             raise PythonEnvironmentError("Conda environment creation timed out")
310 |         except Exception as e:
311 |             raise PythonEnvironmentError(f"Error creating conda environment: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
312 |
313 |     def validate_existing_venv(
    |

coffeebreak/environments/python_env.py:359:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
358 |         except Exception as e:
359 |             raise PythonEnvironmentError(f"Error validating virtual environment: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
360 |
361 |     def validate_existing_conda(
    |

coffeebreak/environments/python_env.py:403:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
402 |         except Exception as e:
403 |             raise PythonEnvironmentError(f"Error validating conda environment: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
404 |
405 |     def install_requirements(
    |

coffeebreak/environments/python_env.py:434:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
433 |         except Exception as e:
434 |             raise PythonEnvironmentError(f"Error installing requirements: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
435 |
436 |     def _install_requirements_venv(
    |

coffeebreak/environments/python_env.py:479:89: E501 Line too long (96 > 88)
    |
477 |         if self.verbose:
478 |             click.echo(
479 |                 f"Installing requirements from {requirements_file} into conda env {env_name}..."
    |                                                                                         ^^^^^^^^ E501
480 |             )
    |

coffeebreak/git/operations.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Git operations for CoffeeBreak CLI."""
2 |
3 | / import os
4 | | import shutil
5 | | from typing import List, Optional, Dict, Any
6 | | import git
7 | | from git.exc import GitCommandError, InvalidGitRepositoryError
8 | | from .validation import GitValidator
  | |____________________________________^ I001
  |
  = help: Organize imports

coffeebreak/git/operations.py:30:9: C901 `clone_repository` is too complex (18 > 15)
   |
28 |         self.validator = GitValidator()
29 |
30 |     def clone_repository(
   |         ^^^^^^^^^^^^^^^^ C901
31 |         self,
32 |         url: str,
   |

coffeebreak/git/operations.py:97:89: E501 Line too long (103 > 88)
   |
95 |                 error_msg += "\nPlease check your SSH keys or personal access token"
96 |             elif "not found" in str(e).lower():
97 |                 error_msg += "\nRepository not found. Please check the URL and your access permissions"
   |                                                                                         ^^^^^^^^^^^^^^^ E501
98 |             elif branch and "does not exist" in str(e):
99 |                 error_msg += f"\nBranch '{branch}' does not exist in the repository"
   |

coffeebreak/git/operations.py:108:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
106 |                     pass
107 |
108 |             raise GitOperationError(error_msg)
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
109 |
110 |         except Exception as e:
    |

coffeebreak/git/operations.py:118:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
116 |                     pass
117 |
118 |             raise GitOperationError(f"Unexpected error cloning repository: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
119 |
120 |     def clone_multiple_repositories(
    |

coffeebreak/git/operations.py:159:21: B007 Loop control variable `cloned_name` not used within loop body
    |
158 |                 # Clean up any partially cloned repositories
159 |                 for cloned_name, cloned_repo in cloned_repos.items():
    |                     ^^^^^^^^^^^ B007
160 |                     try:
161 |                         shutil.rmtree(cloned_repo.working_dir)
    |
    = help: Rename unused `cloned_name` to `_cloned_name`

coffeebreak/git/operations.py:273:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
272 |         except InvalidGitRepositoryError:
273 |             raise GitOperationError(f"Not a valid Git repository: {repo_path}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
274 |         except GitCommandError as e:
275 |             raise GitOperationError(f"Failed to pull repository {repo_path}: {e}")
    |

coffeebreak/git/operations.py:275:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
273 |             raise GitOperationError(f"Not a valid Git repository: {repo_path}")
274 |         except GitCommandError as e:
275 |             raise GitOperationError(f"Failed to pull repository {repo_path}: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
276 |         except Exception as e:
277 |             raise GitOperationError(f"Unexpected error pulling repository: {e}")
    |

coffeebreak/git/operations.py:277:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
275 |             raise GitOperationError(f"Failed to pull repository {repo_path}: {e}")
276 |         except Exception as e:
277 |             raise GitOperationError(f"Unexpected error pulling repository: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
278 |
279 |     def validate_repository_access(self, url: str) -> bool:
    |

coffeebreak/git/validation.py:6:26: F401 [*] `urllib.parse.urlparse` imported but unused
  |
4 | import subprocess
5 | from typing import List, Optional
6 | from urllib.parse import urlparse
  |                          ^^^^^^^^ F401
  |
  = help: Remove unused import: `urllib.parse.urlparse`

coffeebreak/git/validation.py:39:89: E501 Line too long (101 > 88)
   |
37 |             errors.append(f"Invalid repository URL format: {url}")
38 |             errors.append(
39 |                 "Supported formats: https://github.com/user/repo.git or git@github.com:user/repo.git"
   |                                                                                         ^^^^^^^^^^^^^ E501
40 |             )
   |

coffeebreak/git/validation.py:115:89: E501 Line too long (90 > 88)
    |
113 |             if result.returncode != 0:
114 |                 errors.append(
115 |                     f"Error checking branch {branch} in repository {url}: {result.stderr}"
    |                                                                                         ^^ E501
116 |                 )
117 |             elif not result.stdout.strip():
    |

coffeebreak/infrastructure/__init__.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Infrastructure automation and orchestration for CoffeeBreak deployments."""
2 |
3 | / from .manager import InfrastructureManager
4 | | from .deployment import DeploymentOrchestrator
5 | | from .scaling import AutoScaler
6 | | from .maintenance import MaintenanceManager
  | |___________________________________________^ I001
7 |
8 |   __all__ = [
  |
  = help: Organize imports

coffeebreak/infrastructure/deployment.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Zero-downtime deployment orchestration system."""
 2 |
 3 | / import os
 4 | | import subprocess
 5 | | import time
 6 | | from datetime import datetime
 7 | | from typing import Dict, Any, List, Optional
 8 | | import json
 9 | | import yaml
10 | |
11 | | from ..utils.errors import ConfigurationError
   | |_____________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/infrastructure/deployment.py:4:8: F401 [*] `subprocess` imported but unused
  |
3 | import os
4 | import subprocess
  |        ^^^^^^^^^^ F401
5 | import time
6 | from datetime import datetime
  |
  = help: Remove unused import: `subprocess`

coffeebreak/infrastructure/deployment.py:5:8: F401 [*] `time` imported but unused
  |
3 | import os
4 | import subprocess
5 | import time
  |        ^^^^ F401
6 | from datetime import datetime
7 | from typing import Dict, Any, List, Optional
  |
  = help: Remove unused import: `time`

coffeebreak/infrastructure/deployment.py:6:22: F401 [*] `datetime.datetime` imported but unused
  |
4 | import subprocess
5 | import time
6 | from datetime import datetime
  |                      ^^^^^^^^ F401
7 | from typing import Dict, Any, List, Optional
8 | import json
  |
  = help: Remove unused import: `datetime.datetime`

coffeebreak/infrastructure/deployment.py:7:31: F401 [*] `typing.List` imported but unused
  |
5 | import time
6 | from datetime import datetime
7 | from typing import Dict, Any, List, Optional
  |                               ^^^^ F401
8 | import json
9 | import yaml
  |
  = help: Remove unused import

coffeebreak/infrastructure/deployment.py:7:37: F401 [*] `typing.Optional` imported but unused
  |
5 | import time
6 | from datetime import datetime
7 | from typing import Dict, Any, List, Optional
  |                                     ^^^^^^^^ F401
8 | import json
9 | import yaml
  |
  = help: Remove unused import

coffeebreak/infrastructure/deployment.py:8:8: F401 [*] `json` imported but unused
  |
6 | from datetime import datetime
7 | from typing import Dict, Any, List, Optional
8 | import json
  |        ^^^^ F401
9 | import yaml
  |
  = help: Remove unused import: `json`

coffeebreak/infrastructure/deployment.py:9:8: F401 [*] `yaml` imported but unused
   |
 7 | from typing import Dict, Any, List, Optional
 8 | import json
 9 | import yaml
   |        ^^^^ F401
10 |
11 | from ..utils.errors import ConfigurationError
   |
   = help: Remove unused import: `yaml`

coffeebreak/infrastructure/deployment.py:11:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 9 | import yaml
10 |
11 | from ..utils.errors import ConfigurationError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/infrastructure/deployment.py:11:28: F401 [*] `..utils.errors.ConfigurationError` imported but unused
   |
 9 | import yaml
10 |
11 | from ..utils.errors import ConfigurationError
   |                            ^^^^^^^^^^^^^^^^^^ F401
   |
   = help: Remove unused import: `..utils.errors.ConfigurationError`

coffeebreak/infrastructure/deployment.py:108:1: W293 Blank line contains whitespace
    |
106 |     local error_msg="$1"
107 |     log_message "ERROR: $error_msg"
108 |     
    | ^^^^ W293
109 |     # Send alert
110 |     if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:113:1: W293 Blank line contains whitespace
    |
111 |         /opt/coffeebreak/bin/notify.sh "Deployment Failed" "$error_msg"
112 |     fi
113 |     
    | ^^^^ W293
114 |     exit 1
115 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:122:1: W293 Blank line contains whitespace
    |
120 |     local deployment_type="$2"
121 |     local version="$3"
122 |     
    | ^^^^ W293
123 |     local deployment_record="$DEPLOYMENT_DIR/$deployment_id.json"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:124:1: W293 Blank line contains whitespace
    |
123 |     local deployment_record="$DEPLOYMENT_DIR/$deployment_id.json"
124 |     
    | ^^^^ W293
125 |     cat > "$deployment_record" << EOF
126 | {{
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:137:1: W293 Blank line contains whitespace
    |
135 | }}
136 | EOF
137 |     
    | ^^^^ W293
138 |     echo "$deployment_record"
139 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:146:1: W293 Blank line contains whitespace
    |
144 |     local step="$2"
145 |     local status="$3"
146 |     
    | ^^^^ W293
147 |     # Create temporary updated record
148 |     local temp_record="/tmp/deployment-$$.json"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:149:1: W293 Blank line contains whitespace
    |
147 |     # Create temporary updated record
148 |     local temp_record="/tmp/deployment-$$.json"
149 |     
    | ^^^^ W293
150 |     jq --arg step "$step" --arg status "$status" --arg timestamp "$(date -u +%Y-%m-%dT%H:%M:%SZ)" \\
151 |        '.steps += [{{ "step": $step, "status": $status, "timestamp": $timestamp }}] | .last_update = $timestamp' \\
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:150:89: E501 Line too long (100 > 88)
    |
148 |     local temp_record="/tmp/deployment-$$.json"
149 |     
150 |     jq --arg step "$step" --arg status "$status" --arg timestamp "$(date -u +%Y-%m-%dT%H:%M:%SZ)" \\
    |                                                                                         ^^^^^^^^^^^^ E501
151 |        '.steps += [{{ "step": $step, "status": $status, "timestamp": $timestamp }}] | .last_update = $timestamp' \\
152 |        "$deployment_record" > "$temp_record"
    |

coffeebreak/infrastructure/deployment.py:151:89: E501 Line too long (115 > 88)
    |
150 |     jq --arg step "$step" --arg status "$status" --arg timestamp "$(date -u +%Y-%m-%dT%H:%M:%SZ)" \\
151 |        '.steps += [{{ "step": $step, "status": $status, "timestamp": $timestamp }}] | .last_update = $timestamp' \\
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
152 |        "$deployment_record" > "$temp_record"
    |

coffeebreak/infrastructure/deployment.py:153:1: W293 Blank line contains whitespace
    |
151 |        '.steps += [{{ "step": $step, "status": $status, "timestamp": $timestamp }}] | .last_update = $timestamp' \\
152 |        "$deployment_record" > "$temp_record"
153 |     
    | ^^^^ W293
154 |     mv "$temp_record" "$deployment_record"
155 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:161:1: W293 Blank line contains whitespace
    |
159 |     local max_checks="${{1:-$MAX_HEALTH_CHECKS}}"
160 |     local check_count=0
161 |     
    | ^^^^ W293
162 |     log_message "Checking application health..."
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:163:1: W293 Blank line contains whitespace
    |
162 |     log_message "Checking application health..."
163 |     
    | ^^^^ W293
164 |     while [ $check_count -lt $max_checks ]; do
165 |         if curl -s --max-time 10 "https://$DOMAIN/health" > /dev/null; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:169:1: W293 Blank line contains whitespace
    |
167 |             return 0
168 |         fi
169 |         
    | ^^^^^^^^ W293
170 |         check_count=$((check_count + 1))
171 |         log_message "Health check failed ($check_count/$max_checks), retrying in $HEALTH_CHECK_INTERVAL seconds..."
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:171:89: E501 Line too long (115 > 88)
    |
170 |         check_count=$((check_count + 1))
171 |         log_message "Health check failed ($check_count/$max_checks), retrying in $HEALTH_CHECK_INTERVAL seconds..."
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
172 |         sleep $HEALTH_CHECK_INTERVAL
173 |     done
    |

coffeebreak/infrastructure/deployment.py:174:1: W293 Blank line contains whitespace
    |
172 |         sleep $HEALTH_CHECK_INTERVAL
173 |     done
174 |     
    | ^^^^ W293
175 |     log_message "✗ Health check failed after $max_checks attempts"
176 |     return 1
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:183:89: E501 Line too long (93 > 88)
    |
181 |     local version="$1"
182 |     local deployment_id="deployment-$(date +%Y%m%d_%H%M%S)"
183 |     local deployment_record=$(create_deployment_record "$deployment_id" "rolling" "$version")
    |                                                                                         ^^^^^ E501
184 |     
185 |     log_message "Starting rolling deployment: $deployment_id"
    |

coffeebreak/infrastructure/deployment.py:184:1: W293 Blank line contains whitespace
    |
182 |     local deployment_id="deployment-$(date +%Y%m%d_%H%M%S)"
183 |     local deployment_record=$(create_deployment_record "$deployment_id" "rolling" "$version")
184 |     
    | ^^^^ W293
185 |     log_message "Starting rolling deployment: $deployment_id"
186 |     log_message "Version: $version"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:187:1: W293 Blank line contains whitespace
    |
185 |     log_message "Starting rolling deployment: $deployment_id"
186 |     log_message "Version: $version"
187 |     
    | ^^^^ W293
188 |     # Step 1: Pre-deployment validation
189 |     update_deployment_record "$deployment_record" "pre_validation" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:191:1: W293 Blank line contains whitespace
    |
189 |     update_deployment_record "$deployment_record" "pre_validation" "started"
190 |     log_message "Step 1: Pre-deployment validation"
191 |     
    | ^^^^ W293
192 |     if ! /opt/coffeebreak/bin/validate.sh --comprehensive; then
193 |         update_deployment_record "$deployment_record" "pre_validation" "failed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:196:1: W293 Blank line contains whitespace
    |
194 |         handle_error "Pre-deployment validation failed"
195 |     fi
196 |     
    | ^^^^ W293
197 |     update_deployment_record "$deployment_record" "pre_validation" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:198:1: W293 Blank line contains whitespace
    |
197 |     update_deployment_record "$deployment_record" "pre_validation" "completed"
198 |     
    | ^^^^ W293
199 |     # Step 2: Create backup
200 |     update_deployment_record "$deployment_record" "backup" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:202:1: W293 Blank line contains whitespace
    |
200 |     update_deployment_record "$deployment_record" "backup" "started"
201 |     log_message "Step 2: Creating backup"
202 |     
    | ^^^^ W293
203 |     if ! /opt/coffeebreak/bin/backup.sh incremental; then
204 |         update_deployment_record "$deployment_record" "backup" "failed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:207:1: W293 Blank line contains whitespace
    |
205 |         handle_error "Backup creation failed"
206 |     fi
207 |     
    | ^^^^ W293
208 |     update_deployment_record "$deployment_record" "backup" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:209:1: W293 Blank line contains whitespace
    |
208 |     update_deployment_record "$deployment_record" "backup" "completed"
209 |     
    | ^^^^ W293
210 |     # Step 3: Deploy to staging area
211 |     update_deployment_record "$deployment_record" "staging_deploy" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:213:1: W293 Blank line contains whitespace
    |
211 |     update_deployment_record "$deployment_record" "staging_deploy" "started"
212 |     log_message "Step 3: Deploying to staging area"
213 |     
    | ^^^^ W293
214 |     # Create staging deployment
215 |     local staging_dir="/opt/coffeebreak/staging"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:217:1: W293 Blank line contains whitespace
    |
215 |     local staging_dir="/opt/coffeebreak/staging"
216 |     mkdir -p "$staging_dir"
217 |     
    | ^^^^ W293
218 |     # Deploy new version to staging (implementation depends on deployment method)
219 |     if [ "{config.get("deployment_method", "git")}" = "git" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:222:89: E501 Line too long (99 > 88)
    |
220 |         cd "$staging_dir"
221 |         if [ ! -d ".git" ]; then
222 |             git clone "{config.get("repository_url", "https://github.com/user/coffeebreak.git")}" .
    |                                                                                         ^^^^^^^^^^^ E501
223 |         else
224 |             git fetch origin
    |

coffeebreak/infrastructure/deployment.py:228:1: W293 Blank line contains whitespace
    |
226 |         git checkout "$version" || handle_error "Failed to checkout version $version"
227 |     fi
228 |     
    | ^^^^ W293
229 |     update_deployment_record "$deployment_record" "staging_deploy" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:230:1: W293 Blank line contains whitespace
    |
229 |     update_deployment_record "$deployment_record" "staging_deploy" "completed"
230 |     
    | ^^^^ W293
231 |     # Step 4: Rolling update of services
232 |     update_deployment_record "$deployment_record" "service_update" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:234:1: W293 Blank line contains whitespace
    |
232 |     update_deployment_record "$deployment_record" "service_update" "started"
233 |     log_message "Step 4: Rolling update of services"
234 |     
    | ^^^^ W293
235 |     local services=("coffeebreak-api" "coffeebreak-frontend" "coffeebreak-events")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:236:1: W293 Blank line contains whitespace
    |
235 |     local services=("coffeebreak-api" "coffeebreak-frontend" "coffeebreak-events")
236 |     
    | ^^^^ W293
237 |     for service in "${{services[@]}}"; do
238 |         log_message "Updating service: $service"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:239:1: W293 Blank line contains whitespace
    |
237 |     for service in "${{services[@]}}"; do
238 |         log_message "Updating service: $service"
239 |         
    | ^^^^^^^^ W293
240 |         # Stop service gracefully
241 |         systemctl stop "$service" || true
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:242:1: W293 Blank line contains whitespace
    |
240 |         # Stop service gracefully
241 |         systemctl stop "$service" || true
242 |         
    | ^^^^^^^^ W293
243 |         # Update service files (implementation depends on deployment method)
244 |         # This would typically involve copying files, updating configurations, etc.
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:245:1: W293 Blank line contains whitespace
    |
243 |         # Update service files (implementation depends on deployment method)
244 |         # This would typically involve copying files, updating configurations, etc.
245 |         
    | ^^^^^^^^ W293
246 |         # Start service
247 |         systemctl start "$service" || handle_error "Failed to start $service"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:248:1: W293 Blank line contains whitespace
    |
246 |         # Start service
247 |         systemctl start "$service" || handle_error "Failed to start $service"
248 |         
    | ^^^^^^^^ W293
249 |         # Health check after each service update
250 |         if ! check_health 10; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:253:1: W293 Blank line contains whitespace
    |
251 |             handle_error "Health check failed after updating $service"
252 |         fi
253 |         
    | ^^^^^^^^ W293
254 |         log_message "✓ Service $service updated successfully"
255 |     done
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:256:1: W293 Blank line contains whitespace
    |
254 |         log_message "✓ Service $service updated successfully"
255 |     done
256 |     
    | ^^^^ W293
257 |     update_deployment_record "$deployment_record" "service_update" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:258:1: W293 Blank line contains whitespace
    |
257 |     update_deployment_record "$deployment_record" "service_update" "completed"
258 |     
    | ^^^^ W293
259 |     # Step 5: Final health check
260 |     update_deployment_record "$deployment_record" "final_validation" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:262:1: W293 Blank line contains whitespace
    |
260 |     update_deployment_record "$deployment_record" "final_validation" "started"
261 |     log_message "Step 5: Final health validation"
262 |     
    | ^^^^ W293
263 |     if ! check_health; then
264 |         update_deployment_record "$deployment_record" "final_validation" "failed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:267:1: W293 Blank line contains whitespace
    |
265 |         handle_error "Final health check failed"
266 |     fi
267 |     
    | ^^^^ W293
268 |     update_deployment_record "$deployment_record" "final_validation" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:269:1: W293 Blank line contains whitespace
    |
268 |     update_deployment_record "$deployment_record" "final_validation" "completed"
269 |     
    | ^^^^ W293
270 |     # Mark deployment as completed
271 |     jq '.status = "completed" | .end_time = "$(date -u +%Y-%m-%dT%H:%M:%SZ)"' \\
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:274:1: W293 Blank line contains whitespace
    |
272 |        "$deployment_record" > "/tmp/deployment-$$.json"
273 |     mv "/tmp/deployment-$$.json" "$deployment_record"
274 |     
    | ^^^^ W293
275 |     log_message "✓ Rolling deployment completed successfully: $deployment_id"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:276:1: W293 Blank line contains whitespace
    |
275 |     log_message "✓ Rolling deployment completed successfully: $deployment_id"
276 |     
    | ^^^^ W293
277 |     # Send success notification
278 |     if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:279:89: E501 Line too long (141 > 88)
    |
277 | …
278 | …n
279 | …Successful" "Rolling deployment $deployment_id completed successfully (version: $version)"
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
280 | …
281 | …
    |

coffeebreak/infrastructure/deployment.py:287:89: E501 Line too long (96 > 88)
    |
285 |     local version="$1"
286 |     local deployment_id="deployment-$(date +%Y%m%d_%H%M%S)"
287 |     local deployment_record=$(create_deployment_record "$deployment_id" "blue-green" "$version")
    |                                                                                         ^^^^^^^^ E501
288 |     
289 |     log_message "Starting blue-green deployment: $deployment_id"
    |

coffeebreak/infrastructure/deployment.py:288:1: W293 Blank line contains whitespace
    |
286 |     local deployment_id="deployment-$(date +%Y%m%d_%H%M%S)"
287 |     local deployment_record=$(create_deployment_record "$deployment_id" "blue-green" "$version")
288 |     
    | ^^^^ W293
289 |     log_message "Starting blue-green deployment: $deployment_id"
290 |     log_message "Version: $version"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:291:1: W293 Blank line contains whitespace
    |
289 |     log_message "Starting blue-green deployment: $deployment_id"
290 |     log_message "Version: $version"
291 |     
    | ^^^^ W293
292 |     # Step 1: Create green environment
293 |     update_deployment_record "$deployment_record" "green_environment" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:295:1: W293 Blank line contains whitespace
    |
293 |     update_deployment_record "$deployment_record" "green_environment" "started"
294 |     log_message "Step 1: Creating green environment"
295 |     
    | ^^^^ W293
296 |     local green_dir="/opt/coffeebreak/green"
297 |     local blue_dir="/opt/coffeebreak/blue"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:298:1: W293 Blank line contains whitespace
    |
296 |     local green_dir="/opt/coffeebreak/green"
297 |     local blue_dir="/opt/coffeebreak/blue"
298 |     
    | ^^^^ W293
299 |     # Setup green environment
300 |     mkdir -p "$green_dir"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:301:1: W293 Blank line contains whitespace
    |
299 |     # Setup green environment
300 |     mkdir -p "$green_dir"
301 |     
    | ^^^^ W293
302 |     # Deploy to green environment
303 |     if [ "{config.get("deployment_method", "git")}" = "git" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:306:89: E501 Line too long (99 > 88)
    |
304 |         cd "$green_dir"
305 |         if [ ! -d ".git" ]; then
306 |             git clone "{config.get("repository_url", "https://github.com/user/coffeebreak.git")}" .
    |                                                                                         ^^^^^^^^^^^ E501
307 |         else
308 |             git fetch origin
    |

coffeebreak/infrastructure/deployment.py:312:1: W293 Blank line contains whitespace
    |
310 |         git checkout "$version" || handle_error "Failed to checkout version $version"
311 |     fi
312 |     
    | ^^^^ W293
313 |     update_deployment_record "$deployment_record" "green_environment" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:314:1: W293 Blank line contains whitespace
    |
313 |     update_deployment_record "$deployment_record" "green_environment" "completed"
314 |     
    | ^^^^ W293
315 |     # Step 2: Start green services
316 |     update_deployment_record "$deployment_record" "green_services" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:318:1: W293 Blank line contains whitespace
    |
316 |     update_deployment_record "$deployment_record" "green_services" "started"
317 |     log_message "Step 2: Starting green services"
318 |     
    | ^^^^ W293
319 |     # Start green services on alternate ports
320 |     # This would involve creating alternate service configurations
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:321:1: W293 Blank line contains whitespace
    |
319 |     # Start green services on alternate ports
320 |     # This would involve creating alternate service configurations
321 |     
    | ^^^^ W293
322 |     update_deployment_record "$deployment_record" "green_services" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:323:1: W293 Blank line contains whitespace
    |
322 |     update_deployment_record "$deployment_record" "green_services" "completed"
323 |     
    | ^^^^ W293
324 |     # Step 3: Health check green environment
325 |     update_deployment_record "$deployment_record" "green_validation" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:327:1: W293 Blank line contains whitespace
    |
325 |     update_deployment_record "$deployment_record" "green_validation" "started"
326 |     log_message "Step 3: Validating green environment"
327 |     
    | ^^^^ W293
328 |     # Test green environment (on alternate ports)
329 |     if ! curl -s --max-time 10 "http://localhost:3001/health" > /dev/null; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:333:1: W293 Blank line contains whitespace
    |
331 |         handle_error "Green environment health check failed"
332 |     fi
333 |     
    | ^^^^ W293
334 |     update_deployment_record "$deployment_record" "green_validation" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:335:1: W293 Blank line contains whitespace
    |
334 |     update_deployment_record "$deployment_record" "green_validation" "completed"
335 |     
    | ^^^^ W293
336 |     # Step 4: Switch traffic to green
337 |     update_deployment_record "$deployment_record" "traffic_switch" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:339:1: W293 Blank line contains whitespace
    |
337 |     update_deployment_record "$deployment_record" "traffic_switch" "started"
338 |     log_message "Step 4: Switching traffic to green environment"
339 |     
    | ^^^^ W293
340 |     # Update load balancer configuration to point to green
341 |     # This would involve updating nginx configuration
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:342:1: W293 Blank line contains whitespace
    |
340 |     # Update load balancer configuration to point to green
341 |     # This would involve updating nginx configuration
342 |     
    | ^^^^ W293
343 |     # Reload nginx
344 |     nginx -s reload || handle_error "Failed to reload nginx configuration"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:345:1: W293 Blank line contains whitespace
    |
343 |     # Reload nginx
344 |     nginx -s reload || handle_error "Failed to reload nginx configuration"
345 |     
    | ^^^^ W293
346 |     update_deployment_record "$deployment_record" "traffic_switch" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:347:1: W293 Blank line contains whitespace
    |
346 |     update_deployment_record "$deployment_record" "traffic_switch" "completed"
347 |     
    | ^^^^ W293
348 |     # Step 5: Final validation
349 |     update_deployment_record "$deployment_record" "final_validation" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:351:1: W293 Blank line contains whitespace
    |
349 |     update_deployment_record "$deployment_record" "final_validation" "started"
350 |     log_message "Step 5: Final validation"
351 |     
    | ^^^^ W293
352 |     if ! check_health; then
353 |         update_deployment_record "$deployment_record" "final_validation" "failed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:356:1: W293 Blank line contains whitespace
    |
354 |         handle_error "Final health check failed"
355 |     fi
356 |     
    | ^^^^ W293
357 |     update_deployment_record "$deployment_record" "final_validation" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:358:1: W293 Blank line contains whitespace
    |
357 |     update_deployment_record "$deployment_record" "final_validation" "completed"
358 |     
    | ^^^^ W293
359 |     # Step 6: Cleanup blue environment
360 |     update_deployment_record "$deployment_record" "cleanup" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:362:1: W293 Blank line contains whitespace
    |
360 |     update_deployment_record "$deployment_record" "cleanup" "started"
361 |     log_message "Step 6: Cleaning up blue environment"
362 |     
    | ^^^^ W293
363 |     # Move current blue to backup, green becomes new blue
364 |     if [ -d "$blue_dir" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:368:1: W293 Blank line contains whitespace
    |
366 |     fi
367 |     mv "$green_dir" "$blue_dir"
368 |     
    | ^^^^ W293
369 |     update_deployment_record "$deployment_record" "cleanup" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:370:1: W293 Blank line contains whitespace
    |
369 |     update_deployment_record "$deployment_record" "cleanup" "completed"
370 |     
    | ^^^^ W293
371 |     # Mark deployment as completed
372 |     jq '.status = "completed" | .end_time = "$(date -u +%Y-%m-%dT%H:%M:%SZ)"' \\
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:375:1: W293 Blank line contains whitespace
    |
373 |        "$deployment_record" > "/tmp/deployment-$$.json"
374 |     mv "/tmp/deployment-$$.json" "$deployment_record"
375 |     
    | ^^^^ W293
376 |     log_message "✓ Blue-green deployment completed successfully: $deployment_id"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:377:1: W293 Blank line contains whitespace
    |
376 |     log_message "✓ Blue-green deployment completed successfully: $deployment_id"
377 |     
    | ^^^^ W293
378 |     # Send success notification
379 |     if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:380:89: E501 Line too long (144 > 88)
    |
378 | …
379 | …
380 | …ccessful" "Blue-green deployment $deployment_id completed successfully (version: $version)"
    |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
381 | …
382 | …
    |

coffeebreak/infrastructure/deployment.py:389:89: E501 Line too long (92 > 88)
    |
387 |     local canary_percentage="${{2:-10}}"
388 |     local deployment_id="deployment-$(date +%Y%m%d_%H%M%S)"
389 |     local deployment_record=$(create_deployment_record "$deployment_id" "canary" "$version")
    |                                                                                         ^^^^ E501
390 |     
391 |     log_message "Starting canary deployment: $deployment_id"
    |

coffeebreak/infrastructure/deployment.py:390:1: W293 Blank line contains whitespace
    |
388 |     local deployment_id="deployment-$(date +%Y%m%d_%H%M%S)"
389 |     local deployment_record=$(create_deployment_record "$deployment_id" "canary" "$version")
390 |     
    | ^^^^ W293
391 |     log_message "Starting canary deployment: $deployment_id"
392 |     log_message "Version: $version, Canary: $canary_percentage%"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:393:1: W293 Blank line contains whitespace
    |
391 |     log_message "Starting canary deployment: $deployment_id"
392 |     log_message "Version: $version, Canary: $canary_percentage%"
393 |     
    | ^^^^ W293
394 |     # Step 1: Deploy canary version
395 |     update_deployment_record "$deployment_record" "canary_deploy" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:397:1: W293 Blank line contains whitespace
    |
395 |     update_deployment_record "$deployment_record" "canary_deploy" "started"
396 |     log_message "Step 1: Deploying canary version"
397 |     
    | ^^^^ W293
398 |     # Deploy canary instance
399 |     local canary_dir="/opt/coffeebreak/canary"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:401:1: W293 Blank line contains whitespace
    |
399 |     local canary_dir="/opt/coffeebreak/canary"
400 |     mkdir -p "$canary_dir"
401 |     
    | ^^^^ W293
402 |     if [ "{config.get("deployment_method", "git")}" = "git" ]; then
403 |         cd "$canary_dir"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:405:89: E501 Line too long (99 > 88)
    |
403 |         cd "$canary_dir"
404 |         if [ ! -d ".git" ]; then
405 |             git clone "{config.get("repository_url", "https://github.com/user/coffeebreak.git")}" .
    |                                                                                         ^^^^^^^^^^^ E501
406 |         else
407 |             git fetch origin
    |

coffeebreak/infrastructure/deployment.py:411:1: W293 Blank line contains whitespace
    |
409 |         git checkout "$version" || handle_error "Failed to checkout version $version"
410 |     fi
411 |     
    | ^^^^ W293
412 |     update_deployment_record "$deployment_record" "canary_deploy" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:413:1: W293 Blank line contains whitespace
    |
412 |     update_deployment_record "$deployment_record" "canary_deploy" "completed"
413 |     
    | ^^^^ W293
414 |     # Step 2: Configure traffic splitting
415 |     update_deployment_record "$deployment_record" "traffic_split" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:417:1: W293 Blank line contains whitespace
    |
415 |     update_deployment_record "$deployment_record" "traffic_split" "started"
416 |     log_message "Step 2: Configuring traffic splitting ($canary_percentage% to canary)"
417 |     
    | ^^^^ W293
418 |     # Update load balancer to send percentage of traffic to canary
419 |     # This would involve updating nginx configuration with upstream weights
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:420:1: W293 Blank line contains whitespace
    |
418 |     # Update load balancer to send percentage of traffic to canary
419 |     # This would involve updating nginx configuration with upstream weights
420 |     
    | ^^^^ W293
421 |     update_deployment_record "$deployment_record" "traffic_split" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:422:1: W293 Blank line contains whitespace
    |
421 |     update_deployment_record "$deployment_record" "traffic_split" "completed"
422 |     
    | ^^^^ W293
423 |     # Step 3: Monitor canary
424 |     update_deployment_record "$deployment_record" "canary_monitoring" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:426:1: W293 Blank line contains whitespace
    |
424 |     update_deployment_record "$deployment_record" "canary_monitoring" "started"
425 |     log_message "Step 3: Monitoring canary deployment"
426 |     
    | ^^^^ W293
427 |     # Monitor for configurable time period
428 |     local monitor_duration={config.get("canary_monitor_duration", 300)}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:430:1: W293 Blank line contains whitespace
    |
428 |     local monitor_duration={config.get("canary_monitor_duration", 300)}
429 |     local monitor_end=$(($(date +%s) + monitor_duration))
430 |     
    | ^^^^ W293
431 |     while [ $(date +%s) -lt $monitor_end ]; do
432 |         if ! check_health 3; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:436:1: W293 Blank line contains whitespace
    |
434 |             handle_error "Canary monitoring detected health issues"
435 |         fi
436 |         
    | ^^^^^^^^ W293
437 |         # Check error rates, response times, etc.
438 |         # This would involve more sophisticated monitoring
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:439:1: W293 Blank line contains whitespace
    |
437 |         # Check error rates, response times, etc.
438 |         # This would involve more sophisticated monitoring
439 |         
    | ^^^^^^^^ W293
440 |         sleep 30
441 |     done
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:442:1: W293 Blank line contains whitespace
    |
440 |         sleep 30
441 |     done
442 |     
    | ^^^^ W293
443 |     update_deployment_record "$deployment_record" "canary_monitoring" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:444:1: W293 Blank line contains whitespace
    |
443 |     update_deployment_record "$deployment_record" "canary_monitoring" "completed"
444 |     
    | ^^^^ W293
445 |     # Step 4: Promote canary to full deployment
446 |     update_deployment_record "$deployment_record" "canary_promotion" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:448:1: W293 Blank line contains whitespace
    |
446 |     update_deployment_record "$deployment_record" "canary_promotion" "started"
447 |     log_message "Step 4: Promoting canary to full deployment"
448 |     
    | ^^^^ W293
449 |     # Gradually increase canary traffic to 100%
450 |     local percentages=(25 50 75 100)
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:453:1: W293 Blank line contains whitespace
    |
451 |     for percentage in "${{percentages[@]}}"; do
452 |         log_message "Increasing canary traffic to $percentage%"
453 |         
    | ^^^^^^^^ W293
454 |         # Update load balancer configuration
455 |         # This would involve updating nginx upstream weights
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:456:1: W293 Blank line contains whitespace
    |
454 |         # Update load balancer configuration
455 |         # This would involve updating nginx upstream weights
456 |         
    | ^^^^^^^^ W293
457 |         # Monitor for a short period
458 |         sleep 60
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:459:1: W293 Blank line contains whitespace
    |
457 |         # Monitor for a short period
458 |         sleep 60
459 |         
    | ^^^^^^^^ W293
460 |         if ! check_health 3; then
461 |             update_deployment_record "$deployment_record" "canary_promotion" "failed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:465:1: W293 Blank line contains whitespace
    |
463 |         fi
464 |     done
465 |     
    | ^^^^ W293
466 |     update_deployment_record "$deployment_record" "canary_promotion" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:467:1: W293 Blank line contains whitespace
    |
466 |     update_deployment_record "$deployment_record" "canary_promotion" "completed"
467 |     
    | ^^^^ W293
468 |     # Step 5: Replace main deployment
469 |     update_deployment_record "$deployment_record" "main_replacement" "started"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:471:1: W293 Blank line contains whitespace
    |
469 |     update_deployment_record "$deployment_record" "main_replacement" "started"
470 |     log_message "Step 5: Replacing main deployment"
471 |     
    | ^^^^ W293
472 |     # Replace main deployment with canary
473 |     local main_dir="/opt/coffeebreak/main"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:478:1: W293 Blank line contains whitespace
    |
476 |     fi
477 |     mv "$canary_dir" "$main_dir"
478 |     
    | ^^^^ W293
479 |     update_deployment_record "$deployment_record" "main_replacement" "completed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:480:1: W293 Blank line contains whitespace
    |
479 |     update_deployment_record "$deployment_record" "main_replacement" "completed"
480 |     
    | ^^^^ W293
481 |     # Mark deployment as completed
482 |     jq '.status = "completed" | .end_time = "$(date -u +%Y-%m-%dT%H:%M:%SZ)"' \\
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:485:1: W293 Blank line contains whitespace
    |
483 |        "$deployment_record" > "/tmp/deployment-$$.json"
484 |     mv "/tmp/deployment-$$.json" "$deployment_record"
485 |     
    | ^^^^ W293
486 |     log_message "✓ Canary deployment completed successfully: $deployment_id"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:487:1: W293 Blank line contains whitespace
    |
486 |     log_message "✓ Canary deployment completed successfully: $deployment_id"
487 |     
    | ^^^^ W293
488 |     # Send success notification
489 |     if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:490:89: E501 Line too long (140 > 88)
    |
488 | …
489 | …n
490 | …Successful" "Canary deployment $deployment_id completed successfully (version: $version)"
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
491 | …
492 | …
    |

coffeebreak/infrastructure/deployment.py:498:1: W293 Blank line contains whitespace
    |
496 |     local rollback_to="${{1:-previous}}"
497 |     local deployment_id="rollback-$(date +%Y%m%d_%H%M%S)"
498 |     
    | ^^^^ W293
499 |     log_message "Starting rollback: $deployment_id"
500 |     log_message "Rolling back to: $rollback_to"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:501:1: W293 Blank line contains whitespace
    |
499 |     log_message "Starting rollback: $deployment_id"
500 |     log_message "Rolling back to: $rollback_to"
501 |     
    | ^^^^ W293
502 |     # Find the deployment to rollback to
503 |     local rollback_version
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:505:89: E501 Line too long (103 > 88)
    |
503 |     local rollback_version
504 |     if [ "$rollback_to" = "previous" ]; then
505 |         rollback_version=$(ls -t "$DEPLOYMENT_DIR"/*.json | head -2 | tail -1 | xargs jq -r '.version')
    |                                                                                         ^^^^^^^^^^^^^^^ E501
506 |     else
507 |         rollback_version="$rollback_to"
    |

coffeebreak/infrastructure/deployment.py:509:1: W293 Blank line contains whitespace
    |
507 |         rollback_version="$rollback_to"
508 |     fi
509 |     
    | ^^^^ W293
510 |     log_message "Rollback target version: $rollback_version"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:511:1: W293 Blank line contains whitespace
    |
510 |     log_message "Rollback target version: $rollback_version"
511 |     
    | ^^^^ W293
512 |     # Perform rapid rollback using previous deployment artifacts
513 |     # This would involve reversing the last deployment steps
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:514:1: W293 Blank line contains whitespace
    |
512 |     # Perform rapid rollback using previous deployment artifacts
513 |     # This would involve reversing the last deployment steps
514 |     
    | ^^^^ W293
515 |     # Send rollback notification
516 |     if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:517:89: E501 Line too long (109 > 88)
    |
515 |     # Send rollback notification
516 |     if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
517 |         /opt/coffeebreak/bin/notify.sh "Rollback Completed" "System rolled back to version $rollback_version"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^ E501
518 |     fi
    |

coffeebreak/infrastructure/deployment.py:519:1: W293 Blank line contains whitespace
    |
517 |         /opt/coffeebreak/bin/notify.sh "Rollback Completed" "System rolled back to version $rollback_version"
518 |     fi
519 |     
    | ^^^^ W293
520 |     log_message "✓ Rollback completed successfully"
521 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:528:1: W293 Blank line contains whitespace
    |
526 |     local version="${{2:-latest}}"
527 |     local extra_param="$3"
528 |     
    | ^^^^ W293
529 |     log_message "Deployment request: strategy=$deployment_strategy, version=$version"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:530:1: W293 Blank line contains whitespace
    |
529 |     log_message "Deployment request: strategy=$deployment_strategy, version=$version"
530 |     
    | ^^^^ W293
531 |     # Timeout handler
532 |     timeout $DEPLOYMENT_TIMEOUT bash -c "
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:590:1: W293 Blank line contains whitespace
    |
588 |     echo "CoffeeBreak Deployment History"
589 |     echo "============================="
590 |     
    | ^^^^ W293
591 |     if [ ! -d "$DEPLOYMENT_DIR" ] || [ -z "$(ls -A $DEPLOYMENT_DIR 2>/dev/null)" ]; then
592 |         echo "No deployments found."
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:595:1: W293 Blank line contains whitespace
    |
593 |         return 0
594 |     fi
595 |     
    | ^^^^ W293
596 |     echo "ID                          | Type       | Version    | Status     | Start Time"
597 |     echo "--------------------------- | ---------- | ---------- | ---------- | -------------------"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:596:89: E501 Line too long (90 > 88)
    |
594 |     fi
595 |     
596 |     echo "ID                          | Type       | Version    | Status     | Start Time"
    |                                                                                         ^^ E501
597 |     echo "--------------------------- | ---------- | ---------- | ---------- | -------------------"
    |

coffeebreak/infrastructure/deployment.py:597:89: E501 Line too long (99 > 88)
    |
596 |     echo "ID                          | Type       | Version    | Status     | Start Time"
597 |     echo "--------------------------- | ---------- | ---------- | ---------- | -------------------"
    |                                                                                         ^^^^^^^^^^^ E501
598 |     
599 |     for deployment_file in "$DEPLOYMENT_DIR"/*.json; do
    |

coffeebreak/infrastructure/deployment.py:598:1: W293 Blank line contains whitespace
    |
596 |     echo "ID                          | Type       | Version    | Status     | Start Time"
597 |     echo "--------------------------- | ---------- | ---------- | ---------- | -------------------"
598 |     
    | ^^^^ W293
599 |     for deployment_file in "$DEPLOYMENT_DIR"/*.json; do
600 |         if [ -f "$deployment_file" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:606:1: W293 Blank line contains whitespace
    |
604 |             local status=$(jq -r '.status' "$deployment_file")
605 |             local start_time=$(jq -r '.start_time' "$deployment_file")
606 |             
    | ^^^^^^^^^^^^ W293
607 |             printf "%-27s | %-10s | %-10s | %-10s | %s
608 | " "$id" "$type" "$version" "$status" "$start_time"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:617:1: W293 Blank line contains whitespace
    |
615 |     local deployment_id="$1"
616 |     local deployment_file="$DEPLOYMENT_DIR/$deployment_id.json"
617 |     
    | ^^^^ W293
618 |     if [ ! -f "$deployment_file" ]; then
619 |         echo "Deployment not found: $deployment_id"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:622:1: W293 Blank line contains whitespace
    |
620 |         return 1
621 |     fi
622 |     
    | ^^^^ W293
623 |     echo "Deployment Details: $deployment_id"
624 |     echo "=================================="
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:631:1: W293 Blank line contains whitespace
    |
629 | cleanup_deployments() {{
630 |     local retention_days="${{1:-30}}"
631 |     
    | ^^^^ W293
632 |     echo "Cleaning up deployments older than $retention_days days..."
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:633:1: W293 Blank line contains whitespace
    |
632 |     echo "Cleaning up deployments older than $retention_days days..."
633 |     
    | ^^^^ W293
634 |     find "$DEPLOYMENT_DIR" -name "*.json" -mtime +$retention_days -delete
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:635:1: W293 Blank line contains whitespace
    |
634 |     find "$DEPLOYMENT_DIR" -name "*.json" -mtime +$retention_days -delete
635 |     
    | ^^^^ W293
636 |     echo "Cleanup completed."
637 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/deployment.py:643:1: W293 Blank line contains whitespace
    |
641 |     local action="${{1:-list}}"
642 |     local param="$2"
643 |     
    | ^^^^ W293
644 |     case "$action" in
645 |         "list")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Automated maintenance system for CoffeeBreak infrastructure."""
 2 |
 3 | / import os
 4 | | import subprocess
 5 | | import time
 6 | | from datetime import datetime, timedelta
 7 | | from typing import Dict, Any, List, Optional
 8 | | import json
 9 | |
10 | | from ..utils.errors import ConfigurationError
   | |_____________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/infrastructure/maintenance.py:5:8: F401 [*] `time` imported but unused
  |
3 | import os
4 | import subprocess
5 | import time
  |        ^^^^ F401
6 | from datetime import datetime, timedelta
7 | from typing import Dict, Any, List, Optional
  |
  = help: Remove unused import: `time`

coffeebreak/infrastructure/maintenance.py:6:22: F401 [*] `datetime.datetime` imported but unused
  |
4 | import subprocess
5 | import time
6 | from datetime import datetime, timedelta
  |                      ^^^^^^^^ F401
7 | from typing import Dict, Any, List, Optional
8 | import json
  |
  = help: Remove unused import

coffeebreak/infrastructure/maintenance.py:6:32: F401 [*] `datetime.timedelta` imported but unused
  |
4 | import subprocess
5 | import time
6 | from datetime import datetime, timedelta
  |                                ^^^^^^^^^ F401
7 | from typing import Dict, Any, List, Optional
8 | import json
  |
  = help: Remove unused import

coffeebreak/infrastructure/maintenance.py:7:31: F401 [*] `typing.List` imported but unused
  |
5 | import time
6 | from datetime import datetime, timedelta
7 | from typing import Dict, Any, List, Optional
  |                               ^^^^ F401
8 | import json
  |
  = help: Remove unused import

coffeebreak/infrastructure/maintenance.py:7:37: F401 [*] `typing.Optional` imported but unused
  |
5 | import time
6 | from datetime import datetime, timedelta
7 | from typing import Dict, Any, List, Optional
  |                                     ^^^^^^^^ F401
8 | import json
  |
  = help: Remove unused import

coffeebreak/infrastructure/maintenance.py:10:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 8 | import json
 9 |
10 | from ..utils.errors import ConfigurationError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/infrastructure/maintenance.py:10:28: F401 [*] `..utils.errors.ConfigurationError` imported but unused
   |
 8 | import json
 9 |
10 | from ..utils.errors import ConfigurationError
   |                            ^^^^^^^^^^^^^^^^^^ F401
   |
   = help: Remove unused import: `..utils.errors.ConfigurationError`

coffeebreak/infrastructure/maintenance.py:96:89: E501 Line too long (153 > 88)
   |
94 | …
95 | …", "02:00").split("-")[0]}"
96 | … "04:00").split("-")[1] if "-" in config.get("maintenance_window", "02:00-04:00") else "04:00"}"
   |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
97 | …
98 | …
   |

coffeebreak/infrastructure/maintenance.py:107:1: W293 Blank line contains whitespace
    |
105 |     local subject="$1"
106 |     local message="$2"
107 |     
    | ^^^^ W293
108 |     log_message "ALERT: $subject"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:109:1: W293 Blank line contains whitespace
    |
108 |     log_message "ALERT: $subject"
109 |     
    | ^^^^ W293
110 |     if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
111 |         /opt/coffeebreak/bin/notify.sh "$subject" "$message"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:113:1: W293 Blank line contains whitespace
    |
111 |         /opt/coffeebreak/bin/notify.sh "$subject" "$message"
112 |     fi
113 |     
    | ^^^^ W293
114 |     logger -t coffeebreak-maintenance "ALERT: $subject - $message"
115 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:122:1: W293 Blank line contains whitespace
    |
120 |     local start_time="$MAINTENANCE_WINDOW_START"
121 |     local end_time="$MAINTENANCE_WINDOW_END"
122 |     
    | ^^^^ W293
123 |     # Convert times to minutes for comparison
124 |     local current_minutes=$(date -d "$current_time" +%H:%M | awk -F: '{{print ($1 * 60) + $2}}')
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:124:89: E501 Line too long (96 > 88)
    |
123 |     # Convert times to minutes for comparison
124 |     local current_minutes=$(date -d "$current_time" +%H:%M | awk -F: '{{print ($1 * 60) + $2}}')
    |                                                                                         ^^^^^^^^ E501
125 |     local start_minutes=$(date -d "$start_time" +%H:%M | awk -F: '{{print ($1 * 60) + $2}}')
126 |     local end_minutes=$(date -d "$end_time" +%H:%M | awk -F: '{{print ($1 * 60) + $2}}')
    |

coffeebreak/infrastructure/maintenance.py:125:89: E501 Line too long (92 > 88)
    |
123 |     # Convert times to minutes for comparison
124 |     local current_minutes=$(date -d "$current_time" +%H:%M | awk -F: '{{print ($1 * 60) + $2}}')
125 |     local start_minutes=$(date -d "$start_time" +%H:%M | awk -F: '{{print ($1 * 60) + $2}}')
    |                                                                                         ^^^^ E501
126 |     local end_minutes=$(date -d "$end_time" +%H:%M | awk -F: '{{print ($1 * 60) + $2}}')
    |

coffeebreak/infrastructure/maintenance.py:127:1: W293 Blank line contains whitespace
    |
125 |     local start_minutes=$(date -d "$start_time" +%H:%M | awk -F: '{{print ($1 * 60) + $2}}')
126 |     local end_minutes=$(date -d "$end_time" +%H:%M | awk -F: '{{print ($1 * 60) + $2}}')
127 |     
    | ^^^^ W293
128 |     # Handle overnight window (e.g., 23:00-03:00)
129 |     if [ $start_minutes -gt $end_minutes ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:131:89: E501 Line too long (97 > 88)
    |
129 |     if [ $start_minutes -gt $end_minutes ]; then
130 |         # Overnight window
131 |         if [ $current_minutes -ge $start_minutes ] || [ $current_minutes -le $end_minutes ]; then
    |                                                                                         ^^^^^^^^^ E501
132 |             return 0
133 |         fi
    |

coffeebreak/infrastructure/maintenance.py:136:89: E501 Line too long (97 > 88)
    |
134 |     else
135 |         # Same day window
136 |         if [ $current_minutes -ge $start_minutes ] && [ $current_minutes -le $end_minutes ]; then
    |                                                                                         ^^^^^^^^^ E501
137 |             return 0
138 |         fi
    |

coffeebreak/infrastructure/maintenance.py:140:1: W293 Blank line contains whitespace
    |
138 |         fi
139 |     fi
140 |     
    | ^^^^ W293
141 |     return 1
142 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:147:1: W293 Blank line contains whitespace
    |
145 | perform_system_updates() {{
146 |     log_message "Starting system updates"
147 |     
    | ^^^^ W293
148 |     if ! is_maintenance_window; then
149 |         log_message "Not in maintenance window, skipping system updates"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:152:1: W293 Blank line contains whitespace
    |
150 |         return 0
151 |     fi
152 |     
    | ^^^^ W293
153 |     # Update package lists
154 |     if command -v apt-get &> /dev/null; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:157:1: W293 Blank line contains whitespace
    |
155 |         log_message "Updating apt package lists"
156 |         apt-get update -qq || log_message "WARNING: Failed to update package lists"
157 |         
    | ^^^^^^^^ W293
158 |         # Install security updates only
159 |         log_message "Installing security updates"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:161:89: E501 Line too long (103 > 88)
    |
159 |         log_message "Installing security updates"
160 |         DEBIAN_FRONTEND=noninteractive apt-get upgrade -y --only-upgrade \\
161 |             $(apt list --upgradable 2>/dev/null | grep -i security | cut -d'/' -f1) 2>/dev/null || true
    |                                                                                         ^^^^^^^^^^^^^^^ E501
162 |             
163 |     elif command -v yum &> /dev/null; then
    |

coffeebreak/infrastructure/maintenance.py:162:1: W293 Blank line contains whitespace
    |
160 |         DEBIAN_FRONTEND=noninteractive apt-get upgrade -y --only-upgrade \\
161 |             $(apt list --upgradable 2>/dev/null | grep -i security | cut -d'/' -f1) 2>/dev/null || true
162 |             
    | ^^^^^^^^^^^^ W293
163 |     elif command -v yum &> /dev/null; then
164 |         log_message "Installing system updates with yum"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:167:1: W293 Blank line contains whitespace
    |
165 |         yum update -y --security || log_message "WARNING: Failed to install updates"
166 |     fi
167 |     
    | ^^^^ W293
168 |     log_message "System updates completed"
169 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:174:1: W293 Blank line contains whitespace
    |
172 | cleanup_temp_files() {{
173 |     log_message "Starting temporary file cleanup"
174 |     
    | ^^^^ W293
175 |     # Clean /tmp files older than 7 days
176 |     find /tmp -type f -mtime +7 -delete 2>/dev/null || true
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:177:1: W293 Blank line contains whitespace
    |
175 |     # Clean /tmp files older than 7 days
176 |     find /tmp -type f -mtime +7 -delete 2>/dev/null || true
177 |     
    | ^^^^ W293
178 |     # Clean log files older than retention period
179 |     local log_retention_days={config.get("log_retention_days", 30)}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:181:1: W293 Blank line contains whitespace
    |
179 |     local log_retention_days={config.get("log_retention_days", 30)}
180 |     find /var/log -name "*.log" -mtime +$log_retention_days -delete 2>/dev/null || true
181 |     
    | ^^^^ W293
182 |     # Clean old deployment artifacts
183 |     if [ -d "/opt/coffeebreak/deployments" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:184:89: E501 Line too long (95 > 88)
    |
182 |     # Clean old deployment artifacts
183 |     if [ -d "/opt/coffeebreak/deployments" ]; then
184 |         find /opt/coffeebreak/deployments -name "*.json" -mtime +30 -delete 2>/dev/null || true
    |                                                                                         ^^^^^^^ E501
185 |     fi
    |

coffeebreak/infrastructure/maintenance.py:186:1: W293 Blank line contains whitespace
    |
184 |         find /opt/coffeebreak/deployments -name "*.json" -mtime +30 -delete 2>/dev/null || true
185 |     fi
186 |     
    | ^^^^ W293
187 |     # Clean Docker artifacts (if Docker is available)
188 |     if command -v docker &> /dev/null; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:193:1: W293 Blank line contains whitespace
    |
191 |         docker image prune -a -f || true
192 |     fi
193 |     
    | ^^^^ W293
194 |     log_message "Temporary file cleanup completed"
195 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:200:1: W293 Blank line contains whitespace
    |
198 | optimize_databases() {{
199 |     log_message "Starting database optimization"
200 |     
    | ^^^^ W293
201 |     if ! is_maintenance_window; then
202 |         log_message "Not in maintenance window, skipping database optimization"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:205:1: W293 Blank line contains whitespace
    |
203 |         return 0
204 |     fi
205 |     
    | ^^^^ W293
206 |     # PostgreSQL optimization
207 |     if systemctl is-active --quiet postgresql; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:209:1: W293 Blank line contains whitespace
    |
207 |     if systemctl is-active --quiet postgresql; then
208 |         log_message "Optimizing PostgreSQL databases"
209 |         
    | ^^^^^^^^ W293
210 |         # Get list of databases
211 |         local databases=$(sudo -u postgres psql -t -c "SELECT datname FROM pg_database WHERE NOT datistemplate AND datname != 'postgr…
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:211:89: E501 Line too long (162 > 88)
    |
210 | …
211 | …datname FROM pg_database WHERE NOT datistemplate AND datname != 'postgres';" 2>/dev/null || echo "")
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
212 | …
213 | …
    |

coffeebreak/infrastructure/maintenance.py:212:1: W293 Blank line contains whitespace
    |
210 | …     # Get list of databases
211 | …     local databases=$(sudo -u postgres psql -t -c "SELECT datname FROM pg_database WHERE NOT datistemplate AND datname != 'postgres…
212 | …     
    ^^^^^^^^ W293
213 | …     for db in $databases; do
214 | …         db=$(echo "$db" | xargs)  # Trim whitespace
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:217:89: E501 Line too long (120 > 88)
    |
215 |             if [ -n "$db" ]; then
216 |                 log_message "Analyzing database: $db"
217 |                 sudo -u postgres psql -d "$db" -c "ANALYZE;" 2>/dev/null || log_message "WARNING: Failed to analyze $db"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
218 |                 
219 |                 log_message "Vacuuming database: $db"
    |

coffeebreak/infrastructure/maintenance.py:218:1: W293 Blank line contains whitespace
    |
216 |                 log_message "Analyzing database: $db"
217 |                 sudo -u postgres psql -d "$db" -c "ANALYZE;" 2>/dev/null || log_message "WARNING: Failed to analyze $db"
218 |                 
    | ^^^^^^^^^^^^^^^^ W293
219 |                 log_message "Vacuuming database: $db"
220 |                 sudo -u postgres psql -d "$db" -c "VACUUM;" 2>/dev/null || log_message "WARNING: Failed to vacuum $db"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:220:89: E501 Line too long (118 > 88)
    |
219 |                 log_message "Vacuuming database: $db"
220 |                 sudo -u postgres psql -d "$db" -c "VACUUM;" 2>/dev/null || log_message "WARNING: Failed to vacuum $db"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
221 |             fi
222 |         done
    |

coffeebreak/infrastructure/maintenance.py:224:1: W293 Blank line contains whitespace
    |
222 |         done
223 |     fi
224 |     
    | ^^^^ W293
225 |     # MongoDB optimization
226 |     if systemctl is-active --quiet mongod; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:228:1: W293 Blank line contains whitespace
    |
226 |     if systemctl is-active --quiet mongod; then
227 |         log_message "Optimizing MongoDB databases"
228 |         
    | ^^^^^^^^ W293
229 |         # Compact collections and reindex
230 |         mongo --eval "
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:239:1: W293 Blank line contains whitespace
    |
237 |         " 2>/dev/null || log_message "WARNING: Failed to optimize MongoDB"
238 |     fi
239 |     
    | ^^^^ W293
240 |     log_message "Database optimization completed"
241 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:246:1: W293 Blank line contains whitespace
    |
244 | rotate_logs() {{
245 |     log_message "Starting log rotation"
246 |     
    | ^^^^ W293
247 |     # Force logrotate to run
248 |     /usr/sbin/logrotate -f /etc/logrotate.conf 2>/dev/null || true
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:249:1: W293 Blank line contains whitespace
    |
247 |     # Force logrotate to run
248 |     /usr/sbin/logrotate -f /etc/logrotate.conf 2>/dev/null || true
249 |     
    | ^^^^ W293
250 |     # Rotate CoffeeBreak specific logs
251 |     if [ -d "/var/log/coffeebreak" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:252:89: E501 Line too long (99 > 88)
    |
250 |     # Rotate CoffeeBreak specific logs
251 |     if [ -d "/var/log/coffeebreak" ]; then
252 |         find /var/log/coffeebreak -name "*.log" -size +100M -exec gzip {{}} \\; 2>/dev/null || true
    |                                                                                         ^^^^^^^^^^^ E501
253 |     fi
    |

coffeebreak/infrastructure/maintenance.py:254:1: W293 Blank line contains whitespace
    |
252 |         find /var/log/coffeebreak -name "*.log" -size +100M -exec gzip {{}} \\; 2>/dev/null || true
253 |     fi
254 |     
    | ^^^^ W293
255 |     log_message "Log rotation completed"
256 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:261:1: W293 Blank line contains whitespace
    |
259 | update_ssl_certificates() {{
260 |     log_message "Checking SSL certificates"
261 |     
    | ^^^^ W293
262 |     # Check certificate expiry
263 |     local expiry_days=$(echo | openssl s_client -servername "$DOMAIN" -connect "$DOMAIN:443" 2>/dev/null | \\
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:263:89: E501 Line too long (109 > 88)
    |
262 |     # Check certificate expiry
263 |     local expiry_days=$(echo | openssl s_client -servername "$DOMAIN" -connect "$DOMAIN:443" 2>/dev/null | \\
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^ E501
264 |                        openssl x509 -noout -dates | grep notAfter | cut -d= -f2 | \\
265 |                        xargs -I{{}} date -d{{}} +%s)
    |

coffeebreak/infrastructure/maintenance.py:266:1: W293 Blank line contains whitespace
    |
264 |                        openssl x509 -noout -dates | grep notAfter | cut -d= -f2 | \\
265 |                        xargs -I{{}} date -d{{}} +%s)
266 |     
    | ^^^^ W293
267 |     if [ -n "$expiry_days" ]; then
268 |         local current_time=$(date +%s)
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:270:1: W293 Blank line contains whitespace
    |
268 |         local current_time=$(date +%s)
269 |         local days_left=$(( (expiry_days - current_time) / 86400 ))
270 |         
    | ^^^^^^^^ W293
271 |         log_message "SSL certificate expires in $days_left days"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:272:1: W293 Blank line contains whitespace
    |
271 |         log_message "SSL certificate expires in $days_left days"
272 |         
    | ^^^^^^^^ W293
273 |         # Renew if expires in less than 30 days
274 |         if [ "$days_left" -lt 30 ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:276:1: W293 Blank line contains whitespace
    |
274 |         if [ "$days_left" -lt 30 ]; then
275 |             log_message "Renewing SSL certificate"
276 |             
    | ^^^^^^^^^^^^ W293
277 |             if command -v certbot &> /dev/null; then
278 |                 certbot renew --quiet || log_message "WARNING: Failed to renew SSL certificate"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:278:89: E501 Line too long (95 > 88)
    |
277 |             if command -v certbot &> /dev/null; then
278 |                 certbot renew --quiet || log_message "WARNING: Failed to renew SSL certificate"
    |                                                                                         ^^^^^^^ E501
279 |                 
280 |                 # Reload nginx if certificate was renewed
    |

coffeebreak/infrastructure/maintenance.py:279:1: W293 Blank line contains whitespace
    |
277 |             if command -v certbot &> /dev/null; then
278 |                 certbot renew --quiet || log_message "WARNING: Failed to renew SSL certificate"
279 |                 
    | ^^^^^^^^^^^^^^^^ W293
280 |                 # Reload nginx if certificate was renewed
281 |                 if systemctl is-active --quiet nginx; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:282:89: E501 Line too long (91 > 88)
    |
280 |                 # Reload nginx if certificate was renewed
281 |                 if systemctl is-active --quiet nginx; then
282 |                     systemctl reload nginx || log_message "WARNING: Failed to reload nginx"
    |                                                                                         ^^^ E501
283 |                 fi
284 |             fi
    |

coffeebreak/infrastructure/maintenance.py:292:1: W293 Blank line contains whitespace
    |
290 | perform_health_checks() {{
291 |     log_message "Performing health checks"
292 |     
    | ^^^^ W293
293 |     # Check service status
294 |     local services=("nginx" "postgresql" "mongod" "coffeebreak-api" "coffeebreak-frontend" "coffeebreak-events")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:294:89: E501 Line too long (112 > 88)
    |
293 |     # Check service status
294 |     local services=("nginx" "postgresql" "mongod" "coffeebreak-api" "coffeebreak-frontend" "coffeebreak-events")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^ E501
295 |     local failed_services=()
    |

coffeebreak/infrastructure/maintenance.py:296:1: W293 Blank line contains whitespace
    |
294 |     local services=("nginx" "postgresql" "mongod" "coffeebreak-api" "coffeebreak-frontend" "coffeebreak-events")
295 |     local failed_services=()
296 |     
    | ^^^^ W293
297 |     for service in "${{services[@]}}"; do
298 |         if ! systemctl is-active --quiet "$service"; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:302:1: W293 Blank line contains whitespace
    |
300 |         fi
301 |     done
302 |     
    | ^^^^ W293
303 |     if [ ${{#failed_services[@]}} -gt 0 ]; then
304 |         send_alert "Service Health Check Failed" "The following services are not running: ${{failed_services[*]}}"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:304:89: E501 Line too long (114 > 88)
    |
303 |     if [ ${{#failed_services[@]}} -gt 0 ]; then
304 |         send_alert "Service Health Check Failed" "The following services are not running: ${{failed_services[*]}}"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
305 |     fi
    |

coffeebreak/infrastructure/maintenance.py:306:1: W293 Blank line contains whitespace
    |
304 |         send_alert "Service Health Check Failed" "The following services are not running: ${{failed_services[*]}}"
305 |     fi
306 |     
    | ^^^^ W293
307 |     # Check application health
308 |     if ! curl -s --max-time 10 "https://$DOMAIN/health" > /dev/null; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:309:89: E501 Line too long (100 > 88)
    |
307 |     # Check application health
308 |     if ! curl -s --max-time 10 "https://$DOMAIN/health" > /dev/null; then
309 |         send_alert "Application Health Check Failed" "Application health endpoint is not responding"
    |                                                                                         ^^^^^^^^^^^^ E501
310 |     fi
    |

coffeebreak/infrastructure/maintenance.py:311:1: W293 Blank line contains whitespace
    |
309 |         send_alert "Application Health Check Failed" "Application health endpoint is not responding"
310 |     fi
311 |     
    | ^^^^ W293
312 |     # Check disk space
313 |     local disk_usage=$(df / | awk 'NR==2 {{print $5}}' | sed 's/%//')
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:317:1: W293 Blank line contains whitespace
    |
315 |         send_alert "High Disk Usage" "Disk usage is at $disk_usage%"
316 |     fi
317 |     
    | ^^^^ W293
318 |     log_message "Health checks completed"
319 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:324:1: W293 Blank line contains whitespace
    |
322 | backup_critical_data() {{
323 |     log_message "Starting critical data backup"
324 |     
    | ^^^^ W293
325 |     # Perform incremental backup
326 |     if [ -f "/opt/coffeebreak/bin/backup.sh" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:327:89: E501 Line too long (90 > 88)
    |
325 |     # Perform incremental backup
326 |     if [ -f "/opt/coffeebreak/bin/backup.sh" ]; then
327 |         /opt/coffeebreak/bin/backup.sh incremental || log_message "WARNING: Backup failed"
    |                                                                                         ^^ E501
328 |     fi
    |

coffeebreak/infrastructure/maintenance.py:329:1: W293 Blank line contains whitespace
    |
327 |         /opt/coffeebreak/bin/backup.sh incremental || log_message "WARNING: Backup failed"
328 |     fi
329 |     
    | ^^^^ W293
330 |     log_message "Critical data backup completed"
331 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:336:1: W293 Blank line contains whitespace
    |
334 | update_dependencies() {{
335 |     log_message "Checking for dependency updates"
336 |     
    | ^^^^ W293
337 |     if ! is_maintenance_window; then
338 |         log_message "Not in maintenance window, skipping dependency updates"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:341:1: W293 Blank line contains whitespace
    |
339 |         return 0
340 |     fi
341 |     
    | ^^^^ W293
342 |     # Update Node.js dependencies (if package.json exists)
343 |     if [ -f "/opt/coffeebreak/package.json" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:346:89: E501 Line too long (109 > 88)
    |
344 |         log_message "Updating Node.js dependencies"
345 |         cd /opt/coffeebreak
346 |         npm audit fix --only=prod 2>/dev/null || log_message "WARNING: Failed to update Node.js dependencies"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^ E501
347 |     fi
    |

coffeebreak/infrastructure/maintenance.py:348:1: W293 Blank line contains whitespace
    |
346 |         npm audit fix --only=prod 2>/dev/null || log_message "WARNING: Failed to update Node.js dependencies"
347 |     fi
348 |     
    | ^^^^ W293
349 |     # Update Python dependencies (if requirements.txt exists)
350 |     if [ -f "/opt/coffeebreak/requirements.txt" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:353:89: E501 Line too long (124 > 88)
    |
351 |         log_message "Updating Python dependencies"
352 |         cd /opt/coffeebreak
353 |         pip install --upgrade -r requirements.txt 2>/dev/null || log_message "WARNING: Failed to update Python dependencies"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
354 |     fi
    |

coffeebreak/infrastructure/maintenance.py:355:1: W293 Blank line contains whitespace
    |
353 |         pip install --upgrade -r requirements.txt 2>/dev/null || log_message "WARNING: Failed to update Python dependencies"
354 |     fi
355 |     
    | ^^^^ W293
356 |     log_message "Dependency updates completed"
357 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:362:1: W293 Blank line contains whitespace
    |
360 | generate_maintenance_report() {{
361 |     local report_file="/var/log/coffeebreak/maintenance-report-$(date +%Y%m%d).log"
362 |     
    | ^^^^ W293
363 |     {{
364 |         echo "CoffeeBreak Maintenance Report"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:369:1: W293 Blank line contains whitespace
    |
367 |         echo "Domain: $DOMAIN"
368 |         echo
369 |         
    | ^^^^^^^^ W293
370 |         echo "System Information:"
371 |         echo "- Uptime: $(uptime)"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:376:1: W293 Blank line contains whitespace
    |
374 |         echo "- Memory Usage: $(free -h | awk 'NR==2{{printf \"%s/%s\", $3,$2}}')"
375 |         echo
376 |         
    | ^^^^^^^^ W293
377 |         echo "Service Status:"
378 |         local services=("nginx" "postgresql" "mongod" "coffeebreak-api" "coffeebreak-frontend" "coffeebreak-events")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:378:89: E501 Line too long (116 > 88)
    |
377 |         echo "Service Status:"
378 |         local services=("nginx" "postgresql" "mongod" "coffeebreak-api" "coffeebreak-frontend" "coffeebreak-events")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
379 |         for service in "${{services[@]}}"; do
380 |             if systemctl is-active --quiet "$service"; then
    |

coffeebreak/infrastructure/maintenance.py:387:1: W293 Blank line contains whitespace
    |
385 |         done
386 |         echo
387 |         
    | ^^^^^^^^ W293
388 |         echo "Recent Maintenance Activities:"
389 |         tail -20 "$LOG_FILE" | grep "$(date +%Y-%m-%d)" || echo "No activities today"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:390:1: W293 Blank line contains whitespace
    |
388 |         echo "Recent Maintenance Activities:"
389 |         tail -20 "$LOG_FILE" | grep "$(date +%Y-%m-%d)" || echo "No activities today"
390 |         
    | ^^^^^^^^ W293
391 |     }} > "$report_file"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:392:1: W293 Blank line contains whitespace
    |
391 |     }} > "$report_file"
392 |     
    | ^^^^ W293
393 |     log_message "Maintenance report generated: $report_file"
394 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:399:1: W293 Blank line contains whitespace
    |
397 | perform_daily_maintenance() {{
398 |     log_message "Starting daily maintenance tasks"
399 |     
    | ^^^^ W293
400 |     cleanup_temp_files
401 |     rotate_logs
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:404:1: W293 Blank line contains whitespace
    |
402 |     perform_health_checks
403 |     backup_critical_data
404 |     
    | ^^^^ W293
405 |     log_message "Daily maintenance tasks completed"
406 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:410:1: W293 Blank line contains whitespace
    |
408 | perform_weekly_maintenance() {{
409 |     log_message "Starting weekly maintenance tasks"
410 |     
    | ^^^^ W293
411 |     perform_daily_maintenance
412 |     optimize_databases
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:414:1: W293 Blank line contains whitespace
    |
412 |     optimize_databases
413 |     update_ssl_certificates
414 |     
    | ^^^^ W293
415 |     log_message "Weekly maintenance tasks completed"
416 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:420:1: W293 Blank line contains whitespace
    |
418 | perform_monthly_maintenance() {{
419 |     log_message "Starting monthly maintenance tasks"
420 |     
    | ^^^^ W293
421 |     perform_weekly_maintenance
422 |     perform_system_updates
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:425:1: W293 Blank line contains whitespace
    |
423 |     update_dependencies
424 |     generate_maintenance_report
425 |     
    | ^^^^ W293
426 |     log_message "Monthly maintenance tasks completed"
427 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:432:1: W293 Blank line contains whitespace
    |
430 | perform_emergency_maintenance() {{
431 |     log_message "Starting emergency maintenance"
432 |     
    | ^^^^ W293
433 |     # Stop non-essential services temporarily
434 |     systemctl stop coffeebreak-events || true
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:435:1: W293 Blank line contains whitespace
    |
433 |     # Stop non-essential services temporarily
434 |     systemctl stop coffeebreak-events || true
435 |     
    | ^^^^ W293
436 |     # Clear caches
437 |     if [ -d "/opt/coffeebreak/cache" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:440:1: W293 Blank line contains whitespace
    |
438 |         rm -rf /opt/coffeebreak/cache/*
439 |     fi
440 |     
    | ^^^^ W293
441 |     # Restart essential services
442 |     systemctl restart nginx
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:446:1: W293 Blank line contains whitespace
    |
444 |     systemctl restart coffeebreak-frontend
445 |     systemctl start coffeebreak-events
446 |     
    | ^^^^ W293
447 |     # Verify health
448 |     sleep 10
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:451:89: E501 Line too long (110 > 88)
    |
449 |     if curl -s --max-time 10 "https://$DOMAIN/health" > /dev/null; then
450 |         log_message "Emergency maintenance completed successfully"
451 |         send_alert "Emergency Maintenance Completed" "Emergency maintenance procedures completed successfully"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^ E501
452 |     else
453 |         log_message "Emergency maintenance failed - manual intervention required"
    |

coffeebreak/infrastructure/maintenance.py:454:89: E501 Line too long (111 > 88)
    |
452 |     else
453 |         log_message "Emergency maintenance failed - manual intervention required"
454 |         send_alert "Emergency Maintenance Failed" "Emergency maintenance failed - manual intervention required"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^ E501
455 |     fi
456 | }}
    |

coffeebreak/infrastructure/maintenance.py:461:1: W293 Blank line contains whitespace
    |
459 | main() {{
460 |     local maintenance_type="${{1:-daily}}"
461 |     
    | ^^^^ W293
462 |     log_message "Maintenance task started: $maintenance_type"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:463:1: W293 Blank line contains whitespace
    |
462 |     log_message "Maintenance task started: $maintenance_type"
463 |     
    | ^^^^ W293
464 |     case "$maintenance_type" in
465 |         "daily")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:497:89: E501 Line too long (103 > 88)
    |
495 |             ;;
496 |         *)
497 |             echo "Usage: $0 {{daily|weekly|monthly|emergency|update|cleanup|health|backup|ssl|report}}"
    |                                                                                         ^^^^^^^^^^^^^^^ E501
498 |             exit 1
499 |             ;;
    |

coffeebreak/infrastructure/maintenance.py:501:1: W293 Blank line contains whitespace
    |
499 |             ;;
500 |     esac
501 |     
    | ^^^^ W293
502 |     log_message "Maintenance task completed: $maintenance_type"
503 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:530:89: E501 Line too long (99 > 88)
    |
528 |                 "# CoffeeBreak maintenance tasks",
529 |                 "0 3 * * * /opt/coffeebreak/bin/maintenance.sh daily",  # Daily at 3 AM
530 |                 "0 4 * * 0 /opt/coffeebreak/bin/maintenance.sh weekly",  # Weekly on Sunday at 4 AM
    |                                                                                         ^^^^^^^^^^^ E501
531 |                 "0 5 1 * * /opt/coffeebreak/bin/maintenance.sh monthly",  # Monthly on 1st at 5 AM
532 |                 "*/30 * * * * /opt/coffeebreak/bin/maintenance.sh health",  # Health checks every 30 minutes
    |

coffeebreak/infrastructure/maintenance.py:531:89: E501 Line too long (98 > 88)
    |
529 |                 "0 3 * * * /opt/coffeebreak/bin/maintenance.sh daily",  # Daily at 3 AM
530 |                 "0 4 * * 0 /opt/coffeebreak/bin/maintenance.sh weekly",  # Weekly on Sunday at 4 AM
531 |                 "0 5 1 * * /opt/coffeebreak/bin/maintenance.sh monthly",  # Monthly on 1st at 5 AM
    |                                                                                         ^^^^^^^^^^ E501
532 |                 "*/30 * * * * /opt/coffeebreak/bin/maintenance.sh health",  # Health checks every 30 minutes
533 |             ]
    |

coffeebreak/infrastructure/maintenance.py:532:89: E501 Line too long (108 > 88)
    |
530 |                 "0 4 * * 0 /opt/coffeebreak/bin/maintenance.sh weekly",  # Weekly on Sunday at 4 AM
531 |                 "0 5 1 * * /opt/coffeebreak/bin/maintenance.sh monthly",  # Monthly on 1st at 5 AM
532 |                 "*/30 * * * * /opt/coffeebreak/bin/maintenance.sh health",  # Health checks every 30 minutes
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^ E501
533 |             ]
    |

coffeebreak/infrastructure/maintenance.py:543:13: E722 Do not use bare `except`
    |
541 |                     current_crontab.stdout if current_crontab.returncode == 0 else ""
542 |                 )
543 |             except:
    |             ^^^^^^ E722
544 |                 crontab_content = ""
    |

coffeebreak/infrastructure/maintenance.py:637:1: W293 Blank line contains whitespace
    |
635 |     local current_time=$(date +%H:%M)
636 |     local current_day=$(date +%u)  # 1=Monday, 7=Sunday
637 |     
    | ^^^^ W293
638 |     if [ ! -f "$CONFIG_FILE" ]; then
639 |         echo "false"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:642:1: W293 Blank line contains whitespace
    |
640 |         return 1
641 |     fi
642 |     
    | ^^^^ W293
643 |     # Check if operation is allowed in any current maintenance window
644 |     local allowed=$(jq -r --arg time "$current_time" --arg day "$current_day" --arg op "$operation_type" '
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:644:89: E501 Line too long (106 > 88)
    |
643 |     # Check if operation is allowed in any current maintenance window
644 |     local allowed=$(jq -r --arg time "$current_time" --arg day "$current_day" --arg op "$operation_type" '
    |                                                                                         ^^^^^^^^^^^^^^^^^^ E501
645 |         .maintenance_windows[] | 
646 |         select(
    |

coffeebreak/infrastructure/maintenance.py:645:33: W291 Trailing whitespace
    |
643 |     # Check if operation is allowed in any current maintenance window
644 |     local allowed=$(jq -r --arg time "$current_time" --arg day "$current_day" --arg op "$operation_type" '
645 |         .maintenance_windows[] | 
    |                                 ^ W291
646 |         select(
647 |             (.days[] | tostring) == $day and
    |
    = help: Remove trailing whitespace

coffeebreak/infrastructure/maintenance.py:651:89: E501 Line too long (90 > 88)
    |
649 |             (
650 |                 ($time >= .start_time and $time <= .end_time) or
651 |                 (.start_time > .end_time and ($time >= .start_time or $time <= .end_time))
    |                                                                                         ^^ E501
652 |             )
653 |         ) | 
    |

coffeebreak/infrastructure/maintenance.py:653:12: W291 Trailing whitespace
    |
651 |                 (.start_time > .end_time and ($time >= .start_time or $time <= .end_time))
652 |             )
653 |         ) | 
    |            ^ W291
654 |         .name
655 |     ' "$CONFIG_FILE" | head -1)
    |
    = help: Remove trailing whitespace

coffeebreak/infrastructure/maintenance.py:656:1: W293 Blank line contains whitespace
    |
654 |         .name
655 |     ' "$CONFIG_FILE" | head -1)
656 |     
    | ^^^^ W293
657 |     if [ -n "$allowed" ] && [ "$allowed" != "null" ]; then
658 |         echo "true"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:669:1: W293 Blank line contains whitespace
    |
667 | get_next_maintenance_window() {{
668 |     local operation_type="${{1:-general}}"
669 |     
    | ^^^^ W293
670 |     if [ ! -f "$CONFIG_FILE" ]; then
671 |         echo "No maintenance window configuration found"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:674:1: W293 Blank line contains whitespace
    |
672 |         return 1
673 |     fi
674 |     
    | ^^^^ W293
675 |     echo "Next maintenance windows for '$operation_type' operations:"
676 |     jq -r --arg op "$operation_type" '
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/maintenance.py:677:33: W291 Trailing whitespace
    |
675 |     echo "Next maintenance windows for '$operation_type' operations:"
676 |     jq -r --arg op "$operation_type" '
677 |         .maintenance_windows[] | 
    |                                 ^ W291
678 |         select(.allowed_operations[] | contains($op) or $op == "general") |
679 |         "\\(.name): \\(.start_time)-\\(.end_time) on days \\(.days | join(\",\\"))"
    |
    = help: Remove trailing whitespace

coffeebreak/infrastructure/maintenance.py:687:1: W293 Blank line contains whitespace
    |
685 |     local action="${{1:-check}}"
686 |     local operation_type="$2"
687 |     
    | ^^^^ W293
688 |     case "$action" in
689 |         "check")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Infrastructure management and automation system."""
 2 |
 3 | / import os
 4 | | import subprocess
 5 | | import time
 6 | | from datetime import datetime
 7 | | from pathlib import Path
 8 | | from typing import Dict, Any, List, Optional
 9 | | import yaml
10 | | import json
11 | |
12 | | from ..utils.errors import ConfigurationError
13 | | from .deployment import DeploymentOrchestrator
14 | | from .scaling import AutoScaler
15 | | from .maintenance import MaintenanceManager
   | |___________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/infrastructure/manager.py:5:8: F401 [*] `time` imported but unused
  |
3 | import os
4 | import subprocess
5 | import time
  |        ^^^^ F401
6 | from datetime import datetime
7 | from pathlib import Path
  |
  = help: Remove unused import: `time`

coffeebreak/infrastructure/manager.py:6:22: F401 [*] `datetime.datetime` imported but unused
  |
4 | import subprocess
5 | import time
6 | from datetime import datetime
  |                      ^^^^^^^^ F401
7 | from pathlib import Path
8 | from typing import Dict, Any, List, Optional
  |
  = help: Remove unused import: `datetime.datetime`

coffeebreak/infrastructure/manager.py:7:21: F401 [*] `pathlib.Path` imported but unused
  |
5 | import time
6 | from datetime import datetime
7 | from pathlib import Path
  |                     ^^^^ F401
8 | from typing import Dict, Any, List, Optional
9 | import yaml
  |
  = help: Remove unused import: `pathlib.Path`

coffeebreak/infrastructure/manager.py:8:31: F401 [*] `typing.List` imported but unused
   |
 6 | from datetime import datetime
 7 | from pathlib import Path
 8 | from typing import Dict, Any, List, Optional
   |                               ^^^^ F401
 9 | import yaml
10 | import json
   |
   = help: Remove unused import: `typing.List`

coffeebreak/infrastructure/manager.py:9:8: F401 [*] `yaml` imported but unused
   |
 7 | from pathlib import Path
 8 | from typing import Dict, Any, List, Optional
 9 | import yaml
   |        ^^^^ F401
10 | import json
   |
   = help: Remove unused import: `yaml`

coffeebreak/infrastructure/manager.py:10:8: F401 [*] `json` imported but unused
   |
 8 | from typing import Dict, Any, List, Optional
 9 | import yaml
10 | import json
   |        ^^^^ F401
11 |
12 | from ..utils.errors import ConfigurationError
   |
   = help: Remove unused import: `json`

coffeebreak/infrastructure/manager.py:12:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
10 | import json
11 |
12 | from ..utils.errors import ConfigurationError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
13 | from .deployment import DeploymentOrchestrator
14 | from .scaling import AutoScaler
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/infrastructure/manager.py:150:89: E501 Line too long (94 > 88)
    |
148 |                 if setup_result["success"]:
149 |                     print(
150 |                         f"Infrastructure automation setup completed successfully for {domain}"
    |                                                                                         ^^^^^^ E501
151 |                     )
152 |                     print(f"Components: {', '.join(setup_result['components_setup'])}")
    |

coffeebreak/infrastructure/manager.py:155:89: E501 Line too long (110 > 88)
    |
153 |                 else:
154 |                     print(
155 |                         f"Infrastructure automation setup completed with {len(setup_result['errors'])} errors"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^ E501
156 |                     )
    |

coffeebreak/infrastructure/manager.py:161:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
160 |         except Exception as e:
161 |             raise ConfigurationError(f"Failed to setup infrastructure automation: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
162 |
163 |     def _setup_infrastructure_monitoring(
    |

coffeebreak/infrastructure/manager.py:197:1: W293 Blank line contains whitespace
    |
195 |     local subject="$1"
196 |     local message="$2"
197 |     
    | ^^^^ W293
198 |     log_message "ALERT: $subject"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:199:1: W293 Blank line contains whitespace
    |
198 |     log_message "ALERT: $subject"
199 |     
    | ^^^^ W293
200 |     if command -v mail &> /dev/null && [ -n "$ALERT_EMAIL" ]; then
201 |         echo "$message" | mail -s "CoffeeBreak Infrastructure Alert: $subject" "$ALERT_EMAIL"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:201:89: E501 Line too long (93 > 88)
    |
200 |     if command -v mail &> /dev/null && [ -n "$ALERT_EMAIL" ]; then
201 |         echo "$message" | mail -s "CoffeeBreak Infrastructure Alert: $subject" "$ALERT_EMAIL"
    |                                                                                         ^^^^^ E501
202 |     fi
    |

coffeebreak/infrastructure/manager.py:203:1: W293 Blank line contains whitespace
    |
201 |         echo "$message" | mail -s "CoffeeBreak Infrastructure Alert: $subject" "$ALERT_EMAIL"
202 |     fi
203 |     
    | ^^^^ W293
204 |     if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
205 |         /opt/coffeebreak/bin/notify.sh "$subject" "$message"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:207:1: W293 Blank line contains whitespace
    |
205 |         /opt/coffeebreak/bin/notify.sh "$subject" "$message"
206 |     fi
207 |     
    | ^^^^ W293
208 |     logger -t coffeebreak-infrastructure "ALERT: $subject - $message"
209 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:214:1: W293 Blank line contains whitespace
    |
212 | check_resource_usage() {{
213 |     log_message "Checking system resource usage"
214 |     
    | ^^^^ W293
215 |     # Check CPU usage
216 |     local cpu_usage=$(top -bn1 | grep "Cpu(s)" | awk '{{print $2}}' | sed 's/%us,//' | cut -d'%' -f1)
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:216:89: E501 Line too long (101 > 88)
    |
215 |     # Check CPU usage
216 |     local cpu_usage=$(top -bn1 | grep "Cpu(s)" | awk '{{print $2}}' | sed 's/%us,//' | cut -d'%' -f1)
    |                                                                                         ^^^^^^^^^^^^^ E501
217 |     cpu_usage=${{cpu_usage%.*}}  # Remove decimals
    |

coffeebreak/infrastructure/manager.py:218:1: W293 Blank line contains whitespace
    |
216 |     local cpu_usage=$(top -bn1 | grep "Cpu(s)" | awk '{{print $2}}' | sed 's/%us,//' | cut -d'%' -f1)
217 |     cpu_usage=${{cpu_usage%.*}}  # Remove decimals
218 |     
    | ^^^^ W293
219 |     if [ "$cpu_usage" -gt "$CPU_THRESHOLD" ]; then
220 |         send_alert "High CPU Usage" "CPU usage is $cpu_usage% (threshold: $CPU_THRESHOLD%)"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:220:89: E501 Line too long (91 > 88)
    |
219 |     if [ "$cpu_usage" -gt "$CPU_THRESHOLD" ]; then
220 |         send_alert "High CPU Usage" "CPU usage is $cpu_usage% (threshold: $CPU_THRESHOLD%)"
    |                                                                                         ^^^ E501
221 |     fi
    |

coffeebreak/infrastructure/manager.py:222:1: W293 Blank line contains whitespace
    |
220 |         send_alert "High CPU Usage" "CPU usage is $cpu_usage% (threshold: $CPU_THRESHOLD%)"
221 |     fi
222 |     
    | ^^^^ W293
223 |     # Check memory usage
224 |     local memory_usage=$(free | awk 'NR==2{{printf "%.0f", $3*100/$2 }}')
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:225:1: W293 Blank line contains whitespace
    |
223 |     # Check memory usage
224 |     local memory_usage=$(free | awk 'NR==2{{printf "%.0f", $3*100/$2 }}')
225 |     
    | ^^^^ W293
226 |     if [ "$memory_usage" -gt "$MEMORY_THRESHOLD" ]; then
227 |         send_alert "High Memory Usage" "Memory usage is $memory_usage% (threshold: $MEMORY_THRESHOLD%)"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:227:89: E501 Line too long (103 > 88)
    |
226 |     if [ "$memory_usage" -gt "$MEMORY_THRESHOLD" ]; then
227 |         send_alert "High Memory Usage" "Memory usage is $memory_usage% (threshold: $MEMORY_THRESHOLD%)"
    |                                                                                         ^^^^^^^^^^^^^^^ E501
228 |     fi
    |

coffeebreak/infrastructure/manager.py:229:1: W293 Blank line contains whitespace
    |
227 |         send_alert "High Memory Usage" "Memory usage is $memory_usage% (threshold: $MEMORY_THRESHOLD%)"
228 |     fi
229 |     
    | ^^^^ W293
230 |     log_message "Resource usage: CPU $cpu_usage%, Memory $memory_usage%"
231 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:236:1: W293 Blank line contains whitespace
    |
234 | check_service_health() {{
235 |     log_message "Checking CoffeeBreak service health"
236 |     
    | ^^^^ W293
237 |     local services=("coffeebreak-api" "coffeebreak-frontend" "coffeebreak-events")
238 |     local failed_services=()
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:239:1: W293 Blank line contains whitespace
    |
237 |     local services=("coffeebreak-api" "coffeebreak-frontend" "coffeebreak-events")
238 |     local failed_services=()
239 |     
    | ^^^^ W293
240 |     for service in "${{services[@]}}"; do
241 |         if ! systemctl is-active --quiet "$service"; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:246:1: W293 Blank line contains whitespace
    |
244 |         fi
245 |     done
246 |     
    | ^^^^ W293
247 |     if [ ${{#failed_services[@]}} -gt 0 ]; then
248 |         send_alert "Service Health Check Failed" "The following services are not running: ${{failed_services[*]}}"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:248:89: E501 Line too long (114 > 88)
    |
247 |     if [ ${{#failed_services[@]}} -gt 0 ]; then
248 |         send_alert "Service Health Check Failed" "The following services are not running: ${{failed_services[*]}}"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
249 |         
250 |         # Attempt automatic restart
    |

coffeebreak/infrastructure/manager.py:249:1: W293 Blank line contains whitespace
    |
247 |     if [ ${{#failed_services[@]}} -gt 0 ]; then
248 |         send_alert "Service Health Check Failed" "The following services are not running: ${{failed_services[*]}}"
249 |         
    | ^^^^^^^^ W293
250 |         # Attempt automatic restart
251 |         if [ "{config.get("auto_restart_services", True)}" = "True" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:254:89: E501 Line too long (124 > 88)
    |
252 |             log_message "Attempting automatic service restart"
253 |             for service in "${{failed_services[@]}}"; do
254 |                 systemctl restart "$service" && log_message "Restarted $service" || log_message "Failed to restart $service"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
255 |             done
256 |         fi
    |

coffeebreak/infrastructure/manager.py:265:1: W293 Blank line contains whitespace
    |
263 | check_application_health() {{
264 |     log_message "Checking application health endpoint"
265 |     
    | ^^^^ W293
266 |     local health_url="https://$DOMAIN/health"
267 |     local response_code=$(curl -s -o /dev/null -w "%{{http_code}}" --max-time 10 "$health_url" || echo "000")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:267:89: E501 Line too long (109 > 88)
    |
266 |     local health_url="https://$DOMAIN/health"
267 |     local response_code=$(curl -s -o /dev/null -w "%{{http_code}}" --max-time 10 "$health_url" || echo "000")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^ E501
268 |     
269 |     if [ "$response_code" != "200" ]; then
    |

coffeebreak/infrastructure/manager.py:268:1: W293 Blank line contains whitespace
    |
266 |     local health_url="https://$DOMAIN/health"
267 |     local response_code=$(curl -s -o /dev/null -w "%{{http_code}}" --max-time 10 "$health_url" || echo "000")
268 |     
    | ^^^^ W293
269 |     if [ "$response_code" != "200" ]; then
270 |         send_alert "Application Health Check Failed" "Health endpoint returned HTTP $response_code"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:270:89: E501 Line too long (99 > 88)
    |
269 |     if [ "$response_code" != "200" ]; then
270 |         send_alert "Application Health Check Failed" "Health endpoint returned HTTP $response_code"
    |                                                                                         ^^^^^^^^^^^ E501
271 |     else
272 |         log_message "✓ Application health check passed"
    |

coffeebreak/infrastructure/manager.py:279:1: W293 Blank line contains whitespace
    |
277 | check_database_connectivity() {{
278 |     log_message "Checking database connectivity"
279 |     
    | ^^^^ W293
280 |     # Check PostgreSQL
281 |     if systemctl is-active --quiet postgresql; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:285:89: E501 Line too long (93 > 88)
    |
283 |             log_message "✓ PostgreSQL connectivity OK"
284 |         else
285 |             send_alert "PostgreSQL Connection Failed" "Cannot connect to PostgreSQL database"
    |                                                                                         ^^^^^ E501
286 |         fi
287 |     fi
    |

coffeebreak/infrastructure/manager.py:288:1: W293 Blank line contains whitespace
    |
286 |         fi
287 |     fi
288 |     
    | ^^^^ W293
289 |     # Check MongoDB
290 |     if systemctl is-active --quiet mongod; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:302:1: W293 Blank line contains whitespace
    |
300 | check_load_balancer() {{
301 |     log_message "Checking load balancer health"
302 |     
    | ^^^^ W293
303 |     if systemctl is-active --quiet nginx; then
304 |         if nginx -t > /dev/null 2>&1; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:317:1: W293 Blank line contains whitespace
    |
315 | check_ssl_certificates() {{
316 |     log_message "Checking SSL certificate status"
317 |     
    | ^^^^ W293
318 |     local expiry_days=$(echo | openssl s_client -servername "$DOMAIN" -connect "$DOMAIN:443" 2>/dev/null | \\
319 |                        openssl x509 -noout -dates | grep notAfter | cut -d= -f2 | \\
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:318:89: E501 Line too long (109 > 88)
    |
316 |     log_message "Checking SSL certificate status"
317 |     
318 |     local expiry_days=$(echo | openssl s_client -servername "$DOMAIN" -connect "$DOMAIN:443" 2>/dev/null | \\
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^ E501
319 |                        openssl x509 -noout -dates | grep notAfter | cut -d= -f2 | \\
320 |                        xargs -I{{}} date -d{{}} +%s)
    |

coffeebreak/infrastructure/manager.py:321:1: W293 Blank line contains whitespace
    |
319 |                        openssl x509 -noout -dates | grep notAfter | cut -d= -f2 | \\
320 |                        xargs -I{{}} date -d{{}} +%s)
321 |     
    | ^^^^ W293
322 |     if [ -n "$expiry_days" ]; then
323 |         local current_time=$(date +%s)
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:325:1: W293 Blank line contains whitespace
    |
323 |         local current_time=$(date +%s)
324 |         local days_left=$(( (expiry_days - current_time) / 86400 ))
325 |         
    | ^^^^^^^^ W293
326 |         if [ "$days_left" -lt 7 ]; then
327 |             send_alert "SSL Certificate Expiring Soon" "SSL certificate expires in $days_left days"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:327:89: E501 Line too long (99 > 88)
    |
326 |         if [ "$days_left" -lt 7 ]; then
327 |             send_alert "SSL Certificate Expiring Soon" "SSL certificate expires in $days_left days"
    |                                                                                         ^^^^^^^^^^^ E501
328 |         elif [ "$days_left" -lt 30 ]; then
329 |             log_message "WARNING: SSL certificate expires in $days_left days"
    |

coffeebreak/infrastructure/manager.py:334:89: E501 Line too long (90 > 88)
    |
332 |         fi
333 |     else
334 |         send_alert "SSL Certificate Check Failed" "Unable to check SSL certificate expiry"
    |                                                                                         ^^ E501
335 |     fi
336 | }}
    |

coffeebreak/infrastructure/manager.py:341:1: W293 Blank line contains whitespace
    |
339 | check_disk_space() {{
340 |     log_message "Checking disk space"
341 |     
    | ^^^^ W293
342 |     local usage=$(df / | awk 'NR==2 {{print $5}}' | sed 's/%//')
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:343:1: W293 Blank line contains whitespace
    |
342 |     local usage=$(df / | awk 'NR==2 {{print $5}}' | sed 's/%//')
343 |     
    | ^^^^ W293
344 |     if [ "$usage" -gt 90 ]; then
345 |         send_alert "Critical Disk Space" "Disk usage is at $usage%"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:356:1: W293 Blank line contains whitespace
    |
354 | check_infrastructure_anomalies() {{
355 |     log_message "Checking for infrastructure anomalies"
356 |     
    | ^^^^ W293
357 |     # Check for unusual network connections
358 |     local suspicious_connections=$(netstat -tn | grep ESTABLISHED | wc -l)
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:360:89: E501 Line too long (91 > 88)
    |
358 |     local suspicious_connections=$(netstat -tn | grep ESTABLISHED | wc -l)
359 |     if [ "$suspicious_connections" -gt 100 ]; then
360 |         log_message "WARNING: High number of network connections ($suspicious_connections)"
    |                                                                                         ^^^ E501
361 |     fi
    |

coffeebreak/infrastructure/manager.py:362:1: W293 Blank line contains whitespace
    |
360 |         log_message "WARNING: High number of network connections ($suspicious_connections)"
361 |     fi
362 |     
    | ^^^^ W293
363 |     # Check for high I/O wait
364 |     local iowait=$(top -bn1 | grep "Cpu(s)" | awk '{{print $5}}' | sed 's/%wa,//' | cut -d'%' -f1)
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:364:89: E501 Line too long (98 > 88)
    |
363 |     # Check for high I/O wait
364 |     local iowait=$(top -bn1 | grep "Cpu(s)" | awk '{{print $5}}' | sed 's/%wa,//' | cut -d'%' -f1)
    |                                                                                         ^^^^^^^^^^ E501
365 |     iowait=${{iowait%.*}}
366 |     if [ "$iowait" -gt 20 ]; then
    |

coffeebreak/infrastructure/manager.py:369:1: W293 Blank line contains whitespace
    |
367 |         log_message "WARNING: High I/O wait time ($iowait%)"
368 |     fi
369 |     
    | ^^^^ W293
370 |     # Check system load
371 |     local load_average=$(uptime | awk -F'load average:' '{{ print $2 }}' | awk '{{ print $1 }}' | sed 's/,//')
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:371:89: E501 Line too long (110 > 88)
    |
370 |     # Check system load
371 |     local load_average=$(uptime | awk -F'load average:' '{{ print $2 }}' | awk '{{ print $1 }}' | sed 's/,//')
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^ E501
372 |     if (( $(echo "$load_average > 4.0" | bc -l) )); then
373 |         send_alert "High System Load" "System load average is $load_average"
    |

coffeebreak/infrastructure/manager.py:380:1: W293 Blank line contains whitespace
    |
378 | main() {{
379 |     log_message "Starting infrastructure monitoring check"
380 |     
    | ^^^^ W293
381 |     check_resource_usage
382 |     check_service_health
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:389:1: W293 Blank line contains whitespace
    |
387 |     check_disk_space
388 |     check_infrastructure_anomalies
389 |     
    | ^^^^ W293
390 |     log_message "Infrastructure monitoring check completed"
391 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:428:89: E501 Line too long (104 > 88)
    |
427 |             # Setup cron job for infrastructure monitoring
428 |             cron_entry = f"*/{config.get('health_check_interval', 30)} * * * * {monitoring_script_path}"
    |                                                                                         ^^^^^^^^^^^^^^^^ E501
429 |
430 |             try:
    |

coffeebreak/infrastructure/manager.py:437:13: E722 Do not use bare `except`
    |
435 |                     current_crontab.stdout if current_crontab.returncode == 0 else ""
436 |                 )
437 |             except:
    |             ^^^^^^ E722
438 |                 crontab_content = ""
    |

coffeebreak/infrastructure/manager.py:488:1: W293 Blank line contains whitespace
    |
486 |     local deployment_type="$1"
487 |     local version="${{2:-latest}}"
488 |     
    | ^^^^ W293
489 |     log_message "Deployment request received: type=$deployment_type, version=$version"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:490:1: W293 Blank line contains whitespace
    |
489 |     log_message "Deployment request received: type=$deployment_type, version=$version"
490 |     
    | ^^^^ W293
491 |     case "$deployment_type" in
492 |         "rolling")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:512:1: W293 Blank line contains whitespace
    |
510 |     local action="$1"
511 |     local instances="${{2:-1}}"
512 |     
    | ^^^^ W293
513 |     log_message "Scaling request received: action=$action, instances=$instances"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:514:1: W293 Blank line contains whitespace
    |
513 |     log_message "Scaling request received: action=$action, instances=$instances"
514 |     
    | ^^^^ W293
515 |     case "$action" in
516 |         "scale-up")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:535:1: W293 Blank line contains whitespace
    |
533 | handle_maintenance() {{
534 |     local maintenance_type="$1"
535 |     
    | ^^^^ W293
536 |     log_message "Maintenance request received: type=$maintenance_type"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:537:1: W293 Blank line contains whitespace
    |
536 |     log_message "Maintenance request received: type=$maintenance_type"
537 |     
    | ^^^^ W293
538 |     case "$maintenance_type" in
539 |         "update")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:558:1: W293 Blank line contains whitespace
    |
556 | get_status() {{
557 |     local status_type="${{1:-all}}"
558 |     
    | ^^^^ W293
559 |     case "$status_type" in
560 |         "services")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:589:1: W293 Blank line contains whitespace
    |
587 | start_api_server() {{
588 |     log_message "Starting orchestration API server on port $API_PORT"
589 |     
    | ^^^^ W293
590 |     # Simple HTTP server using netcat
591 |     while true; do
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:595:1: W293 Blank line contains whitespace
    |
594 | CoffeeBreak Orchestration API" | nc -l -p "$API_PORT" -q 1)
595 |         
    | ^^^^^^^^ W293
596 |         # Parse request
597 |         method=$(echo "$request" | head -1 | awk '{{print $1}}')
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:599:1: W293 Blank line contains whitespace
    |
597 |         method=$(echo "$request" | head -1 | awk '{{print $1}}')
598 |         path=$(echo "$request" | head -1 | awk '{{print $2}}')
599 |         
    | ^^^^^^^^ W293
600 |         log_message "API request: $method $path"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:601:1: W293 Blank line contains whitespace
    |
600 |         log_message "API request: $method $path"
601 |         
    | ^^^^^^^^ W293
602 |         # Handle different endpoints
603 |         case "$path" in
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:629:1: W293 Blank line contains whitespace
    |
627 |                 ;;
628 |         esac
629 |         
    | ^^^^^^^^ W293
630 |         sleep 1
631 |     done
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:637:1: W293 Blank line contains whitespace
    |
635 | main() {{
636 |     local action="${{1:-server}}"
637 |     
    | ^^^^ W293
638 |     case "$action" in
639 |         "server")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:703:89: E501 Line too long (92 > 88)
    |
701 |             setup_result["endpoints"] = [
702 |                 f"http://localhost:{config.get('orchestration_api_port', 8080)}/health",
703 |                 f"http://localhost:{config.get('orchestration_api_port', 8080)}/status/all",
    |                                                                                         ^^^^ E501
704 |                 f"http://localhost:{config.get('orchestration_api_port', 8080)}/deploy/rolling",
705 |                 f"http://localhost:{config.get('orchestration_api_port', 8080)}/scale/auto",
    |

coffeebreak/infrastructure/manager.py:704:89: E501 Line too long (96 > 88)
    |
702 |                 f"http://localhost:{config.get('orchestration_api_port', 8080)}/health",
703 |                 f"http://localhost:{config.get('orchestration_api_port', 8080)}/status/all",
704 |                 f"http://localhost:{config.get('orchestration_api_port', 8080)}/deploy/rolling",
    |                                                                                         ^^^^^^^^ E501
705 |                 f"http://localhost:{config.get('orchestration_api_port', 8080)}/scale/auto",
706 |             ]
    |

coffeebreak/infrastructure/manager.py:705:89: E501 Line too long (92 > 88)
    |
703 |                 f"http://localhost:{config.get('orchestration_api_port', 8080)}/status/all",
704 |                 f"http://localhost:{config.get('orchestration_api_port', 8080)}/deploy/rolling",
705 |                 f"http://localhost:{config.get('orchestration_api_port', 8080)}/scale/auto",
    |                                                                                         ^^^^ E501
706 |             ]
    |

coffeebreak/infrastructure/manager.py:758:89: E501 Line too long (102 > 88)
    |
756 | echo "Service Status:"
757 | echo "--------------"
758 | services=("nginx" "postgresql" "mongod" "coffeebreak-api" "coffeebreak-frontend" "coffeebreak-events")
    |                                                                                         ^^^^^^^^^^^^^^ E501
759 | for service in "${{services[@]}}"; do
760 |     if systemctl is-active --quiet "$service"; then
    |

coffeebreak/infrastructure/manager.py:797:89: E501 Line too long (113 > 88)
    |
795 | echo "Recent Errors (last 10):"
796 | echo "------------------------"
797 | journalctl -u coffeebreak-* --since "1 hour ago" --no-pager | grep -i error | tail -10 || echo "No recent errors"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^ E501
798 | """
    |

coffeebreak/infrastructure/manager.py:824:1: W293 Blank line contains whitespace
    |
822 |     local service="$1"
823 |     local max_wait="${{2:-60}}"
824 |     
    | ^^^^ W293
825 |     log_message "Restarting service: $service"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:826:1: W293 Blank line contains whitespace
    |
825 |     log_message "Restarting service: $service"
826 |     
    | ^^^^ W293
827 |     systemctl restart "$service"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:828:1: W293 Blank line contains whitespace
    |
827 |     systemctl restart "$service"
828 |     
    | ^^^^ W293
829 |     # Wait for service to become active
830 |     local wait_time=0
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:836:1: W293 Blank line contains whitespace
    |
834 |             return 0
835 |         fi
836 |         
    | ^^^^^^^^ W293
837 |         sleep 5
838 |         wait_time=$((wait_time + 5))
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:840:1: W293 Blank line contains whitespace
    |
838 |         wait_time=$((wait_time + 5))
839 |     done
840 |     
    | ^^^^ W293
841 |     log_message "ERROR: Service $service failed to start within $max_wait seconds"
842 |     return 1
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:848:1: W293 Blank line contains whitespace
    |
846 | graceful_restart() {{
847 |     log_message "Starting graceful infrastructure restart"
848 |     
    | ^^^^ W293
849 |     # Stop application services first
850 |     log_message "Stopping application services..."
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:854:1: W293 Blank line contains whitespace
    |
852 |     systemctl stop coffeebreak-frontend || true
853 |     systemctl stop coffeebreak-api || true
854 |     
    | ^^^^ W293
855 |     # Restart infrastructure services
856 |     log_message "Restarting infrastructure services..."
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:860:1: W293 Blank line contains whitespace
    |
858 |     restart_service postgresql
859 |     restart_service mongod
860 |     
    | ^^^^ W293
861 |     # Start application services
862 |     log_message "Starting application services..."
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:866:1: W293 Blank line contains whitespace
    |
864 |     restart_service coffeebreak-frontend 60
865 |     restart_service coffeebreak-events 60
866 |     
    | ^^^^ W293
867 |     # Verify health
868 |     log_message "Verifying application health..."
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:870:1: W293 Blank line contains whitespace
    |
868 |     log_message "Verifying application health..."
869 |     sleep 10
870 |     
    | ^^^^ W293
871 |     if curl -s --max-time 10 "https://{domain}/health" > /dev/null; then
872 |         log_message "✓ Application health check passed"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:883:1: W293 Blank line contains whitespace
    |
881 | emergency_restart() {{
882 |     log_message "Starting emergency infrastructure restart"
883 |     
    | ^^^^ W293
884 |     # Force restart all services
885 |     systemctl restart nginx
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:889:1: W293 Blank line contains whitespace
    |
887 |     systemctl restart mongod
888 |     systemctl restart coffeebreak-*
889 |     
    | ^^^^ W293
890 |     # Wait and verify
891 |     sleep 15
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:892:1: W293 Blank line contains whitespace
    |
890 |     # Wait and verify
891 |     sleep 15
892 |     
    | ^^^^ W293
893 |     if curl -s --max-time 10 "https://{domain}/health" > /dev/null; then
894 |         log_message "Emergency restart completed successfully"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/manager.py:903:1: W293 Blank line contains whitespace
    |
901 | main() {{
902 |     local restart_type="${{1:-graceful}}"
903 |     
    | ^^^^ W293
904 |     case "$restart_type" in
905 |         "graceful")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Auto-scaling system for CoffeeBreak infrastructure."""
 2 |
 3 | / import os
 4 | | import subprocess
 5 | | import time
 6 | | from datetime import datetime
 7 | | from typing import Dict, Any, List, Optional
 8 | | import json
 9 | |
10 | | from ..utils.errors import ConfigurationError
   | |_____________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/infrastructure/scaling.py:5:8: F401 [*] `time` imported but unused
  |
3 | import os
4 | import subprocess
5 | import time
  |        ^^^^ F401
6 | from datetime import datetime
7 | from typing import Dict, Any, List, Optional
  |
  = help: Remove unused import: `time`

coffeebreak/infrastructure/scaling.py:6:22: F401 [*] `datetime.datetime` imported but unused
  |
4 | import subprocess
5 | import time
6 | from datetime import datetime
  |                      ^^^^^^^^ F401
7 | from typing import Dict, Any, List, Optional
8 | import json
  |
  = help: Remove unused import: `datetime.datetime`

coffeebreak/infrastructure/scaling.py:7:31: F401 [*] `typing.List` imported but unused
  |
5 | import time
6 | from datetime import datetime
7 | from typing import Dict, Any, List, Optional
  |                               ^^^^ F401
8 | import json
  |
  = help: Remove unused import

coffeebreak/infrastructure/scaling.py:7:37: F401 [*] `typing.Optional` imported but unused
  |
5 | import time
6 | from datetime import datetime
7 | from typing import Dict, Any, List, Optional
  |                                     ^^^^^^^^ F401
8 | import json
  |
  = help: Remove unused import

coffeebreak/infrastructure/scaling.py:10:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 8 | import json
 9 |
10 | from ..utils.errors import ConfigurationError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/infrastructure/scaling.py:10:28: F401 [*] `..utils.errors.ConfigurationError` imported but unused
   |
 8 | import json
 9 |
10 | from ..utils.errors import ConfigurationError
   |                            ^^^^^^^^^^^^^^^^^^ F401
   |
   = help: Remove unused import: `..utils.errors.ConfigurationError`

coffeebreak/infrastructure/scaling.py:106:1: W293 Blank line contains whitespace
    |
104 |     local subject="$1"
105 |     local message="$2"
106 |     
    | ^^^^ W293
107 |     log_message "ALERT: $subject"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:108:1: W293 Blank line contains whitespace
    |
107 |     log_message "ALERT: $subject"
108 |     
    | ^^^^ W293
109 |     if [ -f "/opt/coffeebreak/bin/notify.sh" ]; then
110 |         /opt/coffeebreak/bin/notify.sh "$subject" "$message"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:112:1: W293 Blank line contains whitespace
    |
110 |         /opt/coffeebreak/bin/notify.sh "$subject" "$message"
111 |     fi
112 |     
    | ^^^^ W293
113 |     logger -t coffeebreak-scaling "ALERT: $subject - $message"
114 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:120:89: E501 Line too long (111 > 88)
    |
118 |     if [ "{self.deployment_type}" = "docker" ]; then
119 |         # For Docker deployment, count running containers
120 |         docker ps --filter "name=coffeebreak" --format "table {{{{.Names}}}}" | grep -c coffeebreak || echo "1"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^ E501
121 |     else
122 |         # For standalone deployment, count active services
    |

coffeebreak/infrastructure/scaling.py:123:89: E501 Line too long (91 > 88)
    |
121 |     else
122 |         # For standalone deployment, count active services
123 |         systemctl list-units --state=active coffeebreak-* | grep -c coffeebreak || echo "1"
    |                                                                                         ^^^ E501
124 |     fi
125 | }}
    |

coffeebreak/infrastructure/scaling.py:130:89: E501 Line too long (101 > 88)
    |
128 | get_resource_metrics() {{
129 |     # Get CPU usage
130 |     local cpu_usage=$(top -bn1 | grep "Cpu(s)" | awk '{{print $2}}' | sed 's/%us,//' | cut -d'%' -f1)
    |                                                                                         ^^^^^^^^^^^^^ E501
131 |     cpu_usage=${{cpu_usage%.*}}  # Remove decimals
    |

coffeebreak/infrastructure/scaling.py:132:1: W293 Blank line contains whitespace
    |
130 |     local cpu_usage=$(top -bn1 | grep "Cpu(s)" | awk '{{print $2}}' | sed 's/%us,//' | cut -d'%' -f1)
131 |     cpu_usage=${{cpu_usage%.*}}  # Remove decimals
132 |     
    | ^^^^ W293
133 |     # Get memory usage
134 |     local memory_usage=$(free | awk 'NR==2{{printf "%.0f", $3*100/$2 }}')
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:135:1: W293 Blank line contains whitespace
    |
133 |     # Get memory usage
134 |     local memory_usage=$(free | awk 'NR==2{{printf "%.0f", $3*100/$2 }}')
135 |     
    | ^^^^ W293
136 |     # Get load average
137 |     local load_average=$(uptime | awk -F'load average:' '{{ print $2 }}' | awk '{{ print $1 }}' | sed 's/,//')
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:137:89: E501 Line too long (110 > 88)
    |
136 |     # Get load average
137 |     local load_average=$(uptime | awk -F'load average:' '{{ print $2 }}' | awk '{{ print $1 }}' | sed 's/,//')
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^ E501
138 |     
139 |     echo "$cpu_usage,$memory_usage,$load_average"
    |

coffeebreak/infrastructure/scaling.py:138:1: W293 Blank line contains whitespace
    |
136 |     # Get load average
137 |     local load_average=$(uptime | awk -F'load average:' '{{ print $2 }}' | awk '{{ print $1 }}' | sed 's/,//')
138 |     
    | ^^^^ W293
139 |     echo "$cpu_usage,$memory_usage,$load_average"
140 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:145:1: W293 Blank line contains whitespace
    |
143 | is_scaling_on_cooldown() {{
144 |     local cooldown_file="/tmp/coffeebreak-scaling-cooldown"
145 |     
    | ^^^^ W293
146 |     if [ -f "$cooldown_file" ]; then
147 |         local last_scale=$(cat "$cooldown_file")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:150:1: W293 Blank line contains whitespace
    |
148 |         local current_time=$(date +%s)
149 |         local time_diff=$((current_time - last_scale))
150 |         
    | ^^^^^^^^ W293
151 |         if [ $time_diff -lt $SCALE_COOLDOWN ]; then
152 |             log_message "Scaling on cooldown ($((SCALE_COOLDOWN - time_diff)) seconds remaining)"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:152:89: E501 Line too long (97 > 88)
    |
151 |         if [ $time_diff -lt $SCALE_COOLDOWN ]; then
152 |             log_message "Scaling on cooldown ($((SCALE_COOLDOWN - time_diff)) seconds remaining)"
    |                                                                                         ^^^^^^^^^ E501
153 |             return 0
154 |         fi
    |

coffeebreak/infrastructure/scaling.py:156:1: W293 Blank line contains whitespace
    |
154 |         fi
155 |     fi
156 |     
    | ^^^^ W293
157 |     return 1
158 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:170:1: W293 Blank line contains whitespace
    |
168 |     local target_instances="$1"
169 |     local current_instances=$(get_current_instances)
170 |     
    | ^^^^ W293
171 |     if [ "$target_instances" -le "$current_instances" ]; then
172 |         log_message "Target instances ($target_instances) not greater than current ($current_instances), skipping scale up"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:172:89: E501 Line too long (123 > 88)
    |
171 |     if [ "$target_instances" -le "$current_instances" ]; then
172 |         log_message "Target instances ($target_instances) not greater than current ($current_instances), skipping scale up"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
173 |         return 0
174 |     fi
    |

coffeebreak/infrastructure/scaling.py:175:1: W293 Blank line contains whitespace
    |
173 |         return 0
174 |     fi
175 |     
    | ^^^^ W293
176 |     if [ "$target_instances" -gt "$MAX_INSTANCES" ]; then
177 |         target_instances=$MAX_INSTANCES
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:180:1: W293 Blank line contains whitespace
    |
178 |         log_message "Target instances capped at maximum: $MAX_INSTANCES"
179 |     fi
180 |     
    | ^^^^ W293
181 |     log_message "Scaling up from $current_instances to $target_instances instances"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:182:1: W293 Blank line contains whitespace
    |
181 |     log_message "Scaling up from $current_instances to $target_instances instances"
182 |     
    | ^^^^ W293
183 |     if [ "{self.deployment_type}" = "docker" ]; then
184 |         # Scale Docker services
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:186:1: W293 Blank line contains whitespace
    |
184 |         # Scale Docker services
185 |         local services=("coffeebreak-api" "coffeebreak-frontend" "coffeebreak-events")
186 |         
    | ^^^^^^^^ W293
187 |         for service in "${{services[@]}}"; do
188 |             log_message "Scaling Docker service: $service"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:189:89: E501 Line too long (112 > 88)
    |
187 |         for service in "${{services[@]}}"; do
188 |             log_message "Scaling Docker service: $service"
189 |             docker service scale "$service=$target_instances" || log_message "WARNING: Failed to scale $service"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^ E501
190 |         done
191 |     else
    |

coffeebreak/infrastructure/scaling.py:194:1: W293 Blank line contains whitespace
    |
192 |         # Scale standalone services (create additional service instances)
193 |         local additional_instances=$((target_instances - current_instances))
194 |         
    | ^^^^^^^^ W293
195 |         for i in $(seq 1 $additional_instances); do
196 |             local instance_num=$((current_instances + i))
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:197:1: W293 Blank line contains whitespace
    |
195 |         for i in $(seq 1 $additional_instances); do
196 |             local instance_num=$((current_instances + i))
197 |             
    | ^^^^^^^^^^^^ W293
198 |             # Create additional service instances
199 |             log_message "Creating additional service instance: $instance_num"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:200:1: W293 Blank line contains whitespace
    |
198 |             # Create additional service instances
199 |             log_message "Creating additional service instance: $instance_num"
200 |             
    | ^^^^^^^^^^^^ W293
201 |             # This would involve creating new systemd services or process instances
202 |             # Implementation depends on specific architecture
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:205:1: W293 Blank line contains whitespace
    |
203 |         done
204 |     fi
205 |     
    | ^^^^ W293
206 |     set_scaling_cooldown
207 |     send_alert "Scaled Up" "Scaled from $current_instances to $target_instances instances"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:207:89: E501 Line too long (90 > 88)
    |
206 |     set_scaling_cooldown
207 |     send_alert "Scaled Up" "Scaled from $current_instances to $target_instances instances"
    |                                                                                         ^^ E501
208 | }}
    |

coffeebreak/infrastructure/scaling.py:214:1: W293 Blank line contains whitespace
    |
212 |     local target_instances="$1"
213 |     local current_instances=$(get_current_instances)
214 |     
    | ^^^^ W293
215 |     if [ "$target_instances" -ge "$current_instances" ]; then
216 |         log_message "Target instances ($target_instances) not less than current ($current_instances), skipping scale down"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:216:89: E501 Line too long (122 > 88)
    |
215 |     if [ "$target_instances" -ge "$current_instances" ]; then
216 |         log_message "Target instances ($target_instances) not less than current ($current_instances), skipping scale down"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
217 |         return 0
218 |     fi
    |

coffeebreak/infrastructure/scaling.py:219:1: W293 Blank line contains whitespace
    |
217 |         return 0
218 |     fi
219 |     
    | ^^^^ W293
220 |     if [ "$target_instances" -lt "$MIN_INSTANCES" ]; then
221 |         target_instances=$MIN_INSTANCES
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:224:1: W293 Blank line contains whitespace
    |
222 |         log_message "Target instances raised to minimum: $MIN_INSTANCES"
223 |     fi
224 |     
    | ^^^^ W293
225 |     log_message "Scaling down from $current_instances to $target_instances instances"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:226:1: W293 Blank line contains whitespace
    |
225 |     log_message "Scaling down from $current_instances to $target_instances instances"
226 |     
    | ^^^^ W293
227 |     if [ "{self.deployment_type}" = "docker" ]; then
228 |         # Scale Docker services
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:230:1: W293 Blank line contains whitespace
    |
228 |         # Scale Docker services
229 |         local services=("coffeebreak-api" "coffeebreak-frontend" "coffeebreak-events")
230 |         
    | ^^^^^^^^ W293
231 |         for service in "${{services[@]}}"; do
232 |             log_message "Scaling Docker service: $service"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:233:89: E501 Line too long (112 > 88)
    |
231 |         for service in "${{services[@]}}"; do
232 |             log_message "Scaling Docker service: $service"
233 |             docker service scale "$service=$target_instances" || log_message "WARNING: Failed to scale $service"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^ E501
234 |         done
235 |     else
    |

coffeebreak/infrastructure/scaling.py:238:1: W293 Blank line contains whitespace
    |
236 |         # Scale down standalone services
237 |         local instances_to_remove=$((current_instances - target_instances))
238 |         
    | ^^^^^^^^ W293
239 |         for i in $(seq 1 $instances_to_remove); do
240 |             local instance_num=$((current_instances - i + 1))
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:241:1: W293 Blank line contains whitespace
    |
239 |         for i in $(seq 1 $instances_to_remove); do
240 |             local instance_num=$((current_instances - i + 1))
241 |             
    | ^^^^^^^^^^^^ W293
242 |             # Remove service instances
243 |             log_message "Removing service instance: $instance_num"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:244:1: W293 Blank line contains whitespace
    |
242 |             # Remove service instances
243 |             log_message "Removing service instance: $instance_num"
244 |             
    | ^^^^^^^^^^^^ W293
245 |             # This would involve stopping and removing systemd services
246 |             # Implementation depends on specific architecture
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:249:1: W293 Blank line contains whitespace
    |
247 |         done
248 |     fi
249 |     
    | ^^^^ W293
250 |     set_scaling_cooldown
251 |     send_alert "Scaled Down" "Scaled from $current_instances to $target_instances instances"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:251:89: E501 Line too long (92 > 88)
    |
250 |     set_scaling_cooldown
251 |     send_alert "Scaled Down" "Scaled from $current_instances to $target_instances instances"
    |                                                                                         ^^^^ E501
252 | }}
    |

coffeebreak/infrastructure/scaling.py:257:1: W293 Blank line contains whitespace
    |
255 | adaptive_scaling() {{
256 |     log_message "Performing adaptive scaling evaluation"
257 |     
    | ^^^^ W293
258 |     if is_scaling_on_cooldown; then
259 |         return 0
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:261:1: W293 Blank line contains whitespace
    |
259 |         return 0
260 |     fi
261 |     
    | ^^^^ W293
262 |     local metrics=$(get_resource_metrics)
263 |     local cpu_usage=$(echo "$metrics" | cut -d',' -f1)
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:267:1: W293 Blank line contains whitespace
    |
265 |     local load_average=$(echo "$metrics" | cut -d',' -f3)
266 |     local current_instances=$(get_current_instances)
267 |     
    | ^^^^ W293
268 |     log_message "Current metrics: CPU=$cpu_usage%, Memory=$memory_usage%, Load=$load_average, Instances=$current_instances"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:268:89: E501 Line too long (123 > 88)
    |
266 |     local current_instances=$(get_current_instances)
267 |     
268 |     log_message "Current metrics: CPU=$cpu_usage%, Memory=$memory_usage%, Load=$load_average, Instances=$current_instances"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
269 |     
270 |     # Determine if scaling is needed
    |

coffeebreak/infrastructure/scaling.py:269:1: W293 Blank line contains whitespace
    |
268 |     log_message "Current metrics: CPU=$cpu_usage%, Memory=$memory_usage%, Load=$load_average, Instances=$current_instances"
269 |     
    | ^^^^ W293
270 |     # Determine if scaling is needed
271 |     local scale_action=""
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:273:1: W293 Blank line contains whitespace
    |
271 |     local scale_action=""
272 |     local target_instances=$current_instances
273 |     
    | ^^^^ W293
274 |     # Scale up conditions
275 |     if [ "$cpu_usage" -gt "$CPU_SCALE_UP_THRESHOLD" ] || [ "$memory_usage" -gt "$MEMORY_SCALE_UP_THRESHOLD" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:275:89: E501 Line too long (115 > 88)
    |
274 |     # Scale up conditions
275 |     if [ "$cpu_usage" -gt "$CPU_SCALE_UP_THRESHOLD" ] || [ "$memory_usage" -gt "$MEMORY_SCALE_UP_THRESHOLD" ]; then
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
276 |         scale_action="up"
    |

coffeebreak/infrastructure/scaling.py:277:1: W293 Blank line contains whitespace
    |
275 |     if [ "$cpu_usage" -gt "$CPU_SCALE_UP_THRESHOLD" ] || [ "$memory_usage" -gt "$MEMORY_SCALE_UP_THRESHOLD" ]; then
276 |         scale_action="up"
277 |         
    | ^^^^^^^^ W293
278 |         # Calculate target instances based on resource usage
279 |         if [ "$cpu_usage" -gt "$CPU_SCALE_UP_THRESHOLD" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:280:89: E501 Line too long (95 > 88)
    |
278 |         # Calculate target instances based on resource usage
279 |         if [ "$cpu_usage" -gt "$CPU_SCALE_UP_THRESHOLD" ]; then
280 |             local cpu_scale_factor=$(echo "scale=0; $cpu_usage / $CPU_SCALE_UP_THRESHOLD" | bc)
    |                                                                                         ^^^^^^^ E501
281 |             target_instances=$((current_instances + cpu_scale_factor))
282 |         fi
    |

coffeebreak/infrastructure/scaling.py:283:1: W293 Blank line contains whitespace
    |
281 |             target_instances=$((current_instances + cpu_scale_factor))
282 |         fi
283 |         
    | ^^^^^^^^ W293
284 |         if [ "$memory_usage" -gt "$MEMORY_SCALE_UP_THRESHOLD" ]; then
285 |             local memory_scale_factor=$(echo "scale=0; $memory_usage / $MEMORY_SCALE_UP_THRESHOLD" | bc)
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:285:89: E501 Line too long (104 > 88)
    |
284 |         if [ "$memory_usage" -gt "$MEMORY_SCALE_UP_THRESHOLD" ]; then
285 |             local memory_scale_factor=$(echo "scale=0; $memory_usage / $MEMORY_SCALE_UP_THRESHOLD" | bc)
    |                                                                                         ^^^^^^^^^^^^^^^^ E501
286 |             local memory_target=$((current_instances + memory_scale_factor))
    |

coffeebreak/infrastructure/scaling.py:287:1: W293 Blank line contains whitespace
    |
285 |             local memory_scale_factor=$(echo "scale=0; $memory_usage / $MEMORY_SCALE_UP_THRESHOLD" | bc)
286 |             local memory_target=$((current_instances + memory_scale_factor))
287 |             
    | ^^^^^^^^^^^^ W293
288 |             if [ "$memory_target" -gt "$target_instances" ]; then
289 |                 target_instances=$memory_target
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:292:1: W293 Blank line contains whitespace
    |
290 |             fi
291 |         fi
292 |         
    | ^^^^^^^^ W293
293 |     # Scale down conditions
294 |     elif [ "$cpu_usage" -lt "$CPU_SCALE_DOWN_THRESHOLD" ] && [ "$memory_usage" -lt "$MEMORY_SCALE_DOWN_THRESHOLD" ] && [ "$current_in…
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:294:89: E501 Line too long (170 > 88)
    |
293 | …
294 | …emory_usage" -lt "$MEMORY_SCALE_DOWN_THRESHOLD" ] && [ "$current_instances" -gt "$MIN_INSTANCES" ]; then
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
295 | …
    |

coffeebreak/infrastructure/scaling.py:296:1: W293 Blank line contains whitespace
    |
294 |     elif [ "$cpu_usage" -lt "$CPU_SCALE_DOWN_THRESHOLD" ] && [ "$memory_usage" -lt "$MEMORY_SCALE_DOWN_THRESHOLD" ] && [ "$current_in…
295 |         scale_action="down"
296 |         
    | ^^^^^^^^ W293
297 |         # Conservative scale down - reduce by 1 instance at a time
298 |         target_instances=$((current_instances - 1))
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:300:1: W293 Blank line contains whitespace
    |
298 |         target_instances=$((current_instances - 1))
299 |     fi
300 |     
    | ^^^^ W293
301 |     # Execute scaling action
302 |     case "$scale_action" in
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:318:1: W293 Blank line contains whitespace
    |
316 | scheduled_scaling() {{
317 |     local schedule_config="/opt/coffeebreak/config/scaling-schedule.json"
318 |     
    | ^^^^ W293
319 |     if [ ! -f "$schedule_config" ]; then
320 |         log_message "No scaling schedule configuration found"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:323:1: W293 Blank line contains whitespace
    |
321 |         return 0
322 |     fi
323 |     
    | ^^^^ W293
324 |     local current_hour=$(date +%H)
325 |     local current_day=$(date +%u)  # 1=Monday, 7=Sunday
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:326:1: W293 Blank line contains whitespace
    |
324 |     local current_hour=$(date +%H)
325 |     local current_day=$(date +%u)  # 1=Monday, 7=Sunday
326 |     
    | ^^^^ W293
327 |     # Parse schedule and determine target instances
328 |     local target_instances=$(jq -r --arg hour "$current_hour" --arg day "$current_day" \\
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:328:89: E501 Line too long (89 > 88)
    |
327 |     # Parse schedule and determine target instances
328 |     local target_instances=$(jq -r --arg hour "$current_hour" --arg day "$current_day" \\
    |                                                                                         ^ E501
329 |         '.schedule[] | select(.hour == ($hour | tonumber) and (.days[] | tostring) == $day) | .instances' \\
330 |         "$schedule_config" | head -1)
    |

coffeebreak/infrastructure/scaling.py:329:89: E501 Line too long (108 > 88)
    |
327 |     # Parse schedule and determine target instances
328 |     local target_instances=$(jq -r --arg hour "$current_hour" --arg day "$current_day" \\
329 |         '.schedule[] | select(.hour == ($hour | tonumber) and (.days[] | tostring) == $day) | .instances' \\
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^ E501
330 |         "$schedule_config" | head -1)
    |

coffeebreak/infrastructure/scaling.py:331:1: W293 Blank line contains whitespace
    |
329 |         '.schedule[] | select(.hour == ($hour | tonumber) and (.days[] | tostring) == $day) | .instances' \\
330 |         "$schedule_config" | head -1)
331 |     
    | ^^^^ W293
332 |     if [ -n "$target_instances" ] && [ "$target_instances" != "null" ]; then
333 |         log_message "Scheduled scaling to $target_instances instances (hour=$current_hour, day=$current_day)"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:333:89: E501 Line too long (109 > 88)
    |
332 |     if [ -n "$target_instances" ] && [ "$target_instances" != "null" ]; then
333 |         log_message "Scheduled scaling to $target_instances instances (hour=$current_hour, day=$current_day)"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^ E501
334 |         
335 |         local current_instances=$(get_current_instances)
    |

coffeebreak/infrastructure/scaling.py:334:1: W293 Blank line contains whitespace
    |
332 |     if [ -n "$target_instances" ] && [ "$target_instances" != "null" ]; then
333 |         log_message "Scheduled scaling to $target_instances instances (hour=$current_hour, day=$current_day)"
334 |         
    | ^^^^^^^^ W293
335 |         local current_instances=$(get_current_instances)
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:336:1: W293 Blank line contains whitespace
    |
335 |         local current_instances=$(get_current_instances)
336 |         
    | ^^^^^^^^ W293
337 |         if [ "$target_instances" -gt "$current_instances" ]; then
338 |             scale_up "$target_instances"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:351:1: W293 Blank line contains whitespace
    |
349 |     local action="$1"
350 |     local instances="${{2:-1}}"
351 |     
    | ^^^^ W293
352 |     case "$action" in
353 |         "up")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:385:1: W293 Blank line contains whitespace
    |
383 |     local memory_usage=$(echo "$metrics" | cut -d',' -f2)
384 |     local load_average=$(echo "$metrics" | cut -d',' -f3)
385 |     
    | ^^^^ W293
386 |     echo "CoffeeBreak Scaling Status"
387 |     echo "========================="
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:404:1: W293 Blank line contains whitespace
    |
402 |     echo
403 |     echo "Cooldown: $SCALE_COOLDOWN seconds"
404 |     
    | ^^^^ W293
405 |     if is_scaling_on_cooldown; then
406 |         echo "Status: On cooldown"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:417:1: W293 Blank line contains whitespace
    |
415 |     local param1="$2"
416 |     local param2="$3"
417 |     
    | ^^^^ W293
418 |     log_message "Scaling action requested: $action"
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:419:1: W293 Blank line contains whitespace
    |
418 |     log_message "Scaling action requested: $action"
419 |     
    | ^^^^ W293
420 |     case "$action" in
421 |         "adaptive"|"auto")
    |
    = help: Remove whitespace from blank line

coffeebreak/infrastructure/scaling.py:537:17: E722 Do not use bare `except`
    |
535 |                         else ""
536 |                     )
537 |                 except:
    |                 ^^^^^^ E722
538 |                     crontab_content = ""
    |

coffeebreak/infrastructure/scaling.py:560:17: E722 Do not use bare `except`
    |
558 |                         else ""
559 |                     )
560 |                 except:
    |                 ^^^^^^ E722
561 |                     crontab_content = ""
    |

coffeebreak/monitoring/__init__.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Production monitoring and logging system for CoffeeBreak deployments."""
2 |
3 | / from .manager import MonitoringManager
4 | | from .metrics import MetricsCollector
5 | | from .logs import LogManager
6 | | from .alerts import AlertManager
  | |________________________________^ I001
7 |
8 |   __all__ = ["MonitoringManager", "MetricsCollector", "LogManager", "AlertManager"]
  |
  = help: Organize imports

coffeebreak/monitoring/alerts.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Alert management system for production monitoring."""
2 |
3 | / import os
4 | | import subprocess
5 | | from pathlib import Path
6 | | from typing import Dict, Any
7 | | import yaml
8 | |
9 | | from ..utils.errors import ConfigurationError
  | |_____________________________________________^ I001
  |
  = help: Organize imports

coffeebreak/monitoring/alerts.py:4:8: F401 [*] `subprocess` imported but unused
  |
3 | import os
4 | import subprocess
  |        ^^^^^^^^^^ F401
5 | from pathlib import Path
6 | from typing import Dict, Any
  |
  = help: Remove unused import: `subprocess`

coffeebreak/monitoring/alerts.py:9:1: TID252 Prefer absolute imports over relative imports from parent modules
  |
7 | import yaml
8 |
9 | from ..utils.errors import ConfigurationError
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
  |
  = help: Replace relative imports from parent modules with absolute imports

coffeebreak/monitoring/alerts.py:9:28: F401 [*] `..utils.errors.ConfigurationError` imported but unused
  |
7 | import yaml
8 |
9 | from ..utils.errors import ConfigurationError
  |                            ^^^^^^^^^^^^^^^^^^ F401
  |
  = help: Remove unused import: `..utils.errors.ConfigurationError`

coffeebreak/monitoring/alerts.py:75:89: E501 Line too long (93 > 88)
   |
73 |                             {
74 |                                 "to": config.get("alert_email", f"admin@{domain}"),
75 |                                 "subject": "CoffeeBreak Alert: {{ .GroupLabels.alertname }}",
   |                                                                                         ^^^^^ E501
76 |                                 "body": """
77 | Alert: {{ .GroupLabels.alertname }}
   |

coffeebreak/monitoring/alerts.py:133:89: E501 Line too long (124 > 88)
    |
131 | …                         "annotations": {
132 | …                             "summary": "Instance {{ $labels.instance }} down",
133 | …                             "description": "Instance {{ $labels.instance }} has been down for more than 5 minutes.",
    |                                                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
134 | …                         },
135 | …                     },
    |

coffeebreak/monitoring/alerts.py:138:89: E501 Line too long (127 > 88)
    |
136 | …                     {
137 | …                         "alert": "HighCPUUsage",
138 | …                         "expr": '100 - (avg by (instance) (rate(node_cpu_seconds_total{mode="idle"}[5m])) * 100) > 80',
    |                                                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
139 | …                         "for": "5m",
140 | …                         "labels": {"severity": "warning"},
    |

coffeebreak/monitoring/alerts.py:142:89: E501 Line too long (90 > 88)
    |
140 | …                     "labels": {"severity": "warning"},
141 | …                     "annotations": {
142 | …                         "summary": "High CPU usage on {{ $labels.instance }}",
    |                                                                               ^^ E501
143 | …                         "description": "CPU usage is above 80% for more than 5 minutes.",
144 | …                         "value": "{{ $value }}%",
    |

coffeebreak/monitoring/alerts.py:143:89: E501 Line too long (101 > 88)
    |
141 | …                     "annotations": {
142 | …                         "summary": "High CPU usage on {{ $labels.instance }}",
143 | …                         "description": "CPU usage is above 80% for more than 5 minutes.",
    |                                                                               ^^^^^^^^^^^^^ E501
144 | …                         "value": "{{ $value }}%",
145 | …                     },
    |

coffeebreak/monitoring/alerts.py:149:89: E501 Line too long (121 > 88)
    |
147 | …                     {
148 | …                         "alert": "HighMemoryUsage",
149 | …                         "expr": "(1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100 > 90",
    |                                                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
150 | …                         "for": "5m",
151 | …                         "labels": {"severity": "warning"},
    |

coffeebreak/monitoring/alerts.py:153:89: E501 Line too long (93 > 88)
    |
151 | …                     "labels": {"severity": "warning"},
152 | …                     "annotations": {
153 | …                         "summary": "High memory usage on {{ $labels.instance }}",
    |                                                                               ^^^^^ E501
154 | …                         "description": "Memory usage is above 90% for more than 5 minutes.",
155 | …                         "value": "{{ $value }}%",
    |

coffeebreak/monitoring/alerts.py:154:89: E501 Line too long (104 > 88)
    |
152 | …                     "annotations": {
153 | …                         "summary": "High memory usage on {{ $labels.instance }}",
154 | …                         "description": "Memory usage is above 90% for more than 5 minutes.",
    |                                                                               ^^^^^^^^^^^^^^^^ E501
155 | …                         "value": "{{ $value }}%",
156 | …                     },
    |

coffeebreak/monitoring/alerts.py:160:89: E501 Line too long (152 > 88)
    |
158 | …
159 | …
160 | …ystem_avail_bytes{fstype!="tmpfs"} / node_filesystem_size_bytes{fstype!="tmpfs"})) * 100 > 85',
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
161 | …
162 | …arning"},
    |

coffeebreak/monitoring/alerts.py:164:89: E501 Line too long (90 > 88)
    |
162 | …                     "labels": {"severity": "warning"},
163 | …                     "annotations": {
164 | …                         "summary": "Disk space low on {{ $labels.instance }}",
    |                                                                               ^^ E501
165 | …                         "description": "Disk usage is above 85% on {{ $labels.mountpoint }}.",
166 | …                         "value": "{{ $value }}%",
    |

coffeebreak/monitoring/alerts.py:165:89: E501 Line too long (106 > 88)
    |
163 | …                     "annotations": {
164 | …                         "summary": "Disk space low on {{ $labels.instance }}",
165 | …                         "description": "Disk usage is above 85% on {{ $labels.mountpoint }}.",
    |                                                                               ^^^^^^^^^^^^^^^^^^ E501
166 | …                         "value": "{{ $value }}%",
167 | …                     },
    |

coffeebreak/monitoring/alerts.py:171:89: E501 Line too long (93 > 88)
    |
169 | …                     {
170 | …                         "alert": "HTTPRequestErrors",
171 | …                         "expr": 'rate(http_requests_total{status=~"5.."}[5m]) > 0.1',
    |                                                                                   ^^^^^ E501
172 | …                         "for": "5m",
173 | …                         "labels": {"severity": "critical"},
    |

coffeebreak/monitoring/alerts.py:176:89: E501 Line too long (103 > 88)
    |
174 | …                     "annotations": {
175 | …                         "summary": "High HTTP error rate",
176 | …                         "description": "HTTP error rate is above 0.1 requests per second.",
    |                                                                               ^^^^^^^^^^^^^^^ E501
177 | …                         "value": "{{ $value }} req/s",
178 | …                     },
    |

coffeebreak/monitoring/alerts.py:182:89: E501 Line too long (119 > 88)
    |
180 | …                     {
181 | …                         "alert": "SlowHTTPRequests",
182 | …                         "expr": "histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m])) > 2",
    |                                                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
183 | …                         "for": "5m",
184 | …                         "labels": {"severity": "warning"},
    |

coffeebreak/monitoring/alerts.py:187:89: E501 Line too long (103 > 88)
    |
185 | …                     "annotations": {
186 | …                         "summary": "Slow HTTP requests",
187 | …                         "description": "95th percentile response time is above 2 seconds.",
    |                                                                               ^^^^^^^^^^^^^^^ E501
188 | …                         "value": "{{ $value }}s",
189 | …                     },
    |

coffeebreak/monitoring/alerts.py:193:89: E501 Line too long (97 > 88)
    |
191 | …                     {
192 | …                         "alert": "SSLCertificateExpiring",
193 | …                         "expr": "(ssl_certificate_expiry_seconds - time()) / 86400 < 30",
    |                                                                                   ^^^^^^^^^ E501
194 | …                         "for": "1h",
195 | …                         "labels": {"severity": "warning"},
    |

coffeebreak/monitoring/alerts.py:198:89: E501 Line too long (126 > 88)
    |
196 | …                     "annotations": {
197 | …                         "summary": "SSL certificate expiring soon",
198 | …                         "description": "SSL certificate for {{ $labels.instance }} expires in {{ $value }} days.",
    |                                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
199 | …                         "value": "{{ $value }}",
200 | …                     },
    |

coffeebreak/monitoring/alerts.py:209:89: E501 Line too long (104 > 88)
    |
207 | …                         "annotations": {
208 | …                             "summary": "Database connection error",
209 | …                             "description": "Cannot connect to {{ $labels.database }} database.",
    |                                                                                   ^^^^^^^^^^^^^^^^ E501
210 | …                         },
211 | …                     },
    |

coffeebreak/monitoring/alerts.py:249:1: W293 Blank line contains whitespace
    |
247 |     local subject="$1"
248 |     local message="$2"
249 |     
    | ^^^^ W293
250 |     if command -v mail &> /dev/null && [ -n "$ALERT_EMAIL" ]; then
251 |         echo "$message" | mail -s "CoffeeBreak Alert: $subject" "$ALERT_EMAIL"
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/alerts.py:260:1: W293 Blank line contains whitespace
    |
258 |     local subject="$1"
259 |     local message="$2"
260 |     
    | ^^^^ W293
261 |     if [ -n "$WEBHOOK_URL" ] && command -v curl &> /dev/null; then
262 |         local payload='{{"text": "CoffeeBreak Alert: '"$subject"'
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/alerts.py:273:1: W293 Blank line contains whitespace
    |
271 |     local subject="$1"
272 |     local message="$2"
273 |     
    | ^^^^ W293
274 |     logger -t coffeebreak-alert "ALERT: $subject - $message"
275 | }}
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/alerts.py:281:1: W293 Blank line contains whitespace
    |
279 |     local subject="$1"
280 |     local message="$2"
281 |     
    | ^^^^ W293
282 |     echo "Sending notification: $subject"
283 |     echo "Message: $message"
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/alerts.py:284:1: W293 Blank line contains whitespace
    |
282 |     echo "Sending notification: $subject"
283 |     echo "Message: $message"
284 |     
    | ^^^^ W293
285 |     send_email "$subject" "$message"
286 |     send_webhook "$subject" "$message"
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/logs.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Log management system for production deployments."""
2 |
3 | / import os
4 | | import subprocess
5 | | from pathlib import Path
6 | | from typing import Dict, Any
7 | |
8 | | from ..utils.errors import ConfigurationError
  | |_____________________________________________^ I001
  |
  = help: Organize imports

coffeebreak/monitoring/logs.py:5:21: F401 [*] `pathlib.Path` imported but unused
  |
3 | import os
4 | import subprocess
5 | from pathlib import Path
  |                     ^^^^ F401
6 | from typing import Dict, Any
  |
  = help: Remove unused import: `pathlib.Path`

coffeebreak/monitoring/logs.py:8:1: TID252 Prefer absolute imports over relative imports from parent modules
  |
6 | from typing import Dict, Any
7 |
8 | from ..utils.errors import ConfigurationError
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
  |
  = help: Replace relative imports from parent modules with absolute imports

coffeebreak/monitoring/logs.py:8:28: F401 [*] `..utils.errors.ConfigurationError` imported but unused
  |
6 | from typing import Dict, Any
7 |
8 | from ..utils.errors import ConfigurationError
  |                            ^^^^^^^^^^^^^^^^^^ F401
  |
  = help: Remove unused import: `..utils.errors.ConfigurationError`

coffeebreak/monitoring/logs.py:109:30: F541 [*] f-string without any placeholders
    |
107 |           try:
108 |               # Configure rsyslog for CoffeeBreak
109 |               rsyslog_config = f"""
    |  ______________________________^
110 | | # CoffeeBreak logging configuration
111 | | $ModLoad imudp
112 | | $UDPServerRun 514
113 | | $UDPServerAddress 127.0.0.1
114 | |
115 | | # CoffeeBreak application logs
116 | | :programname, isequal, "coffeebreak-api" /var/log/coffeebreak/api.log
117 | | :programname, isequal, "coffeebreak-frontend" /var/log/coffeebreak/frontend.log
118 | | :programname, isequal, "coffeebreak-events" /var/log/coffeebreak/events.log
119 | | :programname, isequal, "coffeebreak-health" /var/log/coffeebreak/health.log
120 | |
121 | | # Stop processing after CoffeeBreak logs
122 | | & stop
123 | | """
    | |___^ F541
124 |
125 |               # Write rsyslog configuration
    |
    = help: Remove extraneous `f` prefix

coffeebreak/monitoring/logs.py:170:1: W293 Blank line contains whitespace
    |
168 |     local pattern="$2"
169 |     local count="$3"
170 |     
    | ^^^^ W293
171 |     local subject="CoffeeBreak Log Alert: $pattern in $log_file"
172 |     local message="Found $count occurrences of '$pattern' in $log_file since last check"
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/logs.py:173:1: W293 Blank line contains whitespace
    |
171 |     local subject="CoffeeBreak Log Alert: $pattern in $log_file"
172 |     local message="Found $count occurrences of '$pattern' in $log_file since last check"
173 |     
    | ^^^^ W293
174 |     echo "$message" | logger -t coffeebreak-log-monitor
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/logs.py:175:1: W293 Blank line contains whitespace
    |
174 |     echo "$message" | logger -t coffeebreak-log-monitor
175 |     
    | ^^^^ W293
176 |     if command -v mail &> /dev/null && [ -n "$ALERT_EMAIL" ]; then
177 |         echo "$message" | mail -s "$subject" "$ALERT_EMAIL"
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/logs.py:194:1: W293 Blank line contains whitespace
    |
192 |                 }
193 |             ' "$log_file" | wc -l)
194 |             
    | ^^^^^^^^^^^^ W293
195 |             if [ "$count" -gt 0 ]; then
196 |                 send_alert "$(basename "$log_file")" "$pattern" "$count"
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/logs.py:225:13: E722 Do not use bare `except`
    |
223 |                     current_crontab.stdout if current_crontab.returncode == 0 else ""
224 |                 )
225 |             except:
    |             ^^^^^^ E722
226 |                 crontab_content = ""
    |

coffeebreak/monitoring/manager.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Production monitoring manager."""
 2 |
 3 | / import os
 4 | | import subprocess
 5 | | from datetime import datetime
 6 | | from pathlib import Path
 7 | | from typing import Dict, Any, List, Optional
 8 | | from jinja2 import Environment, FileSystemLoader
 9 | |
10 | | from ..utils.errors import ConfigurationError
11 | | from .metrics import MetricsCollector
12 | | from .logs import LogManager
13 | | from .alerts import AlertManager
   | |________________________________^ I001
   |
   = help: Organize imports

coffeebreak/monitoring/manager.py:5:22: F401 [*] `datetime.datetime` imported but unused
  |
3 | import os
4 | import subprocess
5 | from datetime import datetime
  |                      ^^^^^^^^ F401
6 | from pathlib import Path
7 | from typing import Dict, Any, List, Optional
  |
  = help: Remove unused import: `datetime.datetime`

coffeebreak/monitoring/manager.py:7:31: F401 [*] `typing.List` imported but unused
  |
5 | from datetime import datetime
6 | from pathlib import Path
7 | from typing import Dict, Any, List, Optional
  |                               ^^^^ F401
8 | from jinja2 import Environment, FileSystemLoader
  |
  = help: Remove unused import: `typing.List`

coffeebreak/monitoring/manager.py:10:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 8 | from jinja2 import Environment, FileSystemLoader
 9 |
10 | from ..utils.errors import ConfigurationError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
11 | from .metrics import MetricsCollector
12 | from .logs import LogManager
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/monitoring/manager.py:154:89: E501 Line too long (95 > 88)
    |
152 |                 else:
153 |                     print(
154 |                         f"Monitoring setup completed with {len(setup_result['errors'])} errors"
    |                                                                                         ^^^^^^^ E501
155 |                     )
    |

coffeebreak/monitoring/manager.py:160:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
159 |         except Exception as e:
160 |             raise ConfigurationError(f"Failed to setup monitoring: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
161 |
162 |     def _setup_grafana_dashboards(
    |

coffeebreak/monitoring/manager.py:171:17: F841 Local variable `grafana_config` is assigned to but never used
    |
169 |             if self.deployment_type == "docker":
170 |                 # Add Grafana to Docker Compose
171 |                 grafana_config = self._generate_grafana_docker_config(domain, config)
    |                 ^^^^^^^^^^^^^^ F841
172 |
173 |                 # Create Grafana configuration directory
    |
    = help: Remove assignment to unused variable `grafana_config`

coffeebreak/monitoring/manager.py:239:1: W293 Blank line contains whitespace
    |
237 |     local subject="$1"
238 |     local message="$2"
239 |     
    | ^^^^ W293
240 |     log_message "ALERT: $subject"
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/manager.py:241:1: W293 Blank line contains whitespace
    |
240 |     log_message "ALERT: $subject"
241 |     
    | ^^^^ W293
242 |     # Send email if mail is available
243 |     if command -v mail &> /dev/null; then
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/manager.py:246:1: W293 Blank line contains whitespace
    |
244 |         echo "$message" | mail -s "CoffeeBreak Alert: $subject" "$ALERT_EMAIL"
245 |     fi
246 |     
    | ^^^^ W293
247 |     # Log to syslog
248 |     logger -t coffeebreak-health "ALERT: $subject - $message"
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/manager.py:263:89: E501 Line too long (103 > 88)
    |
261 | check_ssl_expiry() {{
262 |     local expiry_days
263 |     expiry_days=$(echo | openssl s_client -servername "$DOMAIN" -connect "$DOMAIN:443" 2>/dev/null | \\
    |                                                                                         ^^^^^^^^^^^^^^^ E501
264 |                  openssl x509 -noout -dates | grep notAfter | cut -d= -f2 | \\
265 |                  xargs -I{{}} date -d{{}} +%s)
    |

coffeebreak/monitoring/manager.py:266:1: W293 Blank line contains whitespace
    |
264 |                  openssl x509 -noout -dates | grep notAfter | cut -d= -f2 | \\
265 |                  xargs -I{{}} date -d{{}} +%s)
266 |     
    | ^^^^ W293
267 |     if [ -n "$expiry_days" ]; then
268 |         local current_time=$(date +%s)
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/manager.py:270:1: W293 Blank line contains whitespace
    |
268 |         local current_time=$(date +%s)
269 |         local days_left=$(( (expiry_days - current_time) / 86400 ))
270 |         
    | ^^^^^^^^ W293
271 |         if [ "$days_left" -lt 30 ]; then
272 |             send_alert "SSL Certificate Expiring" "SSL certificate expires in $days_left days"
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/manager.py:272:89: E501 Line too long (94 > 88)
    |
271 |         if [ "$days_left" -lt 30 ]; then
272 |             send_alert "SSL Certificate Expiring" "SSL certificate expires in $days_left days"
    |                                                                                         ^^^^^^ E501
273 |         fi
274 |     fi
    |

coffeebreak/monitoring/manager.py:280:1: W293 Blank line contains whitespace
    |
278 | check_services() {{
279 |     local services=("nginx" "postgresql" "mongod" "rabbitmq-server" "redis-server")
280 |     
    | ^^^^ W293
281 |     for service in "${{services[@]}}"; do
282 |         if ! systemctl is-active --quiet "$service" 2>/dev/null; then
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/manager.py:292:1: W293 Blank line contains whitespace
    |
290 |     local usage
291 |     usage=$(df / | awk 'NR==2 {{print $5}}' | sed 's/%//')
292 |     
    | ^^^^ W293
293 |     if [ "$usage" -gt 85 ]; then
294 |         send_alert "High Disk Usage" "Disk usage is at $usage%"
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/manager.py:302:1: W293 Blank line contains whitespace
    |
300 |     local mem_usage
301 |     mem_usage=$(free | awk 'NR==2{{printf "%.0f", $3*100/$2 }}')
302 |     
    | ^^^^ W293
303 |     if [ "$mem_usage" -gt 90 ]; then
304 |         send_alert "High Memory Usage" "Memory usage is at $mem_usage%"
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/manager.py:311:1: W293 Blank line contains whitespace
    |
309 | main() {{
310 |     log_message "Starting health check"
311 |     
    | ^^^^ W293
312 |     local checks_passed=0
313 |     local total_checks=5
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/manager.py:314:1: W293 Blank line contains whitespace
    |
312 |     local checks_passed=0
313 |     local total_checks=5
314 |     
    | ^^^^ W293
315 |     check_https && ((checks_passed++))
316 |     check_ssl_expiry && ((checks_passed++))
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/manager.py:320:1: W293 Blank line contains whitespace
    |
318 |     check_disk_space && ((checks_passed++))
319 |     check_memory && ((checks_passed++))
320 |     
    | ^^^^ W293
321 |     log_message "Health check completed: $checks_passed/$total_checks checks passed"
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/manager.py:322:1: W293 Blank line contains whitespace
    |
321 |     log_message "Health check completed: $checks_passed/$total_checks checks passed"
322 |     
    | ^^^^ W293
323 |     if [ "$checks_passed" -eq "$total_checks" ]; then
324 |         exit 0
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/manager.py:356:13: E722 Do not use bare `except`
    |
354 |                     current_crontab.stdout if current_crontab.returncode == 0 else ""
355 |                 )
356 |             except:
    |             ^^^^^^ E722
357 |                 crontab_content = ""
    |

coffeebreak/monitoring/manager.py:397:89: E501 Line too long (106 > 88)
    |
395 |     if [ -f "$log_file" ]; then
396 |         # Compress logs older than 1 day
397 |         find "$(dirname "$log_file")" -name "$(basename "$log_file").*.gz" -mtime +$RETENTION_DAYS -delete
    |                                                                                         ^^^^^^^^^^^^^^^^^^ E501
398 |         
399 |         # Rotate current log
    |

coffeebreak/monitoring/manager.py:398:1: W293 Blank line contains whitespace
    |
396 |         # Compress logs older than 1 day
397 |         find "$(dirname "$log_file")" -name "$(basename "$log_file").*.gz" -mtime +$RETENTION_DAYS -delete
398 |         
    | ^^^^^^^^ W293
399 |         # Rotate current log
400 |         if [ -s "$log_file" ]; then
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/manager.py:405:1: W293 Blank line contains whitespace
    |
403 |             gzip "${{log_file}}.$timestamp"
404 |             touch "$log_file"
405 |             
    | ^^^^^^^^^^^^ W293
406 |             # Set appropriate permissions
407 |             chmod 644 "$log_file"
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/manager.py:433:1: W293 Blank line contains whitespace
    |
431 |     find "$METRICS_DIR" -name "*.db" -mtime +$RETENTION_DAYS -delete
432 |     find "$METRICS_DIR" -name "*.log" -mtime +$RETENTION_DAYS -delete
433 |     
    | ^^^^ W293
434 |     echo "Metrics cleanup completed at $(date)"
435 | fi
    |
    = help: Remove whitespace from blank line

coffeebreak/monitoring/manager.py:455:89: E501 Line too long (135 > 88)
    |
453 | …
454 | …
455 | …q-server" "redis-server" "coffeebreak-api" "coffeebreak-frontend" "coffeebreak-events")
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
456 | …
457 | …
    |

coffeebreak/monitoring/manager.py:490:89: E501 Line too long (113 > 88)
    |
488 | echo "Recent Errors (last 10):"
489 | echo "------------------------"
490 | journalctl -u coffeebreak-* --since "1 hour ago" --no-pager | grep -i error | tail -10 || echo "No recent errors"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^ E501
491 | """
    |

coffeebreak/monitoring/manager.py:572:89: E501 Line too long (115 > 88)
    |
570 |                         "targets": [
571 |                             {
572 |                                 "expr": "histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))",
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
573 |                                 "legendFormat": "95th percentile",
574 |                             }
    |

coffeebreak/monitoring/manager.py:648:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
647 |         except Exception as e:
648 |             raise ConfigurationError(f"Failed to install Grafana: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
649 |
650 |     def _configure_grafana_standalone(
    |

coffeebreak/monitoring/manager.py:677:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
676 |         except Exception as e:
677 |             raise ConfigurationError(f"Failed to configure Grafana: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
678 |
679 |     def _generate_password(self, length: int = 16) -> str:
    |

coffeebreak/monitoring/metrics.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Metrics collection system for production monitoring."""
2 |
3 | / import os
4 | | import subprocess
5 | | from pathlib import Path
6 | | from typing import Dict, Any
7 | | import yaml
8 | |
9 | | from ..utils.errors import ConfigurationError
  | |_____________________________________________^ I001
  |
  = help: Organize imports

coffeebreak/monitoring/metrics.py:3:8: F401 [*] `os` imported but unused
  |
1 | """Metrics collection system for production monitoring."""
2 |
3 | import os
  |        ^^ F401
4 | import subprocess
5 | from pathlib import Path
  |
  = help: Remove unused import: `os`

coffeebreak/monitoring/metrics.py:9:1: TID252 Prefer absolute imports over relative imports from parent modules
  |
7 | import yaml
8 |
9 | from ..utils.errors import ConfigurationError
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
  |
  = help: Replace relative imports from parent modules with absolute imports

coffeebreak/monitoring/metrics.py:175:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
174 |         except Exception as e:
175 |             raise ConfigurationError(f"Failed to install Node Exporter: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
    |

coffeebreak/plugins/__init__.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Plugin management for CoffeeBreak CLI."""
 2 |
 3 | / from .creator import PluginCreator
 4 | | from .builder import PluginBuilder
 5 | | from .validator import PluginValidator
 6 | | from .integration import PluginContainerIntegration
 7 | | from .hotreload import PluginHotReloadManager, PluginDevelopmentWorkflow
 8 | | from .dependencies import PluginDependencyManager
 9 | | from .testing import PluginTestFramework
10 | | from .documentation import PluginDocumentationGenerator
11 | | from .devtools import PluginDeveloperTools
   | |__________________________________________^ I001
12 |
13 |   __all__ = [
   |
   = help: Organize imports

coffeebreak/plugins/builder.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Plugin build system for CoffeeBreak CLI."""
 2 |
 3 | / import os
 4 | | import shutil
 5 | | import subprocess
 6 | | import zipapp
 7 | | import glob
 8 | | import importlib.util
 9 | | import sys
10 | | import tempfile
11 | | from typing import Dict, Any, List, Optional, Set
12 | | from pathlib import Path
13 | |
14 | | from ..utils.files import FileManager
15 | | from ..utils.errors import PluginError, CoffeeBreakError
16 | | from ..config.manager import ConfigManager
   | |__________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/plugins/builder.py:10:8: F401 [*] `tempfile` imported but unused
   |
 8 | import importlib.util
 9 | import sys
10 | import tempfile
   |        ^^^^^^^^ F401
11 | from typing import Dict, Any, List, Optional, Set
12 | from pathlib import Path
   |
   = help: Remove unused import: `tempfile`

coffeebreak/plugins/builder.py:12:21: F401 [*] `pathlib.Path` imported but unused
   |
10 | import tempfile
11 | from typing import Dict, Any, List, Optional, Set
12 | from pathlib import Path
   |                     ^^^^ F401
13 |
14 | from ..utils.files import FileManager
   |
   = help: Remove unused import: `pathlib.Path`

coffeebreak/plugins/builder.py:14:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
12 | from pathlib import Path
13 |
14 | from ..utils.files import FileManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
15 | from ..utils.errors import PluginError, CoffeeBreakError
16 | from ..config.manager import ConfigManager
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/builder.py:15:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
14 | from ..utils.files import FileManager
15 | from ..utils.errors import PluginError, CoffeeBreakError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
16 | from ..config.manager import ConfigManager
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/builder.py:15:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
14 | from ..utils.files import FileManager
15 | from ..utils.errors import PluginError, CoffeeBreakError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
16 | from ..config.manager import ConfigManager
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/builder.py:16:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
14 | from ..utils.files import FileManager
15 | from ..utils.errors import PluginError, CoffeeBreakError
16 | from ..config.manager import ConfigManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/builder.py:144:17: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
142 |                 raise
143 |             else:
144 |                 raise PluginError(f"Failed to build plugin: {e}")
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
145 |
146 |     def _load_plugin_config(self, plugin_dir: str) -> Dict[str, Any]:
    |

coffeebreak/plugins/builder.py:156:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
154 |             return self.config_manager.load_config_file(config_path)
155 |         except Exception as e:
156 |             raise PluginError(f"Failed to load plugin configuration: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
157 |
158 |     def _cleanup_build_dir(self, build_dir: str) -> None:
    |

coffeebreak/plugins/builder.py:264:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
263 |         except subprocess.CalledProcessError as e:
264 |             raise PluginError(f"Failed to install dependencies: {e.stderr}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
265 |
266 |     def _exclude_native_modules(
    |

coffeebreak/plugins/builder.py:306:13: B007 Loop control variable `root` not used within loop body
    |
304 |     def _has_native_extensions(self, module_path: str) -> bool:
305 |         """Check if module contains native extensions."""
306 |         for root, dirs, files in os.walk(module_path):
    |             ^^^^ B007
307 |             for file in files:
308 |                 # Native extension files
    |
    = help: Rename unused `root` to `_root`

coffeebreak/plugins/builder.py:306:19: B007 Loop control variable `dirs` not used within loop body
    |
304 |     def _has_native_extensions(self, module_path: str) -> bool:
305 |         """Check if module contains native extensions."""
306 |         for root, dirs, files in os.walk(module_path):
    |                   ^^^^ B007
307 |             for file in files:
308 |                 # Native extension files
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/builder.py:321:43: UP015 [*] Unnecessary mode argument
    |
319 |             if os.path.exists(wheel_file):
320 |                 try:
321 |                     with open(wheel_file, "r") as f:
    |                                           ^^^ UP015
322 |                         content = f.read()
323 |                         # Non-universal wheels likely have native code
    |
    = help: Remove mode argument

coffeebreak/plugins/builder.py:383:89: E501 Line too long (89 > 88)
    |
381 |                 source=build_dir,
382 |                 target=pyz_path,
383 |                 main=None,  # Plugin will be loaded by CoffeeBreak, not executed directly
    |                                                                                         ^ E501
384 |             )
    |

coffeebreak/plugins/builder.py:389:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
388 |         except Exception as e:
389 |             raise PluginError(f"Failed to create .pyz package: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
390 |
391 |     def _run_build_hooks(
    |

coffeebreak/plugins/builder.py:425:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
424 |         except subprocess.TimeoutExpired:
425 |             raise PluginError(f"{hook_type} hook timed out")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
426 |         except Exception as e:
427 |             raise PluginError(f"Failed to run {hook_type} hook: {e}")
    |

coffeebreak/plugins/builder.py:427:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
425 |             raise PluginError(f"{hook_type} hook timed out")
426 |         except Exception as e:
427 |             raise PluginError(f"Failed to run {hook_type} hook: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
428 |
429 |     def get_build_info(self, plugin_dir: str = ".") -> Dict[str, Any]:
    |

coffeebreak/plugins/builder.py:449:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
448 |         except Exception as e:
449 |             raise PluginError(f"Failed to get build info: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
450 |
451 |     def _estimate_build_size(self, plugin_dir: str) -> str:
    |

coffeebreak/plugins/builder.py:465:46: UP015 [*] Unnecessary mode argument
    |
463 |             if os.path.exists(requirements_file):
464 |                 # Rough estimate: 1MB per dependency line
465 |                 with open(requirements_file, "r") as f:
    |                                              ^^^ UP015
466 |                     lines = [
467 |                         line.strip()
    |
    = help: Remove mode argument

coffeebreak/plugins/builder.py:487:19: B007 Loop control variable `dirs` not used within loop body
    |
485 |         """Calculate total size of directory."""
486 |         total_size = 0
487 |         for root, dirs, files in os.walk(directory):
    |                   ^^^^ B007
488 |             for file in files:
489 |                 file_path = os.path.join(root, file)
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/builder.py:492:24: UP024 [*] Replace aliased errors with `OSError`
    |
490 |                 try:
491 |                     total_size += os.path.getsize(file_path)
492 |                 except (OSError, IOError):
    |                        ^^^^^^^^^^^^^^^^^^ UP024
493 |                     pass
494 |         return total_size
    |
    = help: Replace with builtin `OSError`

coffeebreak/plugins/creator.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Plugin creation and scaffolding for CoffeeBreak CLI."""
 2 |
 3 | / import os
 4 | | import shutil
 5 | | import tempfile
 6 | | from typing import Dict, Any, List, Optional
 7 | | from pathlib import Path
 8 | | from jinja2 import Environment, FileSystemLoader
 9 | |
10 | | from ..utils.files import FileManager
11 | | from ..utils.errors import PluginError, CoffeeBreakError
12 | | from ..config.manager import ConfigManager
   | |__________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/plugins/creator.py:5:8: F401 [*] `tempfile` imported but unused
  |
3 | import os
4 | import shutil
5 | import tempfile
  |        ^^^^^^^^ F401
6 | from typing import Dict, Any, List, Optional
7 | from pathlib import Path
  |
  = help: Remove unused import: `tempfile`

coffeebreak/plugins/creator.py:10:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 8 | from jinja2 import Environment, FileSystemLoader
 9 |
10 | from ..utils.files import FileManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
11 | from ..utils.errors import PluginError, CoffeeBreakError
12 | from ..config.manager import ConfigManager
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/creator.py:11:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
10 | from ..utils.files import FileManager
11 | from ..utils.errors import PluginError, CoffeeBreakError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
12 | from ..config.manager import ConfigManager
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/creator.py:11:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
10 | from ..utils.files import FileManager
11 | from ..utils.errors import PluginError, CoffeeBreakError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
12 | from ..config.manager import ConfigManager
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/creator.py:12:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
10 | from ..utils.files import FileManager
11 | from ..utils.errors import PluginError, CoffeeBreakError
12 | from ..config.manager import ConfigManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/creator.py:92:17: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
90 |                 raise
91 |             else:
92 |                 raise PluginError(f"Failed to create plugin '{name}': {e}")
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
93 |
94 |     def _validate_plugin_name(self, name: str) -> None:
   |

coffeebreak/plugins/creator.py:101:89: E501 Line too long (90 > 88)
    |
 99 |         if not name.replace("-", "_").replace("_", "").isalnum():
100 |             raise PluginError(
101 |                 "Plugin name must contain only letters, numbers, hyphens, and underscores"
    |                                                                                         ^^ E501
102 |             )
    |

coffeebreak/plugins/creator.py:134:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
133 |         except Exception as e:
134 |             raise PluginError(f"Failed to create plugin structure: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
135 |
136 |     def _copy_template_files(
    |

coffeebreak/plugins/creator.py:147:19: B007 Loop control variable `dirs` not used within loop body
    |
145 |         }
146 |
147 |         for root, dirs, files in os.walk(template_dir):
    |                   ^^^^ B007
148 |             # Calculate relative path from template root
149 |             rel_path = os.path.relpath(root, template_dir)
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/creator.py:181:33: UP015 [*] Unnecessary mode argument
    |
179 |         """Process a Jinja2 template file."""
180 |         try:
181 |             with open(src_file, "r", encoding="utf-8") as f:
    |                                 ^^^ UP015
182 |                 template_content = f.read()
    |
    = help: Remove mode argument

coffeebreak/plugins/creator.py:191:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
190 |         except Exception as e:
191 |             raise PluginError(f"Failed to process template file {src_file}: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
192 |
193 |     def _generate_plugin_manifest(self, name: str, plugin_dir: str, **kwargs) -> None:
    |

coffeebreak/plugins/creator.py:222:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
221 |         except Exception as e:
222 |             raise PluginError(f"Failed to generate plugin manifest: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
223 |
224 |     def _create_build_scripts(self, plugin_dir: str) -> None:
    |

coffeebreak/plugins/creator.py:347:1: W293 Blank line contains whitespace
    |
345 | class {name.replace("-", "_").title()}Plugin:
346 |     """Main plugin class."""
347 |     
    | ^^^^ W293
348 |     def __init__(self):
349 |         self.name = "{name}"
    |
    = help: Remove whitespace from blank line

coffeebreak/plugins/creator.py:351:1: W293 Blank line contains whitespace
    |
349 |         self.name = "{name}"
350 |         self.version = "{kwargs.get("version", "1.0.0")}"
351 |     
    | ^^^^ W293
352 |     def initialize(self):
353 |         """Initialize the plugin."""
    |
    = help: Remove whitespace from blank line

coffeebreak/plugins/creator.py:355:1: W293 Blank line contains whitespace
    |
353 |         """Initialize the plugin."""
354 |         print(f"Initializing {{self.name}} plugin v{{self.version}}")
355 |     
    | ^^^^ W293
356 |     def execute(self):
357 |         """Execute plugin functionality."""
    |
    = help: Remove whitespace from blank line

coffeebreak/plugins/creator.py:359:1: W293 Blank line contains whitespace
    |
357 |         """Execute plugin functionality."""
358 |         print(f"Executing {{self.name}} plugin")
359 |     
    | ^^^^ W293
360 |     def cleanup(self):
361 |         """Cleanup plugin resources."""
    |
    = help: Remove whitespace from blank line

coffeebreak/plugins/creator.py:423:89: E501 Line too long (107 > 88)
    |
421 |         if self.verbose:
422 |             print(
423 |                 f"Created plugin source files: __init__.py, {package_name}.py, requirements.txt, README.md"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^ E501
424 |             )
    |

coffeebreak/plugins/creator.py:459:38: UP015 [*] Unnecessary mode argument
    |
457 |                 import yaml
458 |
459 |                 with open(info_file, "r", encoding="utf-8") as f:
    |                                      ^^^ UP015
460 |                     template_info = yaml.safe_load(f)
461 |                     info.update(template_info)
    |
    = help: Remove mode argument

coffeebreak/plugins/dependencies.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Plugin dependency management for CoffeeBreak CLI."""
 2 |
 3 | / import os
 4 | | import json
 5 | | import subprocess
 6 | | import tempfile
 7 | | import shutil
 8 | | from typing import Dict, Any, List, Optional, Set
 9 | | from pathlib import Path
10 | |
11 | | from ..utils.errors import PluginError
12 | | from ..containers.manager import ContainerManager
   | |_________________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/plugins/dependencies.py:6:8: F401 [*] `tempfile` imported but unused
  |
4 | import json
5 | import subprocess
6 | import tempfile
  |        ^^^^^^^^ F401
7 | import shutil
8 | from typing import Dict, Any, List, Optional, Set
  |
  = help: Remove unused import: `tempfile`

coffeebreak/plugins/dependencies.py:7:8: F401 [*] `shutil` imported but unused
  |
5 | import subprocess
6 | import tempfile
7 | import shutil
  |        ^^^^^^ F401
8 | from typing import Dict, Any, List, Optional, Set
9 | from pathlib import Path
  |
  = help: Remove unused import: `shutil`

coffeebreak/plugins/dependencies.py:8:37: F401 [*] `typing.Optional` imported but unused
  |
6 | import tempfile
7 | import shutil
8 | from typing import Dict, Any, List, Optional, Set
  |                                     ^^^^^^^^ F401
9 | from pathlib import Path
  |
  = help: Remove unused import

coffeebreak/plugins/dependencies.py:8:47: F401 [*] `typing.Set` imported but unused
  |
6 | import tempfile
7 | import shutil
8 | from typing import Dict, Any, List, Optional, Set
  |                                               ^^^ F401
9 | from pathlib import Path
  |
  = help: Remove unused import

coffeebreak/plugins/dependencies.py:9:21: F401 [*] `pathlib.Path` imported but unused
   |
 7 | import shutil
 8 | from typing import Dict, Any, List, Optional, Set
 9 | from pathlib import Path
   |                     ^^^^ F401
10 |
11 | from ..utils.errors import PluginError
   |
   = help: Remove unused import: `pathlib.Path`

coffeebreak/plugins/dependencies.py:11:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 9 | from pathlib import Path
10 |
11 | from ..utils.errors import PluginError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
12 | from ..containers.manager import ContainerManager
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/dependencies.py:12:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
11 | from ..utils.errors import PluginError
12 | from ..containers.manager import ContainerManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/dependencies.py:16:89: E501 Line too long (91 > 88)
   |
15 | class PluginDependencyManager:
16 |     """Manages plugin dependencies including Python packages, npm modules, and services."""
   |                                                                                         ^^^ E501
17 |
18 |     def __init__(self, verbose: bool = False):
   |

coffeebreak/plugins/dependencies.py:44:13: TID252 Prefer absolute imports over relative imports from parent modules
   |
42 |                 raise PluginError(f"Plugin configuration not found: {config_path}")
43 |
44 |             from ..config.manager import ConfigManager
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
45 |
46 |             config_manager = ConfigManager()
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/dependencies.py:73:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
72 |         except Exception as e:
73 |             raise PluginError(f"Failed to analyze plugin dependencies: {e}")
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
74 |
75 |     def install_plugin_dependencies(
   |

coffeebreak/plugins/dependencies.py:152:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
151 |         except Exception as e:
152 |             raise PluginError(f"Failed to install plugin dependencies: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
153 |
154 |     def _analyze_python_dependencies(
    |

coffeebreak/plugins/dependencies.py:220:46: UP015 [*] Unnecessary mode argument
    |
219 |             try:
220 |                 with open(package_json_path, "r") as f:
    |                                              ^^^ UP015
221 |                     package_data = json.load(f)
    |
    = help: Remove mode argument

coffeebreak/plugins/dependencies.py:231:20: UP024 [*] Replace aliased errors with `OSError`
    |
229 |                     node_deps["node_version"] = package_data["engines"].get("node")
230 |
231 |             except (json.JSONDecodeError, IOError) as e:
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP024
232 |                 if self.verbose:
233 |                     print(f"Warning: Could not parse package.json: {e}")
    |
    = help: Replace with builtin `OSError`

coffeebreak/plugins/dependencies.py:295:42: UP015 [*] Unnecessary mode argument
    |
294 |         try:
295 |             with open(requirements_path, "r") as f:
    |                                          ^^^ UP015
296 |                 for line in f:
297 |                     line = line.strip()
    |
    = help: Remove mode argument

coffeebreak/plugins/dependencies.py:316:16: UP024 [*] Replace aliased errors with `OSError`
    |
314 |                             packages.append({"name": line, "version": "*"})
315 |
316 |         except IOError as e:
    |                ^^^^^^^ UP024
317 |             if self.verbose:
318 |                 print(f"Warning: Could not read requirements file: {e}")
    |
    = help: Replace `IOError` with builtin `OSError`

coffeebreak/plugins/dependencies.py:369:89: E501 Line too long (96 > 88)
    |
367 |         if len(node_deps) > 50:
368 |             recommendations.append(
369 |                 "Large number of Node.js dependencies - consider using yarn for faster installs"
    |                                                                                         ^^^^^^^^ E501
370 |             )
    |

coffeebreak/plugins/dependencies.py:376:89: E501 Line too long (93 > 88)
    |
374 |         if "postgres" in required_services and "mongodb" in required_services:
375 |             recommendations.append(
376 |                 "Multiple databases detected - consider using profiles for selective startup"
    |                                                                                         ^^^^^ E501
377 |             )
    |

coffeebreak/plugins/dependencies.py:461:89: E501 Line too long (94 > 88)
    |
459 |                     result["installed"] = True
460 |                     result["details"].append(
461 |                         f"Successfully installed Node.js dependencies using {package_manager}"
    |                                                                                         ^^^^^^ E501
462 |                     )
463 |                     result["packages_installed"] = list(
    |

coffeebreak/plugins/dependencies.py:498:17: TID252 Prefer absolute imports over relative imports from parent modules
    |
497 |                 # Use dependency manager to start services
498 |                 from ..containers.dependencies import DependencyManager
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
499 |                 from ..config.manager import ConfigManager
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/dependencies.py:498:17: I001 [*] Import block is un-sorted or un-formatted
    |
497 |                   # Use dependency manager to start services
498 | /                 from ..containers.dependencies import DependencyManager
499 | |                 from ..config.manager import ConfigManager
    | |__________________________________________________________^ I001
500 |
501 |                   config_manager = ConfigManager()
    |
    = help: Organize imports

coffeebreak/plugins/dependencies.py:499:17: TID252 Prefer absolute imports over relative imports from parent modules
    |
497 |                 # Use dependency manager to start services
498 |                 from ..containers.dependencies import DependencyManager
499 |                 from ..config.manager import ConfigManager
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
500 |
501 |                 config_manager = ConfigManager()
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/dependencies.py:558:89: E501 Line too long (92 > 88)
    |
556 |                         if pkg["name"].lower() in dev_packages:
557 |                             compatibility["warnings"].append(
558 |                                 f"Development package '{pkg['name']}' found in requirements"
    |                                                                                         ^^^^ E501
559 |                             )
    |

coffeebreak/plugins/dependencies.py:565:89: E501 Line too long (99 > 88)
    |
563 |             if service_deps["required"] and target_environment == "production":
564 |                 compatibility["issues"].append(
565 |                     "Plugin requires additional services - ensure they are available in production"
    |                                                                                         ^^^^^^^^^^^ E501
566 |                 )
    |

coffeebreak/plugins/dependencies.py:609:89: E501 Line too long (103 > 88)
    |
607 |                         f"- Requirements file: {python_deps['requirements_file']}",
608 |                         f"- Package count: {len(python_deps['packages'])}",
609 |                         f"- Virtual environment recommended: {python_deps['virtual_env_recommended']}",
    |                                                                                         ^^^^^^^^^^^^^^^ E501
610 |                     ]
611 |                 )
    |

coffeebreak/plugins/dependencies.py:632:89: E501 Line too long (102 > 88)
    |
630 |                         f"- Dependencies: {dep_count}",
631 |                         f"- Dev dependencies: {dev_dep_count}",
632 |                         f"- Node version requirement: {node_deps['node_version'] or 'Not specified'}",
    |                                                                                         ^^^^^^^^^^^^^^ E501
633 |                     ]
634 |                 )
    |

coffeebreak/plugins/dependencies.py:651:89: E501 Line too long (89 > 88)
    |
649 |                         f"- Required services: {', '.join(service_deps['required'])}",
650 |                         f"- Optional services: {', '.join(service_deps['optional'])}",
651 |                         f"- Recommended profiles: {', '.join(service_deps['profiles'])}",
    |                                                                                         ^ E501
652 |                     ]
653 |                 )
    |

coffeebreak/plugins/devtools.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Plugin developer tools for CoffeeBreak CLI."""
 2 |
 3 | / import os
 4 | | import subprocess
 5 | | import json
 6 | | import tempfile
 7 | | from typing import Dict, Any, List, Optional, Tuple
 8 | | from pathlib import Path
 9 | |
10 | | from ..utils.errors import PluginError
   | |______________________________________^ I001
   |
   = help: Organize imports

coffeebreak/plugins/devtools.py:6:8: F401 [*] `tempfile` imported but unused
  |
4 | import subprocess
5 | import json
6 | import tempfile
  |        ^^^^^^^^ F401
7 | from typing import Dict, Any, List, Optional, Tuple
8 | from pathlib import Path
  |
  = help: Remove unused import: `tempfile`

coffeebreak/plugins/devtools.py:7:47: F401 [*] `typing.Tuple` imported but unused
  |
5 | import json
6 | import tempfile
7 | from typing import Dict, Any, List, Optional, Tuple
  |                                               ^^^^^ F401
8 | from pathlib import Path
  |
  = help: Remove unused import: `typing.Tuple`

coffeebreak/plugins/devtools.py:8:21: F401 [*] `pathlib.Path` imported but unused
   |
 6 | import tempfile
 7 | from typing import Dict, Any, List, Optional, Tuple
 8 | from pathlib import Path
   |                     ^^^^ F401
 9 |
10 | from ..utils.errors import PluginError
   |
   = help: Remove unused import: `pathlib.Path`

coffeebreak/plugins/devtools.py:10:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 8 | from pathlib import Path
 9 |
10 | from ..utils.errors import PluginError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/devtools.py:134:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
133 |         except Exception as e:
134 |             raise PluginError(f"Failed to run quality assurance: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
135 |
136 |     def _detect_available_tools(self, plugin_dir: str) -> List[str]:
    |

coffeebreak/plugins/devtools.py:144:17: B007 Loop control variable `root` not used within loop body
    |
142 |         if os.path.exists(src_path):
143 |             python_files = []
144 |             for root, dirs, files in os.walk(src_path):
    |                 ^^^^ B007
145 |                 python_files.extend([f for f in files if f.endswith(".py")])
    |
    = help: Rename unused `root` to `_root`

coffeebreak/plugins/devtools.py:144:23: B007 Loop control variable `dirs` not used within loop body
    |
142 |         if os.path.exists(src_path):
143 |             python_files = []
144 |             for root, dirs, files in os.walk(src_path):
    |                       ^^^^ B007
145 |                 python_files.extend([f for f in files if f.endswith(".py")])
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/devtools.py:154:17: B007 Loop control variable `root` not used within loop body
    |
152 |         ts_files = []
153 |         if os.path.exists(src_path):
154 |             for root, dirs, files in os.walk(src_path):
    |                 ^^^^ B007
155 |                 js_files.extend([f for f in files if f.endswith((".js", ".jsx"))])
156 |                 ts_files.extend([f for f in files if f.endswith((".ts", ".tsx"))])
    |
    = help: Rename unused `root` to `_root`

coffeebreak/plugins/devtools.py:154:23: B007 Loop control variable `dirs` not used within loop body
    |
152 |         ts_files = []
153 |         if os.path.exists(src_path):
154 |             for root, dirs, files in os.walk(src_path):
    |                       ^^^^ B007
155 |                 js_files.extend([f for f in files if f.endswith((".js", ".jsx"))])
156 |                 ts_files.extend([f for f in files if f.endswith((".ts", ".tsx"))])
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/devtools.py:175:9: C901 `_run_linting` is too complex (24 > 15)
    |
173 |         return list(set(available_tools))  # Remove duplicates
174 |
175 |     def _run_linting(
    |         ^^^^^^^^^^^^ C901
176 |         self, plugin_dir: str, plugin_config: Dict[str, Any], fix_issues: bool
177 |     ) -> Dict[str, Any]:
    |

coffeebreak/plugins/devtools.py:202:19: B007 Loop control variable `dirs` not used within loop body
    |
200 |         # Python linting with flake8
201 |         python_files = []
202 |         for root, dirs, files in os.walk(src_path):
    |                   ^^^^ B007
203 |             python_files.extend(
204 |                 [os.path.join(root, f) for f in files if f.endswith(".py")]
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/devtools.py:283:13: B007 Loop control variable `root` not used within loop body
    |
281 |         js_files = []
282 |         ts_files = []
283 |         for root, dirs, files in os.walk(src_path):
    |             ^^^^ B007
284 |             js_files.extend([f for f in files if f.endswith((".js", ".jsx"))])
285 |             ts_files.extend([f for f in files if f.endswith((".ts", ".tsx"))])
    |
    = help: Rename unused `root` to `_root`

coffeebreak/plugins/devtools.py:283:19: B007 Loop control variable `dirs` not used within loop body
    |
281 |         js_files = []
282 |         ts_files = []
283 |         for root, dirs, files in os.walk(src_path):
    |                   ^^^^ B007
284 |             js_files.extend([f for f in files if f.endswith((".js", ".jsx"))])
285 |             ts_files.extend([f for f in files if f.endswith((".ts", ".tsx"))])
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/devtools.py:334:9: C901 `_run_formatting` is too complex (18 > 15)
    |
332 |         return result
333 |
334 |     def _run_formatting(
    |         ^^^^^^^^^^^^^^^ C901
335 |         self, plugin_dir: str, plugin_config: Dict[str, Any], fix_issues: bool
336 |     ) -> Dict[str, Any]:
    |

coffeebreak/plugins/devtools.py:352:19: B007 Loop control variable `dirs` not used within loop body
    |
350 |         # Python formatting with black
351 |         python_files = []
352 |         for root, dirs, files in os.walk(src_path):
    |                   ^^^^ B007
353 |             python_files.extend(
354 |                 [os.path.join(root, f) for f in files if f.endswith(".py")]
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/devtools.py:402:13: B007 Loop control variable `root` not used within loop body
    |
400 |         # JavaScript/TypeScript formatting with Prettier
401 |         js_ts_files = []
402 |         for root, dirs, files in os.walk(src_path):
    |             ^^^^ B007
403 |             js_ts_files.extend(
404 |                 [f for f in files if f.endswith((".js", ".jsx", ".ts", ".tsx"))]
    |
    = help: Rename unused `root` to `_root`

coffeebreak/plugins/devtools.py:402:19: B007 Loop control variable `dirs` not used within loop body
    |
400 |         # JavaScript/TypeScript formatting with Prettier
401 |         js_ts_files = []
402 |         for root, dirs, files in os.walk(src_path):
    |                   ^^^^ B007
403 |             js_ts_files.extend(
404 |                 [f for f in files if f.endswith((".js", ".jsx", ".ts", ".tsx"))]
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/devtools.py:463:17: B007 Loop control variable `root` not used within loop body
    |
461 |         if os.path.exists(src_path):
462 |             python_files = []
463 |             for root, dirs, files in os.walk(src_path):
    |                 ^^^^ B007
464 |                 python_files.extend([f for f in files if f.endswith(".py")])
    |
    = help: Rename unused `root` to `_root`

coffeebreak/plugins/devtools.py:463:23: B007 Loop control variable `dirs` not used within loop body
    |
461 |         if os.path.exists(src_path):
462 |             python_files = []
463 |             for root, dirs, files in os.walk(src_path):
    |                       ^^^^ B007
464 |                 python_files.extend([f for f in files if f.endswith(".py")])
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/devtools.py:551:17: B007 Loop control variable `root` not used within loop body
    |
549 |         if os.path.exists(src_path):
550 |             python_files = []
551 |             for root, dirs, files in os.walk(src_path):
    |                 ^^^^ B007
552 |                 python_files.extend([f for f in files if f.endswith(".py")])
    |
    = help: Rename unused `root` to `_root`

coffeebreak/plugins/devtools.py:551:23: B007 Loop control variable `dirs` not used within loop body
    |
549 |         if os.path.exists(src_path):
550 |             python_files = []
551 |             for root, dirs, files in os.walk(src_path):
    |                       ^^^^ B007
552 |                 python_files.extend([f for f in files if f.endswith(".py")])
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/devtools.py:585:89: E501 Line too long (89 > 88)
    |
583 |                 except FileNotFoundError:
584 |                     result["recommendations"].append(
585 |                         "Install bandit for Python security analysis: pip install bandit"
    |                                                                                         ^ E501
586 |                     )
    |

coffeebreak/plugins/devtools.py:611:89: E501 Line too long (115 > 88)
    |
609 | …                     ),
610 | …                     "type": "security",
611 | …                     "message": f"Vulnerability in {pkg_name}: {vuln_info.get('title', 'Unknown')}",
    |                                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
612 | …                     "file": "package.json",
613 | …                     "line": 0,
    |

coffeebreak/plugins/devtools.py:666:89: E501 Line too long (141 > 88)
    |
664 | …                     "severity": "low",
665 | …                     "type": "dependency",
666 | …                     "message": f"Package {package['name']} is outdated: {package['version']} -> {package['latest_version']}",
    |                                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
667 | …                     "file": "requirements.txt",
668 | …                     "line": 0,
    |

coffeebreak/plugins/devtools.py:701:89: E501 Line too long (119 > 88)
    |
699 | …                     "severity": "low",
700 | …                     "type": "dependency",
701 | …                     "message": f"Package {package} is outdated: {info['current']} -> {info['latest']}",
    |                                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
702 | …                     "file": "package.json",
703 | …                     "line": 0,
    |

coffeebreak/plugins/devtools.py:737:23: B007 Loop control variable `dirs` not used within loop body
    |
735 |             file_count = 0
736 |
737 |             for root, dirs, files in os.walk(src_path):
    |                       ^^^^ B007
738 |                 for file in files:
739 |                     file_path = os.path.join(root, file)
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/devtools.py:751:89: E501 Line too long (102 > 88)
    |
749 | …                     "severity": "medium",
750 | …                     "type": "performance",
751 | …                     "message": f"Large file detected: {file} ({file_size // 1024}KB)",
    |                                                                           ^^^^^^^^^^^^^^ E501
752 | …                     "file": os.path.relpath(file_path, plugin_dir),
753 | …                     "line": 0,
    |

coffeebreak/plugins/devtools.py:766:89: E501 Line too long (92 > 88)
    |
764 |                         "severity": "high",
765 |                         "type": "performance",
766 |                         "message": f"Plugin is very large: {total_size // (1024 * 1024)}MB",
    |                                                                                         ^^^^ E501
767 |                         "file": ".",
768 |                         "line": 0,
    |

coffeebreak/plugins/devtools.py:789:42: UP015 [*] Unnecessary mode argument
    |
787 |         requirements_path = os.path.join(plugin_dir, "requirements.txt")
788 |         if os.path.exists(requirements_path):
789 |             with open(requirements_path, "r") as f:
    |                                          ^^^ UP015
790 |                 requirements = f.read().lower()
    |
    = help: Remove mode argument

coffeebreak/plugins/devtools.py:803:89: E501 Line too long (107 > 88)
    |
801 |                     if package in requirements:
802 |                         result["recommendations"].append(
803 |                             f"Heavy dependency detected: {package}. Consider optimization or lazy loading."
    |                                                                                         ^^^^^^^^^^^^^^^^^^^ E501
804 |                         )
    |

coffeebreak/plugins/devtools.py:824:23: B007 Loop control variable `dirs` not used within loop body
    |
822 |         if os.path.exists(src_path):
823 |             python_files = []
824 |             for root, dirs, files in os.walk(src_path):
    |                       ^^^^ B007
825 |                 python_files.extend(
826 |                     [os.path.join(root, f) for f in files if f.endswith(".py")]
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/devtools.py:851:89: E501 Line too long (145 > 88)
    |
849 | …                     "severity": severity,
850 | …                     "type": "complexity",
851 | …                     "message": f"High complexity function: {func.get('name', 'unknown')} (complexity: {complexity})",
    |                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
852 | …                     "file": file_path,
853 | …                     "line": func.get("lineno", 0),
    |

coffeebreak/plugins/devtools.py:934:89: E501 Line too long (95 > 88)
    |
933 |                     lines.append(
934 |                         f"{severity_icon} **{issue['severity'].upper()}** - {issue['message']}"
    |                                                                                         ^^^^^^^ E501
935 |                     )
936 |                     if issue.get("file"):
    |

coffeebreak/plugins/devtools.py:1020:9: TID252 Prefer absolute imports over relative imports from parent modules
     |
1018 |         """Load plugin configuration."""
1019 |         config_path = os.path.join(plugin_dir, "coffeebreak-plugin.yml")
1020 |         from ..config.manager import ConfigManager
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
1021 |
1022 |         config_manager = ConfigManager()
     |
     = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/documentation.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Plugin documentation generation for CoffeeBreak CLI."""
 2 |
 3 | / import os
 4 | | import re
 5 | | import ast
 6 | | import json
 7 | | import tempfile
 8 | | from typing import Dict, Any, List, Optional, Set
 9 | | from pathlib import Path
10 | |
11 | | from ..utils.errors import PluginError
   | |______________________________________^ I001
   |
   = help: Organize imports

coffeebreak/plugins/documentation.py:7:8: F401 [*] `tempfile` imported but unused
  |
5 | import ast
6 | import json
7 | import tempfile
  |        ^^^^^^^^ F401
8 | from typing import Dict, Any, List, Optional, Set
9 | from pathlib import Path
  |
  = help: Remove unused import: `tempfile`

coffeebreak/plugins/documentation.py:8:47: F401 [*] `typing.Set` imported but unused
  |
6 | import json
7 | import tempfile
8 | from typing import Dict, Any, List, Optional, Set
  |                                               ^^^ F401
9 | from pathlib import Path
  |
  = help: Remove unused import: `typing.Set`

coffeebreak/plugins/documentation.py:9:21: F401 [*] `pathlib.Path` imported but unused
   |
 7 | import tempfile
 8 | from typing import Dict, Any, List, Optional, Set
 9 | from pathlib import Path
   |                     ^^^^ F401
10 |
11 | from ..utils.errors import PluginError
   |
   = help: Remove unused import: `pathlib.Path`

coffeebreak/plugins/documentation.py:11:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 9 | from pathlib import Path
10 |
11 | from ..utils.errors import PluginError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/documentation.py:133:89: E501 Line too long (99 > 88)
    |
131 |             if self.verbose:
132 |                 print(
133 |                     f"Documentation generation completed. Files: {len(results['generated_files'])}"
    |                                                                                         ^^^^^^^^^^^ E501
134 |                 )
    |

coffeebreak/plugins/documentation.py:139:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
138 |         except Exception as e:
139 |             raise PluginError(f"Failed to generate plugin documentation: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
140 |
141 |     def _extract_documentation_data(
    |

coffeebreak/plugins/documentation.py:160:23: B007 Loop control variable `dirs` not used within loop body
    |
158 |         src_path = os.path.join(plugin_dir, "src")
159 |         if os.path.exists(src_path):
160 |             for root, dirs, files in os.walk(src_path):
    |                       ^^^^ B007
161 |                 for file in files:
162 |                     file_path = os.path.join(root, file)
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/documentation.py:189:38: UP015 [*] Unnecessary mode argument
    |
187 |             file_path = os.path.join(plugin_dir, doc_file)
188 |             if os.path.exists(file_path):
189 |                 with open(file_path, "r", encoding="utf-8") as f:
    |                                      ^^^ UP015
190 |                     documentation_data["files"][doc_file] = f.read()
    |
    = help: Remove mode argument

coffeebreak/plugins/documentation.py:215:40: UP015 [*] Unnecessary mode argument
    |
213 |             readme_path = os.path.join(plugin_dir, "README.md")
214 |             if os.path.exists(readme_path):
215 |                 with open(readme_path, "r", encoding="utf-8") as f:
    |                                        ^^^ UP015
216 |                     content = f.read()
217 |                     # Extract first paragraph as description
    |
    = help: Remove mode argument

coffeebreak/plugins/documentation.py:244:42: UP015 [*] Unnecessary mode argument
    |
242 |         requirements_path = os.path.join(plugin_dir, "requirements.txt")
243 |         if os.path.exists(requirements_path):
244 |             with open(requirements_path, "r") as f:
    |                                          ^^^ UP015
245 |                 installation["requirements"] = [
246 |                     line.strip()
    |
    = help: Remove mode argument

coffeebreak/plugins/documentation.py:255:46: UP015 [*] Unnecessary mode argument
    |
253 |         if os.path.exists(package_json_path):
254 |             try:
255 |                 with open(package_json_path, "r") as f:
    |                                              ^^^ UP015
256 |                     package_data = json.load(f)
257 |                 installation["dependencies"]["node"] = {
    |
    = help: Remove mode argument

coffeebreak/plugins/documentation.py:261:20: UP024 [*] Replace aliased errors with `OSError`
    |
259 |                     "devDependencies": package_data.get("devDependencies", {}),
260 |                 }
261 |             except (json.JSONDecodeError, IOError):
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP024
262 |                 pass
    |
    = help: Replace with builtin `OSError`

coffeebreak/plugins/documentation.py:288:46: UP015 [*] Unnecessary mode argument
    |
286 |                     file_path = os.path.join(config_examples_path, file)
287 |                     try:
288 |                         with open(file_path, "r") as f:
    |                                              ^^^ UP015
289 |                             if file.endswith(".json"):
290 |                                 content = json.load(f)
    |
    = help: Remove mode argument

coffeebreak/plugins/documentation.py:292:33: TID252 Prefer absolute imports over relative imports from parent modules
    |
290 |                                 content = json.load(f)
291 |                             else:
292 |                                 from ..config.manager import ConfigManager
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
293 |
294 |                                 config_manager = ConfigManager()
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/documentation.py:336:34: UP015 [*] Unnecessary mode argument
    |
335 |         try:
336 |             with open(file_path, "r", encoding="utf-8") as f:
    |                                  ^^^ UP015
337 |                 content = f.read()
    |
    = help: Remove mode argument

coffeebreak/plugins/documentation.py:412:34: UP015 [*] Unnecessary mode argument
    |
411 |         try:
412 |             with open(file_path, "r", encoding="utf-8") as f:
    |                                  ^^^ UP015
413 |                 content = f.read()
    |
    = help: Remove mode argument

coffeebreak/plugins/documentation.py:419:13: F841 Local variable `jsdoc_matches` is assigned to but never used
    |
417 |             # Extract JSDoc comments
418 |             jsdoc_pattern = r"/\*\*\s*(.*?)\s*\*/"
419 |             jsdoc_matches = re.findall(jsdoc_pattern, content, re.DOTALL)
    |             ^^^^^^^^^^^^^ F841
420 |
421 |             # Extract function declarations
    |
    = help: Remove assignment to unused variable `jsdoc_matches`

coffeebreak/plugins/documentation.py:422:89: E501 Line too long (108 > 88)
    |
421 |             # Extract function declarations
422 |             func_pattern = r"(?:function\s+(\w+)|(?:const|let|var)\s+(\w+)\s*=\s*(?:function|\(.*?\)\s*=>))"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^ E501
423 |             func_matches = re.findall(func_pattern, content)
    |

coffeebreak/plugins/documentation.py:439:89: E501 Line too long (116 > 88)
    |
438 |             # Extract exports
439 |             export_pattern = r"export\s+(?:default\s+)?(?:function\s+(\w+)|class\s+(\w+)|(?:const|let|var)\s+(\w+))"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
440 |             export_matches = re.findall(export_pattern, content)
    |

coffeebreak/plugins/documentation.py:459:34: UP015 [*] Unnecessary mode argument
    |
458 |         try:
459 |             with open(file_path, "r", encoding="utf-8") as f:
    |                                  ^^^ UP015
460 |                 content = f.read()
    |
    = help: Remove mode argument

coffeebreak/plugins/documentation.py:497:34: UP015 [*] Unnecessary mode argument
    |
496 |         try:
497 |             with open(file_path, "r", encoding="utf-8") as f:
    |                                  ^^^ UP015
498 |                 content = f.read()
499 |                 docs["content"] = content
    |
    = help: Remove mode argument

coffeebreak/plugins/documentation.py:549:21: TID252 Prefer absolute imports over relative imports from parent modules
    |
547 |             if os.path.exists(spec_path):
548 |                 try:
549 |                     from ..config.manager import ConfigManager
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
550 |
551 |                     config_manager = ConfigManager()
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/documentation.py:597:46: UP015 [*] Unnecessary mode argument
    |
595 |                 if os.path.isfile(file_path):
596 |                     try:
597 |                         with open(file_path, "r", encoding="utf-8") as f:
    |                                              ^^^ UP015
598 |                             content = f.read()
    |
    = help: Remove mode argument

coffeebreak/plugins/documentation.py:625:9: C901 `_generate_markdown_docs` is too complex (21 > 15)
    |
623 |         return examples
624 |
625 |     def _generate_markdown_docs(
    |         ^^^^^^^^^^^^^^^^^^^^^^^ C901
626 |         self, documentation_data: Dict[str, Any], output_dir: str
627 |     ) -> str:
    |

coffeebreak/plugins/documentation.py:794:89: E501 Line too long (100 > 88)
    |
792 |     <title>{plugin_info["name"]} Documentation</title>
793 |     <style>
794 |         body {{ font-family: Arial, sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; }}
    |                                                                                         ^^^^^^^^^^^^ E501
795 |         .header {{ border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }}
796 |         .section {{ margin-bottom: 30px; }}
    |

coffeebreak/plugins/documentation.py:795:89: E501 Line too long (95 > 88)
    |
793 |     <style>
794 |         body {{ font-family: Arial, sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; }}
795 |         .header {{ border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }}
    |                                                                                         ^^^^^^^ E501
796 |         .section {{ margin-bottom: 30px; }}
797 |         .code {{ background-color: #f4f4f4; padding: 10px; border-radius: 5px; font-family: monospace; }}
    |

coffeebreak/plugins/documentation.py:797:89: E501 Line too long (105 > 88)
    |
795 |         .header {{ border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }}
796 |         .section {{ margin-bottom: 30px; }}
797 |         .code {{ background-color: #f4f4f4; padding: 10px; border-radius: 5px; font-family: monospace; }}
    |                                                                                         ^^^^^^^^^^^^^^^^^ E501
798 |         .toc {{ background-color: #f9f9f9; padding: 15px; border-radius: 5px; }}
799 |         .toc ul {{ list-style-type: none; padding-left: 20px; }}
    |

coffeebreak/plugins/documentation.py:800:89: E501 Line too long (102 > 88)
    |
798 |         .toc {{ background-color: #f9f9f9; padding: 15px; border-radius: 5px; }}
799 |         .toc ul {{ list-style-type: none; padding-left: 20px; }}
800 |         .api-endpoint {{ border: 1px solid #ddd; padding: 10px; margin: 10px 0; border-radius: 5px; }}
    |                                                                                         ^^^^^^^^^^^^^^ E501
801 |     </style>
802 | </head>
    |

coffeebreak/plugins/documentation.py:809:1: W293 Blank line contains whitespace
    |
807 |         <p>{overview.get("description", "No description available")}</p>
808 |     </div>
809 |     
    | ^^^^ W293
810 |     <div class="toc">
811 |         <h2>Table of Contents</h2>
    |
    = help: Remove whitespace from blank line

coffeebreak/plugins/documentation.py:824:25: F541 [*] f-string without any placeholders
    |
822 |           # Installation section
823 |           installation = documentation_data["installation"]
824 |           html_content += f"""
    |  _________________________^
825 | |     <div class="section" id="installation">
826 | |         <h2>Installation</h2>
827 | |         <h3>Requirements</h3>
828 | |         <ul>
829 | | """
    | |___^ F541
830 |
831 |           for req in installation.get("requirements", ["No specific requirements"]):
    |
    = help: Remove extraneous `f` prefix

coffeebreak/plugins/documentation.py:841:25: F541 [*] f-string without any placeholders
    |
839 |           # Configuration section
840 |           configuration = documentation_data["configuration"]
841 |           html_content += f"""
    |  _________________________^
842 | |     <div class="section" id="configuration">
843 | |         <h2>Configuration</h2>
844 | |         <h3>Configuration Schema</h3>
845 | | """
    | |___^ F541
846 |
847 |           if configuration["config_schema"]:
    |
    = help: Remove extraneous `f` prefix

coffeebreak/plugins/documentation.py:940:9: TID252 Prefer absolute imports over relative imports from parent modules
    |
938 |         """Load plugin configuration."""
939 |         config_path = os.path.join(plugin_dir, "coffeebreak-plugin.yml")
940 |         from ..config.manager import ConfigManager
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
941 |
942 |         config_manager = ConfigManager()
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/hotreload.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Plugin hot reload system for CoffeeBreak CLI."""
 2 |
 3 | / import os
 4 | | import time
 5 | | import threading
 6 | | import tempfile
 7 | | import shutil
 8 | | from typing import Dict, Any, List, Optional, Callable
 9 | | from pathlib import Path
10 | | from watchdog.observers import Observer
11 | | from watchdog.events import (
12 | |     FileSystemEventHandler,
13 | |     FileModifiedEvent,
14 | |     FileCreatedEvent,
15 | |     FileDeletedEvent,
16 | | )
17 | |
18 | | from ..utils.errors import PluginError
19 | | from .integration import PluginContainerIntegration
   | |___________________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/plugins/hotreload.py:7:8: F401 [*] `shutil` imported but unused
  |
5 | import threading
6 | import tempfile
7 | import shutil
  |        ^^^^^^ F401
8 | from typing import Dict, Any, List, Optional, Callable
9 | from pathlib import Path
  |
  = help: Remove unused import: `shutil`

coffeebreak/plugins/hotreload.py:8:37: F401 [*] `typing.Optional` imported but unused
   |
 6 | import tempfile
 7 | import shutil
 8 | from typing import Dict, Any, List, Optional, Callable
   |                                     ^^^^^^^^ F401
 9 | from pathlib import Path
10 | from watchdog.observers import Observer
   |
   = help: Remove unused import: `typing.Optional`

coffeebreak/plugins/hotreload.py:9:21: F401 [*] `pathlib.Path` imported but unused
   |
 7 | import shutil
 8 | from typing import Dict, Any, List, Optional, Callable
 9 | from pathlib import Path
   |                     ^^^^ F401
10 | from watchdog.observers import Observer
11 | from watchdog.events import (
   |
   = help: Remove unused import: `pathlib.Path`

coffeebreak/plugins/hotreload.py:18:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
16 | )
17 |
18 | from ..utils.errors import PluginError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
19 | from .integration import PluginContainerIntegration
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/hotreload.py:161:13: TID252 Prefer absolute imports over relative imports from parent modules
    |
159 |                 raise PluginError(f"Plugin configuration not found: {config_path}")
160 |
161 |             from ..config.manager import ConfigManager
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
162 |
163 |             config_manager = ConfigManager()
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/hotreload.py:202:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
201 |         except Exception as e:
202 |             raise PluginError(f"Failed to start hot reload: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
203 |
204 |     def stop_hot_reload(self, plugin_name: str) -> bool:
    |

coffeebreak/plugins/hotreload.py:290:13: TID252 Prefer absolute imports over relative imports from parent modules
    |
288 |         """Sync individual file to container."""
289 |         try:
290 |             from ..containers.manager import ContainerManager
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
291 |
292 |             container_manager = ContainerManager(verbose=self.verbose)
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/hotreload.py:349:13: TID252 Prefer absolute imports over relative imports from parent modules
    |
347 |         """Trigger plugin reload in core container."""
348 |         try:
349 |             from ..containers.manager import ContainerManager
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
350 |
351 |             container_manager = ContainerManager(verbose=self.verbose)
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/hotreload.py:358:1: W293 Blank line contains whitespace
    |
356 |                 # Create reload trigger file
357 |                 touch /opt/coffeebreak/plugins/.reload/{plugin_name}
358 |                 
    | ^^^^^^^^^^^^^^^^ W293
359 |                 # Try to send signal to core process (if available)
360 |                 pkill -USR1 -f "coffeebreak.*core" 2>/dev/null || true
    |
    = help: Remove whitespace from blank line

coffeebreak/plugins/hotreload.py:417:89: E501 Line too long (93 > 88)
    |
415 |             if self.verbose:
416 |                 print(
417 |                     f"Plugin development workflow active for '{setup_result['plugin_name']}'"
    |                                                                                         ^^^^^ E501
418 |                 )
    |

coffeebreak/plugins/hotreload.py:423:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
422 |         except Exception as e:
423 |             raise PluginError(f"Failed to start plugin development workflow: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
424 |
425 |     def stop_plugin_development(self, plugin_name: str) -> bool:
    |

coffeebreak/plugins/integration.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Plugin container integration for CoffeeBreak CLI."""
 2 |
 3 | / import os
 4 | | import tempfile
 5 | | import shutil
 6 | | from typing import Dict, Any, List, Optional
 7 | | from pathlib import Path
 8 | |
 9 | | from ..utils.errors import PluginError
10 | | from ..containers.manager import ContainerManager
11 | | from ..containers.compose import DockerComposeOrchestrator
12 | | from ..config.manager import ConfigManager
   | |__________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/plugins/integration.py:6:37: F401 [*] `typing.Optional` imported but unused
  |
4 | import tempfile
5 | import shutil
6 | from typing import Dict, Any, List, Optional
  |                                     ^^^^^^^^ F401
7 | from pathlib import Path
  |
  = help: Remove unused import: `typing.Optional`

coffeebreak/plugins/integration.py:7:21: F401 [*] `pathlib.Path` imported but unused
  |
5 | import shutil
6 | from typing import Dict, Any, List, Optional
7 | from pathlib import Path
  |                     ^^^^ F401
8 |
9 | from ..utils.errors import PluginError
  |
  = help: Remove unused import: `pathlib.Path`

coffeebreak/plugins/integration.py:9:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 7 | from pathlib import Path
 8 |
 9 | from ..utils.errors import PluginError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
10 | from ..containers.manager import ContainerManager
11 | from ..containers.compose import DockerComposeOrchestrator
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/integration.py:10:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 9 | from ..utils.errors import PluginError
10 | from ..containers.manager import ContainerManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
11 | from ..containers.compose import DockerComposeOrchestrator
12 | from ..config.manager import ConfigManager
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/integration.py:11:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 9 | from ..utils.errors import PluginError
10 | from ..containers.manager import ContainerManager
11 | from ..containers.compose import DockerComposeOrchestrator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
12 | from ..config.manager import ConfigManager
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/integration.py:12:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
10 | from ..containers.manager import ContainerManager
11 | from ..containers.compose import DockerComposeOrchestrator
12 | from ..config.manager import ConfigManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/integration.py:16:89: E501 Line too long (91 > 88)
   |
15 | class PluginContainerIntegration:
16 |     """Handles mounting and integrating plugins with running CoffeeBreak core instances."""
   |                                                                                         ^^^ E501
17 |
18 |     def __init__(self, verbose: bool = False):
   |

coffeebreak/plugins/integration.py:83:17: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
81 |                 raise
82 |             else:
83 |                 raise PluginError(f"Failed to mount plugin in development: {e}")
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
84 |
85 |     def unmount_plugin_from_development(
   |

coffeebreak/plugins/integration.py:101:89: E501 Line too long (93 > 88)
    |
 99 |             if self.verbose:
100 |                 print(
101 |                     f"Unmounting plugin '{plugin_name}' from container {core_container_name}"
    |                                                                                         ^^^^^ E501
102 |                 )
    |

coffeebreak/plugins/integration.py:122:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
121 |         except Exception as e:
122 |             raise PluginError(f"Failed to unmount plugin: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
123 |
124 |     def list_mounted_plugins(
    |

coffeebreak/plugins/integration.py:199:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
198 |         except Exception as e:
199 |             raise PluginError(f"Failed to setup plugin development environment: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
200 |
201 |     def _validate_plugin_directory(self, plugin_dir: str) -> bool:
    |

coffeebreak/plugins/integration.py:259:89: E501 Line too long (91 > 88)
    |
257 |         """Mount plugin volumes into container."""
258 |         try:
259 |             # Note: Docker doesn't support dynamic volume mounting after container creation
    |                                                                                         ^^^ E501
260 |             # For development, we'll copy files and set up file watching instead
    |

coffeebreak/plugins/integration.py:269:17: F841 Local variable `exec_result` is assigned to but never used
    |
268 |                 # Create container directory
269 |                 exec_result = container.exec_run(
    |                 ^^^^^^^^^^^ F841
270 |                     f"mkdir -p {os.path.dirname(container_path)}"
271 |                 )
    |
    = help: Remove assignment to unused variable `exec_result`

coffeebreak/plugins/integration.py:327:89: E501 Line too long (91 > 88)
    |
325 |                 if self.verbose:
326 |                     print(
327 |                         f"Warning: Failed to register plugin in core: {exec_result.output}"
    |                                                                                         ^^^ E501
328 |                     )
    |

coffeebreak/plugins/integration.py:342:13: F841 Local variable `exec_result` is assigned to but never used
    |
341 |             # Remove plugin registry entry
342 |             exec_result = container.exec_run(
    |             ^^^^^^^^^^^ F841
343 |                 ["rm", "-f", f"/opt/coffeebreak/plugins/.registry/{plugin_name}.json"]
344 |             )
    |
    = help: Remove assignment to unused variable `exec_result`

coffeebreak/plugins/integration.py:358:13: F841 Local variable `exec_result` is assigned to but never used
    |
357 |             # Remove plugin directory
358 |             exec_result = container.exec_run(
    |             ^^^^^^^^^^^ F841
359 |                 ["rm", "-rf", f"/opt/coffeebreak/plugins/{plugin_name}"]
360 |             )
    |
    = help: Remove assignment to unused variable `exec_result`

coffeebreak/plugins/integration.py:420:17: TID252 Prefer absolute imports over relative imports from parent modules
    |
419 |                 # Use dependency manager to start required services
420 |                 from ..containers.dependencies import DependencyManager
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
421 |
422 |                 dep_manager = DependencyManager(
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/integration.py:443:89: E501 Line too long (97 > 88)
    |
441 |             if self.verbose:
442 |                 print(
443 |                     f"Core container '{core_container_name}' not running, attempting to start..."
    |                                                                                         ^^^^^^^^^ E501
444 |                 )
    |

coffeebreak/plugins/integration.py:449:89: E501 Line too long (92 > 88)
    |
447 |             if self.compose_orchestrator.is_compose_available():
448 |                 # This would need a compose file that includes the core service
449 |                 # For now, just return the container name and let the user start it manually
    |                                                                                         ^^^^ E501
450 |                 pass
    |

coffeebreak/plugins/integration.py:458:89: E501 Line too long (89 > 88)
    |
456 |                 if self.verbose:
457 |                     print(
458 |                         f"Warning: Core container '{core_container_name}' is not running"
    |                                                                                         ^ E501
459 |                     )
460 |                     print(
    |

coffeebreak/plugins/integration.py:461:89: E501 Line too long (98 > 88)
    |
459 |                     )
460 |                     print(
461 |                         "You may need to start the CoffeeBreak core development environment first"
    |                                                                                         ^^^^^^^^^^ E501
462 |                     )
463 |                 return core_container_name  # Return name anyway for error handling
    |

coffeebreak/plugins/testing.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Plugin testing framework for CoffeeBreak CLI."""
 2 |
 3 | / import os
 4 | | import subprocess
 5 | | import tempfile
 6 | | import json
 7 | | from typing import Dict, Any, List, Optional, Tuple
 8 | | from pathlib import Path
 9 | |
10 | | from ..utils.errors import PluginError
   | |______________________________________^ I001
   |
   = help: Organize imports

coffeebreak/plugins/testing.py:5:8: F401 [*] `tempfile` imported but unused
  |
3 | import os
4 | import subprocess
5 | import tempfile
  |        ^^^^^^^^ F401
6 | import json
7 | from typing import Dict, Any, List, Optional, Tuple
  |
  = help: Remove unused import: `tempfile`

coffeebreak/plugins/testing.py:7:47: F401 [*] `typing.Tuple` imported but unused
  |
5 | import tempfile
6 | import json
7 | from typing import Dict, Any, List, Optional, Tuple
  |                                               ^^^^^ F401
8 | from pathlib import Path
  |
  = help: Remove unused import: `typing.Tuple`

coffeebreak/plugins/testing.py:8:21: F401 [*] `pathlib.Path` imported but unused
   |
 6 | import json
 7 | from typing import Dict, Any, List, Optional, Tuple
 8 | from pathlib import Path
   |                     ^^^^ F401
 9 |
10 | from ..utils.errors import PluginError
   |
   = help: Remove unused import: `pathlib.Path`

coffeebreak/plugins/testing.py:10:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 8 | from pathlib import Path
 9 |
10 | from ..utils.errors import PluginError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/testing.py:27:9: C901 `run_plugin_tests` is too complex (16 > 15)
   |
25 |         }
26 |
27 |     def run_plugin_tests(
   |         ^^^^^^^^^^^^^^^^ C901
28 |         self,
29 |         plugin_dir: str = ".",
   |

coffeebreak/plugins/testing.py:39:89: E501 Line too long (94 > 88)
   |
37 |         Args:
38 |             plugin_dir: Plugin directory to test
39 |             test_types: Specific test types to run (python, node, integration, lint, security)
   |                                                                                         ^^^^^^ E501
40 |             coverage: Whether to generate coverage reports
41 |             fail_fast: Whether to stop on first test failure
   |

coffeebreak/plugins/testing.py:148:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
147 |         except Exception as e:
148 |             raise PluginError(f"Failed to run plugin tests: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
149 |
150 |     def _detect_available_test_types(
    |

coffeebreak/plugins/testing.py:181:46: UP015 [*] Unnecessary mode argument
    |
179 |         if os.path.exists(package_json_path):
180 |             try:
181 |                 with open(package_json_path, "r") as f:
    |                                              ^^^ UP015
182 |                     package_data = json.load(f)
    |
    = help: Remove mode argument

coffeebreak/plugins/testing.py:189:20: UP024 [*] Replace aliased errors with `OSError`
    |
187 |                 ):
188 |                     available_tests.append("node")
189 |             except (json.JSONDecodeError, IOError):
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP024
190 |                 pass
    |
    = help: Replace with builtin `OSError`

coffeebreak/plugins/testing.py:266:44: UP015 [*] Unnecessary mode argument
    |
264 |             if os.path.exists(report_path):
265 |                 try:
266 |                     with open(report_path, "r") as f:
    |                                            ^^^ UP015
267 |                         test_report = json.load(f)
    |
    = help: Remove mode argument

coffeebreak/plugins/testing.py:284:24: UP024 [*] Replace aliased errors with `OSError`
    |
282 |                     os.remove(report_path)
283 |
284 |                 except (json.JSONDecodeError, IOError):
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP024
285 |                     result["details"].append("Could not parse test report")
286 |                     result["success"] = process_result.returncode == 0
    |
    = help: Replace with builtin `OSError`

coffeebreak/plugins/testing.py:299:50: UP015 [*] Unnecessary mode argument
    |
297 |                 if os.path.exists(coverage_path):
298 |                     try:
299 |                         with open(coverage_path, "r") as f:
    |                                                  ^^^ UP015
300 |                             coverage_data = json.load(f)
    |
    = help: Remove mode argument

coffeebreak/plugins/testing.py:317:28: UP024 [*] Replace aliased errors with `OSError`
    |
315 |                         os.remove(coverage_path)
316 |
317 |                     except (json.JSONDecodeError, IOError):
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP024
318 |                         result["details"].append("Could not parse coverage report")
    |
    = help: Replace with builtin `OSError`

coffeebreak/plugins/testing.py:389:54: UP015 [*] Unnecessary mode argument
    |
387 |                     if os.path.exists(coverage_path):
388 |                         try:
389 |                             with open(coverage_path, "r") as f:
    |                                                      ^^^ UP015
390 |                                 coverage_data = json.load(f)
    |
    = help: Remove mode argument

coffeebreak/plugins/testing.py:412:32: UP024 [*] Replace aliased errors with `OSError`
    |
410 |                             break
411 |
412 |                         except (json.JSONDecodeError, IOError):
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ UP024
413 |                             continue
    |
    = help: Replace with builtin `OSError`

coffeebreak/plugins/testing.py:416:38: F541 [*] f-string without any placeholders
    |
415 |         except FileNotFoundError:
416 |             result["details"].append(f"Package manager not found")
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F541
417 |         except Exception as e:
418 |             result["details"].append(f"Error running Node.js tests: {e}")
    |
    = help: Remove extraneous `f` prefix

coffeebreak/plugins/testing.py:476:9: C901 `_run_lint_tests` is too complex (16 > 15)
    |
474 |         return result
475 |
476 |     def _run_lint_tests(
    |         ^^^^^^^^^^^^^^^ C901
477 |         self, plugin_dir: str, plugin_config: Dict[str, Any], coverage: bool
478 |     ) -> Dict[str, Any]:
    |

coffeebreak/plugins/testing.py:496:23: B007 Loop control variable `dirs` not used within loop body
    |
494 |             # Python linting with flake8
495 |             python_files = []
496 |             for root, dirs, files in os.walk(src_path):
    |                       ^^^^ B007
497 |                 for file in files:
498 |                     if file.endswith(".py"):
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/testing.py:524:23: B007 Loop control variable `dirs` not used within loop body
    |
522 |             # JavaScript/TypeScript linting with eslint
523 |             js_files = []
524 |             for root, dirs, files in os.walk(src_path):
    |                       ^^^^ B007
525 |                 for file in files:
526 |                     if file.endswith((".js", ".jsx", ".ts", ".tsx")):
    |
    = help: Rename unused `dirs` to `_dirs`

coffeebreak/plugins/testing.py:602:89: E501 Line too long (103 > 88)
    |
600 | …                         result["success"] = False
601 | …                         result["details"].append(
602 | …                             f"Found {len(high_severity)} high-severity security issues"
    |                                                                           ^^^^^^^^^^^^^^^ E501
603 | …                         )
604 | …                     else:
    |

coffeebreak/plugins/testing.py:606:89: E501 Line too long (102 > 88)
    |
604 | …                         else:
605 | …                             result["details"].append(
606 | …                                 f"Found {len(vulnerabilities)} low/medium security issues"
    |                                                                               ^^^^^^^^^^^^^^ E501
607 | …                             )
608 | …                     else:
    |

coffeebreak/plugins/testing.py:646:89: E501 Line too long (94 > 88)
    |
644 | …                         result["success"] = False
645 | …                         result["details"].append(
646 | …                             f"Found {high_vuln} high/critical npm vulnerabilities"
    |                                                                               ^^^^^^ E501
647 | …                         )
648 | …                     else:
    |

coffeebreak/plugins/testing.py:650:89: E501 Line too long (102 > 88)
    |
648 | …                         else:
649 | …                             result["details"].append(
650 | …                                 f"Found {len(vulnerabilities)} low/medium npm vulnerabilities"
    |                                                                                   ^^^^^^^^^^^^^^ E501
651 | …                             )
652 | …                     else:
    |

coffeebreak/plugins/testing.py:677:9: TID252 Prefer absolute imports over relative imports from parent modules
    |
675 |         """Load plugin configuration."""
676 |         config_path = os.path.join(plugin_dir, "coffeebreak-plugin.yml")
677 |         from ..config.manager import ConfigManager
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
678 |
679 |         config_manager = ConfigManager()
    |
    = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/testing.py:730:89: E501 Line too long (105 > 88)
    |
728 |                 "<html><head><title>Plugin Test Report</title></head><body>",
729 |                 f"<h1>Test Report for {results['plugin_name']}</h1>",
730 |                 f"<p><strong>Overall Success:</strong> {'✓' if results['overall_success'] else '✗'}</p>",
    |                                                                                         ^^^^^^^^^^^^^^^^^ E501
731 |                 f"<p><strong>Execution Time:</strong> {results['execution_time']:.2f}s</p>",
732 |                 "<h2>Summary</h2>",
    |

coffeebreak/plugins/testing.py:731:89: E501 Line too long (92 > 88)
    |
729 |                 f"<h1>Test Report for {results['plugin_name']}</h1>",
730 |                 f"<p><strong>Overall Success:</strong> {'✓' if results['overall_success'] else '✗'}</p>",
731 |                 f"<p><strong>Execution Time:</strong> {results['execution_time']:.2f}s</p>",
    |                                                                                         ^^^^ E501
732 |                 "<h2>Summary</h2>",
733 |                 "<ul>",
    |

coffeebreak/plugins/validator.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Plugin validation for CoffeeBreak CLI."""
 2 |
 3 | / import os
 4 | | import re
 5 | | from typing import Dict, Any, List, Optional, Tuple
 6 | | from pathlib import Path
 7 | |
 8 | | from ..utils.errors import PluginError, ValidationError
 9 | | from ..config.manager import ConfigManager
10 | | from ..config.validator import ConfigValidator
   | |______________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/plugins/validator.py:5:37: F401 [*] `typing.Optional` imported but unused
  |
3 | import os
4 | import re
5 | from typing import Dict, Any, List, Optional, Tuple
  |                                     ^^^^^^^^ F401
6 | from pathlib import Path
  |
  = help: Remove unused import

coffeebreak/plugins/validator.py:5:47: F401 [*] `typing.Tuple` imported but unused
  |
3 | import os
4 | import re
5 | from typing import Dict, Any, List, Optional, Tuple
  |                                               ^^^^^ F401
6 | from pathlib import Path
  |
  = help: Remove unused import

coffeebreak/plugins/validator.py:8:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 6 | from pathlib import Path
 7 |
 8 | from ..utils.errors import PluginError, ValidationError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
 9 | from ..config.manager import ConfigManager
10 | from ..config.validator import ConfigValidator
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/validator.py:8:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 6 | from pathlib import Path
 7 |
 8 | from ..utils.errors import PluginError, ValidationError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
 9 | from ..config.manager import ConfigManager
10 | from ..config.validator import ConfigValidator
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/validator.py:8:28: F401 [*] `..utils.errors.PluginError` imported but unused
   |
 6 | from pathlib import Path
 7 |
 8 | from ..utils.errors import PluginError, ValidationError
   |                            ^^^^^^^^^^^ F401
 9 | from ..config.manager import ConfigManager
10 | from ..config.validator import ConfigValidator
   |
   = help: Remove unused import

coffeebreak/plugins/validator.py:8:41: F401 [*] `..utils.errors.ValidationError` imported but unused
   |
 6 | from pathlib import Path
 7 |
 8 | from ..utils.errors import PluginError, ValidationError
   |                                         ^^^^^^^^^^^^^^^ F401
 9 | from ..config.manager import ConfigManager
10 | from ..config.validator import ConfigValidator
   |
   = help: Remove unused import

coffeebreak/plugins/validator.py:9:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 8 | from ..utils.errors import PluginError, ValidationError
 9 | from ..config.manager import ConfigManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
10 | from ..config.validator import ConfigValidator
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/validator.py:10:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 8 | from ..utils.errors import PluginError, ValidationError
 9 | from ..config.manager import ConfigManager
10 | from ..config.validator import ConfigValidator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/plugins/validator.py:193:89: E501 Line too long (89 > 88)
    |
191 |         if not re.match(r"^[a-z0-9]+(-[a-z0-9]+)*$", name):
192 |             result["errors"].append(
193 |                 "Plugin name must contain only lowercase letters, numbers, and hyphens, "
    |                                                                                         ^ E501
194 |                 "and cannot start or end with hyphens"
195 |             )
    |

coffeebreak/plugins/validator.py:214:89: E501 Line too long (207 > 88)
    |
213 | …
214 | …\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$"
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
215 | …
216 | …
    |

coffeebreak/plugins/validator.py:282:36: UP015 [*] Unnecessary mode argument
    |
280 |         for py_file in python_files:
281 |             try:
282 |                 with open(py_file, "r", encoding="utf-8") as f:
    |                                    ^^^ UP015
283 |                     source = f.read()
    |
    = help: Remove mode argument

coffeebreak/plugins/validator.py:310:42: UP015 [*] Unnecessary mode argument
    |
309 |         try:
310 |             with open(requirements_file, "r", encoding="utf-8") as f:
    |                                          ^^^ UP015
311 |                 lines = f.readlines()
    |
    = help: Remove mode argument

coffeebreak/plugins/validator.py:373:89: E501 Line too long (97 > 88)
    |
371 |         if found_problematic:
372 |             result["warnings"].append(
373 |                 f"Dependencies with native extensions detected: {', '.join(found_problematic)}. "
    |                                                                                         ^^^^^^^^^ E501
374 |                 "These will be excluded from .pyz packaging."
375 |             )
    |

coffeebreak/plugins/validator.py:408:40: UP015 [*] Unnecessary mode argument
    |
406 |         if os.path.exists(readme_file):
407 |             try:
408 |                 with open(readme_file, "r", encoding="utf-8") as f:
    |                                        ^^^ UP015
409 |                     readme_content = f.read()
    |
    = help: Remove mode argument

coffeebreak/plugins/validator.py:423:89: E501 Line too long (96 > 88)
    |
421 |                 if missing_sections:
422 |                     result["warnings"].append(
423 |                         f"README.md missing recommended sections: {', '.join(missing_sections)}"
    |                                                                                         ^^^^^^^^ E501
424 |                     )
    |

coffeebreak/plugins/validator.py:450:40: UP015 [*] Unnecessary mode argument
    |
448 |             for py_file in python_files:
449 |                 try:
450 |                     with open(py_file, "r", encoding="utf-8") as f:
    |                                        ^^^ UP015
451 |                         content = f.read()
    |
    = help: Remove mode argument

coffeebreak/secrets/__init__.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Secrets management for CoffeeBreak production deployments."""
2 |
3 | / from .generator import SecretGenerator
4 | | from .manager import SecretManager
5 | | from .rotation import SecretRotationManager, RotationSchedule
  | |_____________________________________________________________^ I001
6 |
7 |   __all__ = [
  |
  = help: Organize imports

coffeebreak/secrets/generator.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Secure secret generation for CoffeeBreak production deployments."""
 2 |
 3 | / import os
 4 | | import secrets
 5 | | import string
 6 | | import base64
 7 | | import hashlib
 8 | | from typing import Dict, Any, Optional, List
 9 | | from cryptography.fernet import Fernet
10 | | from cryptography.hazmat.primitives import hashes
11 | | from cryptography.hazmat.primitives.kdf.pbkdf2 import PBKDF2HMAC
12 | |
13 | | from ..utils.errors import SecurityError
   | |________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/secrets/generator.py:3:8: F401 [*] `os` imported but unused
  |
1 | """Secure secret generation for CoffeeBreak production deployments."""
2 |
3 | import os
  |        ^^ F401
4 | import secrets
5 | import string
  |
  = help: Remove unused import: `os`

coffeebreak/secrets/generator.py:7:8: F401 [*] `hashlib` imported but unused
  |
5 | import string
6 | import base64
7 | import hashlib
  |        ^^^^^^^ F401
8 | from typing import Dict, Any, Optional, List
9 | from cryptography.fernet import Fernet
  |
  = help: Remove unused import: `hashlib`

coffeebreak/secrets/generator.py:8:31: F401 [*] `typing.Optional` imported but unused
   |
 6 | import base64
 7 | import hashlib
 8 | from typing import Dict, Any, Optional, List
   |                               ^^^^^^^^ F401
 9 | from cryptography.fernet import Fernet
10 | from cryptography.hazmat.primitives import hashes
   |
   = help: Remove unused import

coffeebreak/secrets/generator.py:8:41: F401 [*] `typing.List` imported but unused
   |
 6 | import base64
 7 | import hashlib
 8 | from typing import Dict, Any, Optional, List
   |                                         ^^^^ F401
 9 | from cryptography.fernet import Fernet
10 | from cryptography.hazmat.primitives import hashes
   |
   = help: Remove unused import

coffeebreak/secrets/generator.py:13:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
11 | from cryptography.hazmat.primitives.kdf.pbkdf2 import PBKDF2HMAC
12 |
13 | from ..utils.errors import SecurityError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/secrets/generator.py:40:89: E501 Line too long (89 > 88)
   |
38 |             length: Password length
39 |             include_symbols: Whether to include special symbols
40 |             exclude_ambiguous: Whether to exclude ambiguous characters (0, O, l, 1, etc.)
   |                                                                                         ^ E501
41 |
42 |         Returns:
   |

coffeebreak/secrets/generator.py:87:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
86 |         except Exception as e:
87 |             raise SecurityError(f"Failed to generate password: {e}")
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
88 |
89 |     def generate_api_key(self, length: int = 64) -> str:
   |

coffeebreak/secrets/generator.py:121:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
120 |         except Exception as e:
121 |             raise SecurityError(f"Failed to generate API key: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
122 |
123 |     def generate_secret_key(self, length: int = 128) -> str:
    |

coffeebreak/secrets/generator.py:144:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
143 |         except Exception as e:
144 |             raise SecurityError(f"Failed to generate secret key: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
145 |
146 |     def generate_session_secret(self) -> str:
    |

coffeebreak/secrets/generator.py:158:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
157 |         except Exception as e:
158 |             raise SecurityError(f"Failed to generate session secret: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
159 |
160 |     def generate_encryption_key(self) -> bytes:
    |

coffeebreak/secrets/generator.py:171:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
170 |         except Exception as e:
171 |             raise SecurityError(f"Failed to generate encryption key: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
172 |
173 |     def generate_salt(self, length: int = 32) -> str:
    |

coffeebreak/secrets/generator.py:188:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
187 |         except Exception as e:
188 |             raise SecurityError(f"Failed to generate salt: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
189 |
190 |     def generate_database_secrets(self) -> Dict[str, str]:
    |

coffeebreak/secrets/generator.py:213:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
212 |         except Exception as e:
213 |             raise SecurityError(f"Failed to generate database secrets: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
214 |
215 |     def generate_application_secrets(self) -> Dict[str, str]:
    |

coffeebreak/secrets/generator.py:238:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
237 |         except Exception as e:
238 |             raise SecurityError(f"Failed to generate application secrets: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
239 |
240 |     def generate_service_secrets(self) -> Dict[str, str]:
    |

coffeebreak/secrets/generator.py:268:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
267 |         except Exception as e:
268 |             raise SecurityError(f"Failed to generate service secrets: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
269 |
270 |     def generate_ssl_secrets(self) -> Dict[str, str]:
    |

coffeebreak/secrets/generator.py:290:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
289 |         except Exception as e:
290 |             raise SecurityError(f"Failed to generate SSL secrets: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
291 |
292 |     def generate_backup_secrets(self) -> Dict[str, str]:
    |

coffeebreak/secrets/generator.py:312:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
311 |         except Exception as e:
312 |             raise SecurityError(f"Failed to generate backup secrets: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
313 |
314 |     def generate_all_secrets(self) -> Dict[str, str]:
    |

coffeebreak/secrets/generator.py:340:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
339 |         except Exception as e:
340 |             raise SecurityError(f"Failed to generate all secrets: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
341 |
342 |     def validate_secret_strength(
    |

coffeebreak/secrets/generator.py:415:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
414 |         except Exception as e:
415 |             raise SecurityError(f"Failed to validate secret strength: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
416 |
417 |     def derive_key_from_password(
    |

coffeebreak/secrets/generator.py:442:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
441 |         except Exception as e:
442 |             raise SecurityError(f"Failed to derive key from password: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
443 |
444 |     def generate_secure_filename(self, extension: str = "") -> str:
    |

coffeebreak/secrets/generator.py:466:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
465 |         except Exception as e:
466 |             raise SecurityError(f"Failed to generate secure filename: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
467 |
468 |     def generate_nonce(self, length: int = 16) -> str:
    |

coffeebreak/secrets/generator.py:482:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
481 |         except Exception as e:
482 |             raise SecurityError(f"Failed to generate nonce: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
    |

coffeebreak/secrets/manager.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Secure secret management for CoffeeBreak production deployments."""
 2 |
 3 | / import os
 4 | | import json
 5 | | import tempfile
 6 | | import subprocess
 7 | | from typing import Dict, Any, Optional, List
 8 | | from pathlib import Path
 9 | | from cryptography.fernet import Fernet
10 | |
11 | | from ..utils.errors import SecurityError
12 | | from .generator import SecretGenerator
   | |______________________________________^ I001
   |
   = help: Organize imports

coffeebreak/secrets/manager.py:11:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 9 | from cryptography.fernet import Fernet
10 |
11 | from ..utils.errors import SecurityError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
12 | from .generator import SecretGenerator
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/secrets/manager.py:16:89: E501 Line too long (93 > 88)
   |
15 | class SecretManager:
16 |     """Manages secrets for production deployments using Docker Secrets or encrypted files."""
   |                                                                                         ^^^^^ E501
17 |
18 |     def __init__(
   |

coffeebreak/secrets/manager.py:89:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
88 |         except subprocess.FileNotFoundError:
89 |             raise SecurityError("Docker is not available for secret management")
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
90 |         except Exception as e:
91 |             raise SecurityError(f"Failed to create Docker secret {name}: {e}")
   |

coffeebreak/secrets/manager.py:91:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
89 |             raise SecurityError("Docker is not available for secret management")
90 |         except Exception as e:
91 |             raise SecurityError(f"Failed to create Docker secret {name}: {e}")
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
92 |
93 |     def update_docker_secret(self, name: str, value: str) -> bool:
   |

coffeebreak/secrets/manager.py:117:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
116 |         except Exception as e:
117 |             raise SecurityError(f"Failed to update Docker secret {name}: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
118 |
119 |     def remove_docker_secret(self, name: str) -> bool:
    |

coffeebreak/secrets/manager.py:152:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
151 |         except Exception as e:
152 |             raise SecurityError(f"Failed to remove Docker secret {name}: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
153 |
154 |     def list_docker_secrets(self) -> List[str]:
    |

coffeebreak/secrets/manager.py:177:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
176 |         except subprocess.FileNotFoundError:
177 |             raise SecurityError("Docker is not available for secret management")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
178 |         except Exception as e:
179 |             raise SecurityError(f"Failed to list Docker secrets: {e}")
    |

coffeebreak/secrets/manager.py:179:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
177 |             raise SecurityError("Docker is not available for secret management")
178 |         except Exception as e:
179 |             raise SecurityError(f"Failed to list Docker secrets: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
180 |
181 |     def save_encrypted_secret(self, name: str, value: str, secrets_dir: str) -> str:
    |

coffeebreak/secrets/manager.py:220:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
219 |         except Exception as e:
220 |             raise SecurityError(f"Failed to save encrypted secret {name}: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
221 |
222 |     def load_encrypted_secret(self, name: str, secrets_dir: str) -> str:
    |

coffeebreak/secrets/manager.py:252:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
251 |         except Exception as e:
252 |             raise SecurityError(f"Failed to load encrypted secret {name}: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
253 |
254 |     def save_plain_secret(self, name: str, value: str, secrets_dir: str) -> str:
    |

coffeebreak/secrets/manager.py:287:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
286 |         except Exception as e:
287 |             raise SecurityError(f"Failed to save plain secret {name}: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
288 |
289 |     def deploy_all_secrets(
    |

coffeebreak/secrets/manager.py:305:89: E501 Line too long (93 > 88)
    |
303 |             if self.verbose:
304 |                 print(
305 |                     f"Deploying {len(secrets)} secrets for {self.deployment_type} deployment"
    |                                                                                         ^^^^^ E501
306 |                 )
    |

coffeebreak/secrets/manager.py:350:89: E501 Line too long (103 > 88)
    |
348 |             if self.verbose:
349 |                 print(
350 |                     f"Successfully deployed {results['successful']}/{results['total_secrets']} secrets"
    |                                                                                         ^^^^^^^^^^^^^^^ E501
351 |                 )
352 |                 if results["failed"] > 0:
    |

coffeebreak/secrets/manager.py:358:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
357 |         except Exception as e:
358 |             raise SecurityError(f"Failed to deploy secrets: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
359 |
360 |     def rotate_secret(
    |

coffeebreak/secrets/manager.py:403:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
402 |         except Exception as e:
403 |             raise SecurityError(f"Failed to rotate secret {name}: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
404 |
405 |     def rotate_all_secrets(
    |

coffeebreak/secrets/manager.py:435:89: E501 Line too long (90 > 88)
    |
433 |             if self.verbose:
434 |                 print(
435 |                     f"Successfully rotated {len(new_secrets)}/{len(secret_names)} secrets"
    |                                                                                         ^^ E501
436 |                 )
    |

coffeebreak/secrets/manager.py:441:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
440 |         except Exception as e:
441 |             raise SecurityError(f"Failed to rotate secrets: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
442 |
443 |     def backup_secrets(
    |

coffeebreak/secrets/manager.py:498:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
497 |         except Exception as e:
498 |             raise SecurityError(f"Failed to backup secrets: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
499 |
500 |     def validate_secrets_deployment(
    |

coffeebreak/secrets/manager.py:569:89: E501 Line too long (98 > 88)
    |
567 |             if self.verbose:
568 |                 print(
569 |                     f"Found {validation['found']}/{validation['total_required']} required secrets"
    |                                                                                         ^^^^^^^^^^ E501
570 |                 )
571 |                 if validation["missing"]:
    |

coffeebreak/secrets/manager.py:577:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
576 |         except Exception as e:
577 |             raise SecurityError(f"Failed to validate secrets deployment: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
    |

coffeebreak/secrets/rotation.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Secret rotation automation for CoffeeBreak production deployments."""
 2 |
 3 | / import os
 4 | | import json
 5 | | import time
 6 | | from datetime import datetime, timedelta
 7 | | from typing import Dict, Any, List, Optional, Callable
 8 | | from dataclasses import dataclass
 9 | | from pathlib import Path
10 | |
11 | | from ..utils.errors import SecurityError
12 | | from .manager import SecretManager
13 | | from .generator import SecretGenerator
   | |______________________________________^ I001
   |
   = help: Organize imports

coffeebreak/secrets/rotation.py:9:21: F401 [*] `pathlib.Path` imported but unused
   |
 7 | from typing import Dict, Any, List, Optional, Callable
 8 | from dataclasses import dataclass
 9 | from pathlib import Path
   |                     ^^^^ F401
10 |
11 | from ..utils.errors import SecurityError
   |
   = help: Remove unused import: `pathlib.Path`

coffeebreak/secrets/rotation.py:11:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 9 | from pathlib import Path
10 |
11 | from ..utils.errors import SecurityError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
12 | from .manager import SecretManager
13 | from .generator import SecretGenerator
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/secrets/rotation.py:100:45: UP015 [*] Unnecessary mode argument
    |
 98 |         try:
 99 |             if os.path.exists(self.config_file):
100 |                 with open(self.config_file, "r") as f:
    |                                             ^^^ UP015
101 |                     config_data = json.load(f)
    |
    = help: Remove mode argument

coffeebreak/secrets/rotation.py:172:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
171 |         except Exception as e:
172 |             raise SecurityError(f"Failed to save rotation schedules: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
173 |
174 |     def add_rotation_hook(self, hook: Callable, phase: str = "post") -> None:
    |

coffeebreak/secrets/rotation.py:243:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
242 |           except Exception as e:
243 | /             raise SecurityError(
244 | |                 f"Failed to update rotation schedule for {secret_name}: {e}"
245 | |             )
    | |_____________^ B904
246 |
247 |       def get_secrets_due_for_rotation(self) -> List[RotationSchedule]:
    |

coffeebreak/secrets/rotation.py:282:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
281 |         except Exception as e:
282 |             raise SecurityError(f"Failed to get secrets due for rotation: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
283 |
284 |     def rotate_secret(self, secret_name: str, force: bool = False) -> Dict[str, Any]:
    |

coffeebreak/secrets/rotation.py:284:9: C901 `rotate_secret` is too complex (18 > 15)
    |
282 |             raise SecurityError(f"Failed to get secrets due for rotation: {e}")
283 |
284 |     def rotate_secret(self, secret_name: str, force: bool = False) -> Dict[str, Any]:
    |         ^^^^^^^^^^^^^ C901
285 |         """
286 |         Rotate a single secret.
    |

coffeebreak/secrets/rotation.py:313:89: E501 Line too long (107 > 88)
    |
311 |                     time_until_due = schedule.next_rotation - datetime.now()
312 |                     raise SecurityError(
313 |                         f"Secret {secret_name} is not due for rotation (due in {time_until_due.days} days)"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^ E501
314 |                     )
    |

coffeebreak/secrets/rotation.py:345:17: E722 Do not use bare `except`
    |
343 |                         )
344 |                         rotation_result["old_value_length"] = len(old_value)
345 |                 except:
    |                 ^^^^^^ E722
346 |                     pass  # Old value not available, continue
    |

coffeebreak/secrets/rotation.py:386:17: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
384 |                 raise
385 |             else:
386 |                 raise SecurityError(f"Failed to rotate secret {secret_name}: {e}")
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
387 |
388 |     def rotate_due_secrets(self, max_rotations: int = 5) -> List[Dict[str, Any]]:
    |

coffeebreak/secrets/rotation.py:436:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
435 |         except Exception as e:
436 |             raise SecurityError(f"Failed to rotate due secrets: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
437 |
438 |     def emergency_rotation(
    |

coffeebreak/secrets/rotation.py:482:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
481 |         except Exception as e:
482 |             raise SecurityError(f"Failed to perform emergency rotation: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
483 |
484 |     def _log_emergency_rotation(
    |

coffeebreak/secrets/rotation.py:579:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
578 |         except Exception as e:
579 |             raise SecurityError(f"Failed to get rotation status: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
580 |
581 |     def disable_rotation(self, secret_name: str) -> None:
    |

coffeebreak/secrets/rotation.py:599:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
598 |         except Exception as e:
599 |             raise SecurityError(f"Failed to disable rotation for {secret_name}: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
600 |
601 |     def enable_rotation(self, secret_name: str) -> None:
    |

coffeebreak/secrets/rotation.py:625:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
624 |         except Exception as e:
625 |             raise SecurityError(f"Failed to enable rotation for {secret_name}: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
    |

coffeebreak/ssl/__init__.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """SSL certificate management for CoffeeBreak production deployments."""
2 |
3 | / from .manager import SSLManager
4 | | from .letsencrypt import LetsEncryptManager
  | |___________________________________________^ I001
5 |
6 |   __all__ = ["SSLManager", "LetsEncryptManager"]
  |
  = help: Organize imports

coffeebreak/ssl/letsencrypt.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Let's Encrypt integration for automated SSL certificates."""
 2 |
 3 | / import os
 4 | | import subprocess
 5 | | import json
 6 | | import time
 7 | | from datetime import datetime, timedelta
 8 | | from pathlib import Path
 9 | | from typing import Dict, Any, Optional, List
10 | |
11 | | from ..utils.errors import SSLError
12 | | from .manager import SSLManager
   | |_______________________________^ I001
   |
   = help: Organize imports

coffeebreak/ssl/letsencrypt.py:5:8: F401 [*] `json` imported but unused
  |
3 | import os
4 | import subprocess
5 | import json
  |        ^^^^ F401
6 | import time
7 | from datetime import datetime, timedelta
  |
  = help: Remove unused import: `json`

coffeebreak/ssl/letsencrypt.py:6:8: F401 [*] `time` imported but unused
  |
4 | import subprocess
5 | import json
6 | import time
  |        ^^^^ F401
7 | from datetime import datetime, timedelta
8 | from pathlib import Path
  |
  = help: Remove unused import: `time`

coffeebreak/ssl/letsencrypt.py:7:32: F401 [*] `datetime.timedelta` imported but unused
  |
5 | import json
6 | import time
7 | from datetime import datetime, timedelta
  |                                ^^^^^^^^^ F401
8 | from pathlib import Path
9 | from typing import Dict, Any, Optional, List
  |
  = help: Remove unused import: `datetime.timedelta`

coffeebreak/ssl/letsencrypt.py:8:21: F401 [*] `pathlib.Path` imported but unused
  |
6 | import time
7 | from datetime import datetime, timedelta
8 | from pathlib import Path
  |                     ^^^^ F401
9 | from typing import Dict, Any, Optional, List
  |
  = help: Remove unused import: `pathlib.Path`

coffeebreak/ssl/letsencrypt.py:11:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 9 | from typing import Dict, Any, Optional, List
10 |
11 | from ..utils.errors import SSLError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
12 | from .manager import SSLManager
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/ssl/letsencrypt.py:88:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
87 |         except Exception as e:
88 |             raise SSLError(f"Failed to install certbot: {e}")
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
89 |
90 |     def obtain_certificate(
   |

coffeebreak/ssl/letsencrypt.py:185:17: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
183 |                 raise
184 |             else:
185 |                 raise SSLError(f"Failed to obtain certificate: {e}")
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
186 |
187 |     def renew_certificate(
    |

coffeebreak/ssl/letsencrypt.py:232:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
231 |         except Exception as e:
232 |             raise SSLError(f"Failed to renew certificate: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
233 |
234 |     def list_certificates(self) -> List[Dict[str, Any]]:
    |

coffeebreak/ssl/letsencrypt.py:289:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
288 |         except Exception as e:
289 |             raise SSLError(f"Failed to list certificates: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
290 |
291 |     def revoke_certificate(self, domain: str, reason: str = "unspecified") -> bool:
    |

coffeebreak/ssl/letsencrypt.py:326:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
325 |         except Exception as e:
326 |             raise SSLError(f"Failed to revoke certificate: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
327 |
328 |     def setup_auto_renewal(self, renewal_frequency: str = "twice-daily") -> bool:
    |

coffeebreak/ssl/letsencrypt.py:388:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
387 |         except Exception as e:
388 |             raise SSLError(f"Failed to setup auto renewal: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
389 |
390 |     def test_renewal(self, domain: Optional[str] = None) -> bool:
    |

coffeebreak/ssl/letsencrypt.py:507:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
506 |         except Exception as e:
507 |             raise SSLError(f"Failed to cleanup expired certificates: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
    |

coffeebreak/ssl/manager.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """SSL certificate management for production deployments."""
 2 |
 3 | / import os
 4 | | import shutil
 5 | | import subprocess
 6 | | from datetime import datetime, timedelta
 7 | | from pathlib import Path
 8 | | from typing import Dict, Any, Optional, List
 9 | | from cryptography import x509
10 | | from cryptography.x509.oid import NameOID
11 | | from cryptography.hazmat.primitives import hashes, serialization
12 | | from cryptography.hazmat.primitives.asymmetric import rsa
13 | |
14 | | from ..utils.errors import SSLError
   | |___________________________________^ I001
   |
   = help: Organize imports

coffeebreak/ssl/manager.py:5:8: F401 [*] `subprocess` imported but unused
  |
3 | import os
4 | import shutil
5 | import subprocess
  |        ^^^^^^^^^^ F401
6 | from datetime import datetime, timedelta
7 | from pathlib import Path
  |
  = help: Remove unused import: `subprocess`

coffeebreak/ssl/manager.py:8:41: F401 [*] `typing.List` imported but unused
   |
 6 | from datetime import datetime, timedelta
 7 | from pathlib import Path
 8 | from typing import Dict, Any, Optional, List
   |                                         ^^^^ F401
 9 | from cryptography import x509
10 | from cryptography.x509.oid import NameOID
   |
   = help: Remove unused import: `typing.List`

coffeebreak/ssl/manager.py:14:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
12 | from cryptography.hazmat.primitives.asymmetric import rsa
13 |
14 | from ..utils.errors import SSLError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/ssl/manager.py:24:9: C901 `validate_certificate` is too complex (18 > 15)
   |
22 |         self.verbose = verbose
23 |
24 |     def validate_certificate(
   |         ^^^^^^^^^^^^^^^^^^^^ C901
25 |         self, cert_path: str, key_path: str, domain: str
26 |     ) -> Dict[str, Any]:
   |

coffeebreak/ssl/manager.py:170:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
169 |         except Exception as e:
170 |             raise SSLError(f"Failed to validate certificate: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
171 |
172 |     def generate_self_signed_certificate(
    |

coffeebreak/ssl/manager.py:270:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
269 |         except Exception as e:
270 |             raise SSLError(f"Failed to generate self-signed certificate: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
271 |
272 |     def check_certificate_expiration(self, cert_path: str) -> Dict[str, Any]:
    |

coffeebreak/ssl/manager.py:311:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
310 |         except Exception as e:
311 |             raise SSLError(f"Failed to check certificate expiration: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
312 |
313 |     def backup_certificates(self, cert_dir: str, backup_dir: str, domain: str) -> str:
    |

coffeebreak/ssl/manager.py:352:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
351 |         except Exception as e:
352 |             raise SSLError(f"Failed to backup certificates: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
353 |
354 |     def install_certificate(
    |

coffeebreak/ssl/manager.py:419:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
418 |         except Exception as e:
419 |             raise SSLError(f"Failed to install certificate: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
420 |
421 |     def get_certificate_info(self, cert_path: str) -> Dict[str, Any]:
    |

coffeebreak/ssl/manager.py:496:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
495 |         except Exception as e:
496 |             raise SSLError(f"Failed to get certificate info: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
    |

coffeebreak/templates/keycloak.py:38:89: E501 Line too long (99 > 88)
   |
37 | # Ensure the /exports directory exists and contains the necessary files
38 | RUN mkdir -p /opt/keycloak/data/import && echo "Ensure this directory contains the necessary files"
   |                                                                                         ^^^^^^^^^^^ E501
39 |
40 | # 🔹 Step 2: Create the final image
   |

coffeebreak/templates/keycloak.py:69:89: E501 Line too long (112 > 88)
   |
68 | # Start Keycloak in PRODUCTION mode with development theme caching disabled
69 | ENTRYPOINT ["/opt/keycloak/bin/kc.sh", "start", "--optimized", "--proxy-headers", "forwarded", "--import-realm"]
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^ E501
70 | """
   |

coffeebreak/utils/errors.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Error handling utilities for CoffeeBreak CLI."""
2 |
3 | / import sys
4 | | import traceback
5 | | from typing import Optional, Dict, Any
6 | | import click
  | |____________^ I001
  |
  = help: Organize imports

coffeebreak/utils/errors.py:5:30: F401 [*] `typing.Dict` imported but unused
  |
3 | import sys
4 | import traceback
5 | from typing import Optional, Dict, Any
  |                              ^^^^ F401
6 | import click
  |
  = help: Remove unused import

coffeebreak/utils/errors.py:5:36: F401 [*] `typing.Any` imported but unused
  |
3 | import sys
4 | import traceback
5 | from typing import Optional, Dict, Any
  |                                    ^^^ F401
6 | import click
  |
  = help: Remove unused import

coffeebreak/utils/files.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """File operations utilities for CoffeeBreak CLI."""
2 |
3 | / import os
4 | | import stat
5 | | from typing import Dict, List, Optional
6 | | from jinja2 import Environment, FileSystemLoader, Template
  | |__________________________________________________________^ I001
  |
  = help: Organize imports

coffeebreak/utils/files.py:5:32: F401 [*] `typing.Optional` imported but unused
  |
3 | import os
4 | import stat
5 | from typing import Dict, List, Optional
  |                                ^^^^^^^^ F401
6 | from jinja2 import Environment, FileSystemLoader, Template
  |
  = help: Remove unused import: `typing.Optional`

coffeebreak/utils/files.py:6:20: F401 [*] `jinja2.Environment` imported but unused
  |
4 | import stat
5 | from typing import Dict, List, Optional
6 | from jinja2 import Environment, FileSystemLoader, Template
  |                    ^^^^^^^^^^^ F401
  |
  = help: Remove unused import

coffeebreak/utils/files.py:6:33: F401 [*] `jinja2.FileSystemLoader` imported but unused
  |
4 | import stat
5 | from typing import Dict, List, Optional
6 | from jinja2 import Environment, FileSystemLoader, Template
  |                                 ^^^^^^^^^^^^^^^^ F401
  |
  = help: Remove unused import

coffeebreak/utils/files.py:6:51: F401 [*] `jinja2.Template` imported but unused
  |
4 | import stat
5 | from typing import Dict, List, Optional
6 | from jinja2 import Environment, FileSystemLoader, Template
  |                                                   ^^^^^^^^ F401
  |
  = help: Remove unused import

coffeebreak/utils/files.py:160:29: UP015 [*] Unnecessary mode argument
    |
158 |         existing_content = ""
159 |         if os.path.exists(path):
160 |             with open(path, "r", encoding="utf-8") as f:
    |                             ^^^ UP015
161 |                 existing_content = f.read()
    |
    = help: Remove mode argument

coffeebreak/utils/files.py:269:89: E501 Line too long (97 > 88)
    |
268 |     def _generate_development_secrets(self) -> Dict[str, str]:
269 |         """Generate development secrets matching orchestrator variables and test expectations."""
    |                                                                                         ^^^^^^^^^ E501
270 |         import secrets
271 |         import string
    |

coffeebreak/utils/npm.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """NPM dependency management for CoffeeBreak CLI."""
2 |
3 | / import json
4 | | import os
5 | | import subprocess
6 | | import shutil
7 | | from pathlib import Path
8 | | from typing import Dict, List, Optional, Tuple, Any
  | |___________________________________________________^ I001
  |
  = help: Organize imports

coffeebreak/utils/npm.py:4:8: F401 [*] `os` imported but unused
  |
3 | import json
4 | import os
  |        ^^ F401
5 | import subprocess
6 | import shutil
  |
  = help: Remove unused import: `os`

coffeebreak/utils/npm.py:71:42: UP015 [*] Unnecessary mode argument
   |
69 |                 return True, "No package.json found, skipping Node.js version check"
70 |
71 |             with open(package_json_path, "r") as f:
   |                                          ^^^ UP015
72 |                 package_data = json.load(f)
   |
   = help: Remove mode argument

coffeebreak/utils/npm.py:147:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
146 |         except subprocess.TimeoutExpired:
147 |             raise NPMManagerError(f"npm install timed out in {repo_path}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
148 |         except Exception as e:
149 |             raise NPMManagerError(f"Error installing npm dependencies: {e}")
    |

coffeebreak/utils/npm.py:149:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
147 |             raise NPMManagerError(f"npm install timed out in {repo_path}")
148 |         except Exception as e:
149 |             raise NPMManagerError(f"Error installing npm dependencies: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
150 |
151 |     def clean_install(self, repo_path: str) -> bool:
    |

coffeebreak/utils/npm.py:210:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
209 |         except subprocess.TimeoutExpired:
210 |             raise NPMManagerError(f"npm ci timed out in {repo_path}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
211 |         except Exception as e:
212 |             if self.verbose:
    |

coffeebreak/utils/npm.py:231:42: UP015 [*] Unnecessary mode argument
    |
229 |                 return True, []
230 |
231 |             with open(package_json_path, "r") as f:
    |                                          ^^^ UP015
232 |                 package_data = json.load(f)
    |
    = help: Remove mode argument

coffeebreak/utils/npm.py:273:42: UP015 [*] Unnecessary mode argument
    |
271 |                 return None
272 |
273 |             with open(package_json_path, "r") as f:
    |                                          ^^^ UP015
274 |                 package_data = json.load(f)
    |
    = help: Remove mode argument

coffeebreak/validation/__init__.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Production validation system for CoffeeBreak deployments."""
2 |
3 | / from .validator import ProductionValidator
4 | | from .health import HealthChecker
5 | | from .security import SecurityValidator
  | |_______________________________________^ I001
6 |
7 |   __all__ = ["ProductionValidator", "HealthChecker", "SecurityValidator"]
  |
  = help: Organize imports

coffeebreak/validation/health.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Health checking system for production deployments."""
 2 |
 3 | / import requests
 4 | | import time
 5 | | import subprocess
 6 | | from datetime import datetime
 7 | | from typing import Dict, Any, List, Optional
 8 | | import json
 9 | |
10 | | from ..utils.errors import ValidationError
   | |__________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/validation/health.py:7:31: F401 [*] `typing.List` imported but unused
  |
5 | import subprocess
6 | from datetime import datetime
7 | from typing import Dict, Any, List, Optional
  |                               ^^^^ F401
8 | import json
  |
  = help: Remove unused import

coffeebreak/validation/health.py:7:37: F401 [*] `typing.Optional` imported but unused
  |
5 | import subprocess
6 | from datetime import datetime
7 | from typing import Dict, Any, List, Optional
  |                                     ^^^^^^^^ F401
8 | import json
  |
  = help: Remove unused import

coffeebreak/validation/health.py:8:8: F401 [*] `json` imported but unused
   |
 6 | from datetime import datetime
 7 | from typing import Dict, Any, List, Optional
 8 | import json
   |        ^^^^ F401
 9 |
10 | from ..utils.errors import ValidationError
   |
   = help: Remove unused import: `json`

coffeebreak/validation/health.py:10:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 8 | import json
 9 |
10 | from ..utils.errors import ValidationError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/validation/health.py:84:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
83 |         except Exception as e:
84 |             raise ValidationError(f"Health check failed: {e}")
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
85 |
86 |     def _check_http_connectivity(self, domain: str, timeout: int) -> Dict[str, Any]:
   |

coffeebreak/validation/health.py:165:13: I001 [*] Import block is un-sorted or un-formatted
    |
164 |           try:
165 | /             import ssl
166 | |             import socket
    | |_________________________^ I001
167 |
168 |               # Create SSL context
    |
    = help: Organize imports

coffeebreak/validation/health.py:271:25: E722 Do not use bare `except`
    |
269 |                             health_data = response.json()
270 |                             successful_endpoints[-1]["health_data"] = health_data
271 |                         except:
    |                         ^^^^^^ E722
272 |                             successful_endpoints[-1]["content"] = response.text[:200]
    |

coffeebreak/validation/health.py:459:21: E722 Do not use bare `except`
    |
457 |                             elif "Main PID:" in line:
458 |                                 service_statuses[service]["pid_info"] = line.strip()
459 |                     except:
    |                     ^^^^^^ E722
460 |                         pass  # Additional info is optional
    |

coffeebreak/validation/health.py:514:17: B007 Loop control variable `i` not used within loop body
    |
512 |             response_times = []
513 |
514 |             for i in range(3):  # Test 3 times
    |                 ^ B007
515 |                 try:
516 |                     start_time = time.time()
    |
    = help: Rename unused `i` to `_i`

coffeebreak/validation/health.py:517:21: F841 Local variable `response` is assigned to but never used
    |
515 |                 try:
516 |                     start_time = time.time()
517 |                     response = requests.get(
    |                     ^^^^^^^^ F841
518 |                         f"https://{domain}", timeout=timeout, verify=False
519 |                     )
    |
    = help: Remove assignment to unused variable `response`

coffeebreak/validation/health.py:522:17: E722 Do not use bare `except`
    |
520 |                     response_time = (time.time() - start_time) * 1000
521 |                     response_times.append(response_time)
522 |                 except:
    |                 ^^^^^^ E722
523 |                     continue
    |

coffeebreak/validation/health.py:595:89: E501 Line too long (92 > 88)
    |
593 |                 check_result["status"] = "healthy"
594 |                 check_result["details"]["message"] = (
595 |                     f"Good security headers: {len(present_headers)}/{len(security_headers)}"
    |                                                                                         ^^^^ E501
596 |                 )
597 |             elif header_score >= 0.5:  # 50% or more headers present
    |

coffeebreak/validation/health.py:621:9: F841 Local variable `healthy_count` is assigned to but never used
    |
620 |         # Count status types
621 |         healthy_count = sum(1 for check in all_checks if check["status"] == "healthy")
    |         ^^^^^^^^^^^^^ F841
622 |         warning_count = sum(1 for check in all_checks if check["status"] == "warning")
623 |         unhealthy_count = sum(
    |
    = help: Remove assignment to unused variable `healthy_count`

coffeebreak/validation/security.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Security validation for production deployments."""
 2 |
 3 | / import os
 4 | | import subprocess
 5 | | import requests
 6 | | from pathlib import Path
 7 | | from typing import Dict, Any, List, Optional
 8 | | import yaml
 9 | |
10 | | from ..utils.errors import SecurityError
   | |________________________________________^ I001
   |
   = help: Organize imports

coffeebreak/validation/security.py:7:31: F401 [*] `typing.List` imported but unused
  |
5 | import requests
6 | from pathlib import Path
7 | from typing import Dict, Any, List, Optional
  |                               ^^^^ F401
8 | import yaml
  |
  = help: Remove unused import

coffeebreak/validation/security.py:7:37: F401 [*] `typing.Optional` imported but unused
  |
5 | import requests
6 | from pathlib import Path
7 | from typing import Dict, Any, List, Optional
  |                                     ^^^^^^^^ F401
8 | import yaml
  |
  = help: Remove unused import

coffeebreak/validation/security.py:8:8: F401 [*] `yaml` imported but unused
   |
 6 | from pathlib import Path
 7 | from typing import Dict, Any, List, Optional
 8 | import yaml
   |        ^^^^ F401
 9 |
10 | from ..utils.errors import SecurityError
   |
   = help: Remove unused import: `yaml`

coffeebreak/validation/security.py:10:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 8 | import yaml
 9 |
10 | from ..utils.errors import SecurityError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/validation/security.py:91:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   |
90 |         except Exception as e:
91 |             raise SecurityError(f"Security validation failed: {e}")
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
92 |
93 |     def _validate_file_permissions(self, deployment_type: str) -> Dict[str, Any]:
   |

coffeebreak/validation/security.py:112:50: B007 Loop control variable `expected_owner` not used within loop body
    |
110 |                 ]
111 |
112 |                 for path_pattern, expected_mode, expected_owner in critical_paths:
    |                                                  ^^^^^^^^^^^^^^ B007
113 |                     if "*" in path_pattern:
114 |                         # Handle glob patterns
    |
    = help: Rename unused `expected_owner` to `_expected_owner`

coffeebreak/validation/security.py:133:89: E501 Line too long (122 > 88)
    |
131 |                             else:
132 |                                 validation["issues"].append(
133 |                                     f"Incorrect permissions: {path} has {oct(actual_mode)}, expected {oct(expected_mode)}"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
134 |                                 )
135 |                         else:
    |

coffeebreak/validation/security.py:158:89: E501 Line too long (121 > 88)
    |
156 |                         else:
157 |                             validation["warnings"].append(
158 |                                 f"Overly permissive: {path} has {oct(actual_mode)}, recommended max {oct(expected_mode)}"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
159 |                             )
    |

coffeebreak/validation/security.py:190:9: C901 `_validate_secret_storage` is too complex (18 > 15)
    |
188 |         return validation
189 |
190 |     def _validate_secret_storage(self, deployment_type: str) -> Dict[str, Any]:
    |         ^^^^^^^^^^^^^^^^^^^^^^^^ C901
191 |         """Validate secret storage security."""
192 |         validation = {
    |

coffeebreak/validation/security.py:204:53: UP015 [*] Unnecessary mode argument
    |
202 |                 # Check Docker secrets usage
203 |                 if os.path.exists("docker-compose.yml"):
204 |                     with open("docker-compose.yml", "r") as f:
    |                                                     ^^^ UP015
205 |                         compose_content = f.read()
    |
    = help: Remove mode argument

coffeebreak/validation/security.py:230:89: E501 Line too long (100 > 88)
    |
228 | …                     if "${" not in line:  # Not using environment variables
229 | …                         validation["issues"].append(
230 | …                             f"Potential plaintext secret in docker-compose.yml line {i}"
    |                                                                               ^^^^^^^^^^^^ E501
231 | …                         )
    |

coffeebreak/validation/security.py:263:41: UP015 [*] Unnecessary mode argument
    |
261 |             for env_file in env_files:
262 |                 if os.path.exists(env_file):
263 |                     with open(env_file, "r") as f:
    |                                         ^^^ UP015
264 |                         content = f.read()
    |
    = help: Remove mode argument

coffeebreak/validation/security.py:285:89: E501 Line too long (92 > 88)
    |
283 | …                     ):
284 | …                         validation["warnings"].append(
285 | …                             f"Potential hardcoded secret in {env_file} line {i}"
    |                                                                               ^^^^ E501
286 | …                         )
    |

coffeebreak/validation/security.py:296:9: C901 `_validate_network_security` is too complex (17 > 15)
    |
294 |         return validation
295 |
296 |     def _validate_network_security(self, domain: str) -> Dict[str, Any]:
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ C901
297 |         """Validate network security configuration."""
298 |         validation = {
    |

coffeebreak/validation/security.py:390:89: E501 Line too long (91 > 88)
    |
388 |                         else:
389 |                             validation["issues"].append(
390 |                                 f"Database/service port {port} is accessible from internet"
    |                                                                                         ^^^ E501
391 |                             )
    |

coffeebreak/validation/security.py:415:13: I001 [*] Import block is un-sorted or un-formatted
    |
414 |           try:
415 | /             import ssl
416 | |             import socket
    | |_________________________^ I001
417 |
418 |               # Test SSL connection
    |
    = help: Organize imports

coffeebreak/validation/security.py:458:21: F841 Local variable `cert` is assigned to but never used
    |
457 |                     # Check certificate
458 |                     cert = ssock.getpeercert()
    |                     ^^^^ F841
459 |
460 |                     # Check key size (if available in cert)
    |
    = help: Remove assignment to unused variable `cert`

coffeebreak/validation/security.py:500:49: UP015 [*] Unnecessary mode argument
    |
498 |                 for service_file in service_files:
499 |                     if os.path.exists(service_file):
500 |                         with open(service_file, "r") as f:
    |                                                 ^^^ UP015
501 |                             content = f.read()
    |
    = help: Remove mode argument

coffeebreak/validation/security.py:518:89: E501 Line too long (92 > 88)
    |
516 |                         if len(found_settings) >= 3:
517 |                             validation["checks"].append(
518 |                                 f"Good systemd security in {os.path.basename(service_file)}"
    |                                                                                         ^^^^ E501
519 |                             )
520 |                             validation["score"] += 5
    |

coffeebreak/validation/security.py:523:89: E501 Line too long (104 > 88)
    |
521 |                         else:
522 |                             validation["warnings"].append(
523 |                                 f"Missing systemd security settings in {os.path.basename(service_file)}"
    |                                                                                         ^^^^^^^^^^^^^^^^ E501
524 |                             )
    |

coffeebreak/validation/security.py:529:53: UP015 [*] Unnecessary mode argument
    |
527 |                 # Check Docker security
528 |                 if os.path.exists("docker-compose.yml"):
529 |                     with open("docker-compose.yml", "r") as f:
    |                                                     ^^^ UP015
530 |                         compose_content = f.read()
    |
    = help: Remove mode argument

coffeebreak/validation/security.py:633:44: UP015 [*] Unnecessary mode argument
    |
631 |             ssh_config_file = "/etc/ssh/sshd_config"
632 |             if os.path.exists(ssh_config_file):
633 |                 with open(ssh_config_file, "r") as f:
    |                                            ^^^ UP015
634 |                     ssh_config = f.read()
    |
    = help: Remove mode argument

coffeebreak/validation/security.py:742:21: E722 Do not use bare `except`
    |
740 |                                     f"Potential information disclosure: {test_path}"
741 |                                 )
742 |                     except:
    |                     ^^^^^^ E722
743 |                         continue  # Expected to fail
    |

coffeebreak/validation/security.py:808:89: E501 Line too long (98 > 88)
    |
806 |                     if backup_files:
807 |                         validation["checks"].append(
808 |                             f"Found {len(backup_files)} backup files with appropriate permissions"
    |                                                                                         ^^^^^^^^^^ E501
809 |                         )
    |

coffeebreak/validation/security.py:816:39: UP015 [*] Unnecessary mode argument
    |
814 |             for script in backup_scripts:
815 |                 if os.path.exists(script):
816 |                     with open(script, "r") as f:
    |                                       ^^^ UP015
817 |                         content = f.read()
    |
    = help: Remove mode argument

coffeebreak/validation/validator.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Production configuration validation."""
 2 |
 3 | / import os
 4 | | import subprocess
 5 | | import requests
 6 | | from datetime import datetime
 7 | | from pathlib import Path
 8 | | from typing import Dict, Any, List, Optional
 9 | | import yaml
10 | |
11 | | from ..utils.errors import ValidationError
12 | | from ..secrets import SecretManager
13 | | from ..ssl import SSLManager
14 | | from .health import HealthChecker
15 | | from .security import SecurityValidator
   | |_______________________________________^ I001
   |
   = help: Organize imports

coffeebreak/validation/validator.py:5:8: F401 [*] `requests` imported but unused
  |
3 | import os
4 | import subprocess
5 | import requests
  |        ^^^^^^^^ F401
6 | from datetime import datetime
7 | from pathlib import Path
  |
  = help: Remove unused import: `requests`

coffeebreak/validation/validator.py:7:21: F401 [*] `pathlib.Path` imported but unused
  |
5 | import requests
6 | from datetime import datetime
7 | from pathlib import Path
  |                     ^^^^ F401
8 | from typing import Dict, Any, List, Optional
9 | import yaml
  |
  = help: Remove unused import: `pathlib.Path`

coffeebreak/validation/validator.py:11:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
 9 | import yaml
10 |
11 | from ..utils.errors import ValidationError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
12 | from ..secrets import SecretManager
13 | from ..ssl import SSLManager
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/validation/validator.py:12:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
11 | from ..utils.errors import ValidationError
12 | from ..secrets import SecretManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
13 | from ..ssl import SSLManager
14 | from .health import HealthChecker
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/validation/validator.py:13:1: TID252 Prefer absolute imports over relative imports from parent modules
   |
11 | from ..utils.errors import ValidationError
12 | from ..secrets import SecretManager
13 | from ..ssl import SSLManager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ TID252
14 | from .health import HealthChecker
15 | from .security import SecurityValidator
   |
   = help: Replace relative imports from parent modules with absolute imports

coffeebreak/validation/validator.py:127:89: E501 Line too long (94 > 88)
    |
125 |                 warnings = len(validation_result["warnings"])
126 |                 print(
127 |                     f"Validation completed: {status} ({issues} critical, {warnings} warnings)"
    |                                                                                         ^^^^^^ E501
128 |                 )
    |

coffeebreak/validation/validator.py:133:13: B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
    |
132 |         except Exception as e:
133 |             raise ValidationError(f"Production validation failed: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ B904
134 |
135 |     def _validate_configuration(self, config_path: Optional[str]) -> Dict[str, Any]:
    |

coffeebreak/validation/validator.py:150:52: UP015 [*] Unnecessary mode argument
    |
148 |                     if config_file.endswith(".yml") or config_file.endswith(".yaml"):
149 |                         try:
150 |                             with open(config_file, "r") as f:
    |                                                    ^^^ UP015
151 |                                 yaml.safe_load(f)
152 |                             validation["checks"].append(
    |
    = help: Remove mode argument

coffeebreak/validation/validator.py:174:41: UP015 [*] Unnecessary mode argument
    |
172 |                     missing_vars = []
173 |
174 |                     with open(env_file, "r") as f:
    |                                         ^^^ UP015
175 |                         content = f.read()
176 |                         for var in required_vars:
    |
    = help: Remove mode argument

coffeebreak/validation/validator.py:694:13: F541 [*] f-string without any placeholders
    |
692 |             f"/etc/letsencrypt/live/{domain}",
693 |             f"/etc/ssl/certs/{domain}",
694 |             f"/opt/coffeebreak/ssl",
    |             ^^^^^^^^^^^^^^^^^^^^^^^ F541
695 |             "./ssl/certs",
696 |             "./ssl",
    |
    = help: Remove extraneous `f` prefix

setup.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Setup configuration for CoffeeBreak CLI."""
2 |
3 | / from setuptools import setup, find_packages
4 | | import os
5 | | import sys
  | |__________^ I001
6 |
7 |   here = os.path.abspath(os.path.dirname(__file__))
  |
  = help: Organize imports

setup.py:15:1: E402 Module level import not at top of file
   |
13 | # Import version and author from package
14 | sys.path.insert(0, os.path.join(here, "coffeebreak"))
15 | from coffeebreak import __version__, __author__
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E402
16 |
17 | setup(
   |

setup.py:15:1: I001 [*] Import block is un-sorted or un-formatted
   |
13 | # Import version and author from package
14 | sys.path.insert(0, os.path.join(here, "coffeebreak"))
15 | from coffeebreak import __version__, __author__
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ I001
16 |
17 | setup(
   |
   = help: Organize imports

tests/conftest.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Pytest configuration and shared fixtures."""
2 |
3 | / import os
4 | | import tempfile
5 | | import pytest
6 | | from unittest.mock import MagicMock
  | |___________________________________^ I001
  |
  = help: Organize imports

tests/test_cli_commands.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Tests for CLI commands."""
 2 |
 3 | / import pytest
 4 | | import sys
 5 | | from unittest.mock import patch, MagicMock, mock_open
 6 | | from click.testing import CliRunner
 7 | |
 8 | | import coffeebreak.environments.plugin
   | |______________________________________^ I001
 9 |
10 |   # Mock docker module for testing
   |
   = help: Organize imports

tests/test_cli_commands.py:3:8: F401 [*] `pytest` imported but unused
  |
1 | """Tests for CLI commands."""
2 |
3 | import pytest
  |        ^^^^^^ F401
4 | import sys
5 | from unittest.mock import patch, MagicMock, mock_open
  |
  = help: Remove unused import: `pytest`

tests/test_cli_commands.py:8:8: F401 [*] `coffeebreak.environments.plugin` imported but unused
   |
 6 | from click.testing import CliRunner
 7 |
 8 | import coffeebreak.environments.plugin
   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ F401
 9 |
10 | # Mock docker module for testing
   |
   = help: Remove unused import: `coffeebreak.environments.plugin`

tests/test_cli_commands.py:13:1: E402 Module level import not at top of file
   |
11 | sys.modules["docker"] = MagicMock()
12 |
13 | from coffeebreak.cli import cli
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E402
   |

tests/test_cli_commands.py:54:59: F841 Local variable `mock_config` is assigned to but never used
   |
52 |     def test_init_dev_command(self):
53 |         """Test init dev command."""
54 |         with patch("coffeebreak.config.ConfigManager") as mock_config:
   |                                                           ^^^^^^^^^^^ F841
55 |             with patch(
56 |                 "coffeebreak.environments.DevelopmentEnvironment"
   |
   = help: Remove assignment to unused variable `mock_config`

tests/test_cli_commands.py:452:69: F841 Local variable `mock_config` is assigned to but never used
    |
450 |         with patch(
451 |             "coffeebreak.environments.plugin.PluginEnvironment"
452 |         ) as mock_env, patch("coffeebreak.config.ConfigManager") as mock_config, patch(
    |                                                                     ^^^^^^^^^^^ F841
453 |             "os.path.getsize", return_value=1024
454 |         ):
    |
    = help: Remove assignment to unused variable `mock_config`

tests/test_cli_commands.py:486:54: F841 Local variable `mock_json_dump` is assigned to but never used
    |
484 | …                     with patch(
485 | …                         "json.dump"
486 | …                     ) as mock_json_dump:
    |                            ^^^^^^^^^^^^^^ F841
487 | …                         with patch(
488 | …                             "tarfile.open"
    |
    = help: Remove assignment to unused variable `mock_json_dump`

tests/test_cli_commands.py:490:89: E501 Line too long (124 > 88)
    |
488 | …                         "tarfile.open"
489 | …                     ) as mock_tar:
490 | …                         mock_temp_dir.return_value.__enter__.return_value = "/tmp/test_temp"
    |                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
491 | …                         mock_temp_dir.return_value.__exit__.return_value = None
    |

tests/test_cli_commands.py:491:89: E501 Line too long (111 > 88)
    |
489 |                                                     ) as mock_tar:
490 |                                                         mock_temp_dir.return_value.__enter__.return_value = "/tmp/test_temp"
491 |                                                         mock_temp_dir.return_value.__exit__.return_value = None
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^ E501
492 |
493 |                                                         mock_plugin_env_instance = (
    |

tests/test_cli_commands.py:496:89: E501 Line too long (113 > 88)
    |
494 | …                         MagicMock()
495 | …                     )
496 | …                     mock_plugin_env_instance.get_plugin_info.return_value = {
    |                                                       ^^^^^^^^^^^^^^^^^^^^^^^^^ E501
497 | …                         "name": "test-plugin",
498 | …                         "version": "1.0.0",
    |

tests/test_cli_commands.py:499:89: E501 Line too long (89 > 88)
    |
497 | …                         "name": "test-plugin",
498 | …                         "version": "1.0.0",
499 | …                         "description": "Test plugin",
    |                                                       ^ E501
500 | …                         "author": "Test Author",
501 | …                     }
    |

tests/test_cli_commands.py:502:89: E501 Line too long (113 > 88)
    |
500 | …                         "author": "Test Author",
501 | …                     }
502 | …                     mock_plugin_env_instance.validate_plugin.return_value = {
    |                                                       ^^^^^^^^^^^^^^^^^^^^^^^^^ E501
503 | …                         "valid": True,
504 | …                         "errors": [],
    |

tests/test_cli_commands.py:506:89: E501 Line too long (110 > 88)
    |
504 | …                         "errors": [],
505 | …                     }
506 | …                     mock_plugin_env_instance.build_plugin.return_value = {
    |                                                       ^^^^^^^^^^^^^^^^^^^^^^ E501
507 | …                         "success": True
508 | …                     }
    |

tests/test_cli_commands.py:514:89: E501 Line too long (120 > 88)
    |
513 |                                                         mock_tar_instance = MagicMock()
514 |                                                         mock_tar.return_value.__enter__.return_value = mock_tar_instance
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
515 |
516 |                                                         result = self.runner.invoke(
    |

tests/test_cli_commands.py:528:89: E501 Line too long (92 > 88)
    |
526 | …                     )
527 | …                     print(
528 | …                         f"Exception: {result.exception}"
    |                                                       ^^^^ E501
529 | …                     )
530 | …                     assert result.exit_code == 0
    |

tests/test_cli_commands.py:617:56: F841 Local variable `mock_json_dump` is assigned to but never used
    |
615 |                     ):
616 |                         with patch("tarfile.open") as mock_tar:
617 |                             with patch("json.dump") as mock_json_dump:
    |                                                        ^^^^^^^^^^^^^^ F841
618 |                                 with patch("datetime.datetime") as mock_datetime:
619 |                                     with patch(
    |
    = help: Remove assignment to unused variable `mock_json_dump`

tests/test_cli_commands.py:623:71: F841 Local variable `mock_chmod` is assigned to but never used
    |
621 | …                     ):
622 | …                         with patch("os.path.exists", return_value=True):
623 | …                             with patch("os.chmod") as mock_chmod:
    |                                                         ^^^^^^^^^^ F841
624 | …                                 with patch(
625 | …                                     "os.urandom",
    |
    = help: Remove assignment to unused variable `mock_chmod`

tests/test_cli_commands.py:630:58: F841 Local variable `mock_remove` is assigned to but never used
    |
628 | …                     with patch(
629 | …                         "os.remove"
630 | …                     ) as mock_remove:
    |                            ^^^^^^^^^^^ F841
631 | …                         with patch(
632 | …                             "os.path.getsize",
    |
    = help: Remove assignment to unused variable `mock_remove`

tests/test_cli_commands.py:635:89: E501 Line too long (132 > 88)
    |
633 | …                         return_value=1024,
634 | …                     ):
635 | …                         mock_datetime.now.return_value.strftime.return_value = "20230101_120000"
    |                                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
636 | …                         mock_datetime.now.return_value.isoformat.return_value = "2023-01-01T12:00:00"
    |

tests/test_cli_commands.py:636:89: E501 Line too long (137 > 88)
    |
634 | …       ):
635 | …           mock_datetime.now.return_value.strftime.return_value = "20230101_120000"
636 | …           mock_datetime.now.return_value.isoformat.return_value = "2023-01-01T12:00:00"
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
637 | …
638 | …           mock_detector_instance = (
    |

tests/test_cli_commands.py:641:89: E501 Line too long (130 > 88)
    |
639 | …                         MagicMock()
640 | …                     )
641 | …                     mock_detector_instance.detect_environment.return_value = "development"
    |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
642 | …                     mock_detector.return_value = mock_detector_instance
    |

tests/test_cli_commands.py:642:89: E501 Line too long (111 > 88)
    |
640 |                                                             )
641 |                                                             mock_detector_instance.detect_environment.return_value = "development"
642 |                                                             mock_detector.return_value = mock_detector_instance
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^ E501
643 |
644 |                                                             mock_secrets_instance = (
    |

tests/test_cli_commands.py:647:89: E501 Line too long (109 > 88)
    |
645 |                                                                 MagicMock()
646 |                                                             )
647 |                                                             mock_secrets.return_value = mock_secrets_instance
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^ E501
648 |
649 |                                                             mock_tar_instance = (
    |

tests/test_cli_commands.py:652:89: E501 Line too long (124 > 88)
    |
650 |                                                                 MagicMock()
651 |                                                             )
652 |                                                             mock_tar.return_value.__enter__.return_value = mock_tar_instance
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E501
653 |
654 |                                                             result = self.runner.invoke(
    |

tests/test_cli_commands.py:659:89: E501 Line too long (90 > 88)
    |
657 | …                     )
658 | …                     print(
659 | …                         f"Output: {result.output}"
    |                                                   ^^ E501
660 | …                     )
661 | …                     print(
    |

tests/test_cli_commands.py:662:89: E501 Line too long (96 > 88)
    |
660 | …                     )
661 | …                     print(
662 | …                         f"Exception: {result.exception}"
    |                                                   ^^^^^^^^ E501
663 | …                     )
664 | …                     assert result.exit_code == 0
    |

tests/test_config.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Tests for configuration management."""
 2 |
 3 | / import os
 4 | | import tempfile
 5 | | import pytest
 6 | | from unittest.mock import patch, mock_open
 7 | | import yaml
 8 | |
 9 | | from coffeebreak.config.manager import ConfigManager
10 | | from coffeebreak.config.validator import ConfigValidationError
11 | | from coffeebreak.environments.detector import EnvironmentType
   | |_____________________________________________________________^ I001
   |
   = help: Organize imports

tests/test_config.py:3:8: F401 [*] `os` imported but unused
  |
1 | """Tests for configuration management."""
2 |
3 | import os
  |        ^^ F401
4 | import tempfile
5 | import pytest
  |
  = help: Remove unused import: `os`

tests/test_config.py:10:42: F401 [*] `coffeebreak.config.validator.ConfigValidationError` imported but unused
   |
 9 | from coffeebreak.config.manager import ConfigManager
10 | from coffeebreak.config.validator import ConfigValidationError
   |                                          ^^^^^^^^^^^^^^^^^^^^^ F401
11 | from coffeebreak.environments.detector import EnvironmentType
   |
   = help: Remove unused import: `coffeebreak.config.validator.ConfigValidationError`

tests/test_error_handling.py:3:1: I001 [*] Import block is un-sorted or un-formatted
   |
 1 |   """Tests for error handling system."""
 2 |
 3 | / import pytest
 4 | | from unittest.mock import patch, MagicMock
 5 | | import click
 6 | | from click.testing import CliRunner
 7 | |
 8 | | from coffeebreak.utils.errors import (
 9 | |     ErrorHandler,
10 | |     CoffeeBreakError,
11 | |     ConfigurationError,
12 | |     GitError,
13 | |     DockerError,
14 | |     create_error_suggestions,
15 | |     format_validation_errors,
16 | |     safe_operation,
17 | | )
   | |_^ I001
   |
   = help: Organize imports

tests/test_error_handling.py:3:8: F401 [*] `pytest` imported but unused
  |
1 | """Tests for error handling system."""
2 |
3 | import pytest
  |        ^^^^^^ F401
4 | from unittest.mock import patch, MagicMock
5 | import click
  |
  = help: Remove unused import: `pytest`

tests/test_error_handling.py:4:34: F401 [*] `unittest.mock.MagicMock` imported but unused
  |
3 | import pytest
4 | from unittest.mock import patch, MagicMock
  |                                  ^^^^^^^^^ F401
5 | import click
6 | from click.testing import CliRunner
  |
  = help: Remove unused import: `unittest.mock.MagicMock`

tests/test_error_handling.py:109:37: F841 Local variable `mock_echo` is assigned to but never used
    |
107 |         error = CoffeeBreakError("Test error")
108 |
109 |         with patch("click.echo") as mock_echo:
    |                                     ^^^^^^^^^ F841
110 |             with patch("traceback.print_exc") as mock_traceback:
111 |                 self.verbose_handler.handle_error(error)
    |
    = help: Remove assignment to unused variable `mock_echo`

tests/test_file_operations.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Tests for file operations."""
2 |
3 | / import os
4 | | import tempfile
5 | | import pytest
6 | | from unittest.mock import patch, mock_open
7 | |
8 | | from coffeebreak.utils.files import FileManager
  | |_______________________________________________^ I001
  |
  = help: Organize imports

tests/test_file_operations.py:6:27: F401 [*] `unittest.mock.patch` imported but unused
  |
4 | import tempfile
5 | import pytest
6 | from unittest.mock import patch, mock_open
  |                           ^^^^^ F401
7 |
8 | from coffeebreak.utils.files import FileManager
  |
  = help: Remove unused import

tests/test_file_operations.py:6:34: F401 [*] `unittest.mock.mock_open` imported but unused
  |
4 | import tempfile
5 | import pytest
6 | from unittest.mock import patch, mock_open
  |                                  ^^^^^^^^^ F401
7 |
8 | from coffeebreak.utils.files import FileManager
  |
  = help: Remove unused import

tests/test_file_operations.py:38:32: UP015 [*] Unnecessary mode argument
   |
37 |         # Verify file contents
38 |         with open(output_path, "r") as f:
   |                                ^^^ UP015
39 |             content = f.read()
   |
   = help: Remove mode argument

tests/test_file_operations.py:50:9: F841 Local variable `result_path` is assigned to but never used
   |
48 |         output_path = os.path.join(self.temp_dir, ".env.test")
49 |
50 |         result_path = self.file_manager.generate_env_file(
   |         ^^^^^^^^^^^ F841
51 |             connection_info=connection_info,
52 |             output_path=output_path,
   |
   = help: Remove assignment to unused variable `result_path`

tests/test_file_operations.py:56:32: UP015 [*] Unnecessary mode argument
   |
54 |         )
55 |
56 |         with open(output_path, "r") as f:
   |                                ^^^ UP015
57 |             content = f.read()
   |
   = help: Remove mode argument

tests/test_file_operations.py:87:35: UP015 [*] Unnecessary mode argument
   |
85 |         assert os.path.exists(gitignore_path)
86 |
87 |         with open(gitignore_path, "r") as f:
   |                                   ^^^ UP015
88 |             content = f.read()
   |
   = help: Remove mode argument

tests/test_file_operations.py:105:35: UP015 [*] Unnecessary mode argument
    |
103 |         self.file_manager.create_gitignore(gitignore_path)
104 |
105 |         with open(gitignore_path, "r") as f:
    |                                   ^^^ UP015
106 |             content = f.read()
    |
    = help: Remove mode argument

tests/test_file_operations.py:137:33: UP015 [*] Unnecessary mode argument
    |
135 |         assert os.path.isfile(helpers_path)
136 |
137 |         with open(helpers_path, "r") as f:
    |                                 ^^^ UP015
138 |             content = f.read()
139 |         assert "def helper_function()" in content
    |
    = help: Remove mode argument

tests/test_file_operations.py:180:32: UP015 [*] Unnecessary mode argument
    |
179 |         # Verify backup content
180 |         with open(backup_path, "r") as f:
    |                                ^^^ UP015
181 |             backup_content = f.read()
    |
    = help: Remove mode argument

tests/test_git_operations.py:3:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 |   """Tests for Git operations."""
2 |
3 | / import tempfile
4 | | import pytest
5 | | from unittest.mock import patch, MagicMock
6 | | import git
7 | |
8 | | from coffeebreak.git.operations import GitOperations, GitOperationError
  | |_______________________________________________________________________^ I001
  |
  = help: Organize imports

tests/test_git_operations.py:125:20: E712 Avoid equality comparisons to `True`; use `result:` for truth checks
    |
123 |                 "https://github.com/test/repo.git"
124 |             )
125 |             assert result == True
    |                    ^^^^^^^^^^^^^^ E712
126 |
127 |     def test_validate_repository_access_failure(self):
    |
    = help: Replace with `result`

tests/test_git_operations.py:152:20: E712 Avoid equality comparisons to `True`; use `status["exists"]:` for truth checks
    |
150 |             status = self.git_operations.check_repository_status("/test/repo")
151 |
152 |             assert status["exists"] == True
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^ E712
153 |             assert status["is_valid"] == True
154 |             assert status["current_branch"] == "main"
    |
    = help: Replace with `status["exists"]`

tests/test_git_operations.py:153:20: E712 Avoid equality comparisons to `True`; use `status["is_valid"]:` for truth checks
    |
152 |             assert status["exists"] == True
153 |             assert status["is_valid"] == True
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^ E712
154 |             assert status["current_branch"] == "main"
155 |             assert status["has_uncommitted_changes"] == False
    |
    = help: Replace with `status["is_valid"]`

tests/test_git_operations.py:155:20: E712 Avoid equality comparisons to `False`; use `not status["has_uncommitted_changes"]:` for false checks
    |
153 |             assert status["is_valid"] == True
154 |             assert status["current_branch"] == "main"
155 |             assert status["has_uncommitted_changes"] == False
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ E712
156 |
157 |     def test_check_repository_status_invalid_repo(self):
    |
    = help: Replace with `not status["has_uncommitted_changes"]`

tests/test_git_operations.py:163:24: E712 Avoid equality comparisons to `True`; use `status["exists"]:` for truth checks
    |
161 |                 status = self.git_operations.check_repository_status("/test/not-repo")
162 |
163 |                 assert status["exists"] == True
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^ E712
164 |                 assert status["is_valid"] == False
165 |                 assert "error" in status
    |
    = help: Replace with `status["exists"]`

tests/test_git_operations.py:164:24: E712 Avoid equality comparisons to `False`; use `not status["is_valid"]:` for false checks
    |
163 |                 assert status["exists"] == True
164 |                 assert status["is_valid"] == False
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^ E712
165 |                 assert "error" in status
    |
    = help: Replace with `not status["is_valid"]`

Found 1552 errors.
[*] 336 fixable with the `--fix` option (679 hidden fixes can be enabled with the `--unsafe-fixes` option).
